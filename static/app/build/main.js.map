{"version":3,"sources":["../../src/pages/mail/compose.ts","../../src/app/autocomplete.provider.ts","../../src/pages/mail/mailitem.ts","../../src/app/opengraphparser.service.ts","../../src/app/settings.service.ts","../../src/app/bulletinSecret.service.ts","../../src/app/graph.service.ts","../../src/pages/home/home.ts","../../src/app/peer.service.ts","../../src/pages/chat/chat.ts","../../src/pages/calendar/calendar.ts","../../src/app/firebase.service.ts","../../src/pages/siafiles/siafiles.ts","../../src/pages/web/web.ts","../../src/pages/web/buildpage.ts","../../src/app/transaction.service.ts","../../src/app/wallet.service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/signaturerequest/signaturerequest.ts","../../src/pages/settings/settings.ts","../../src/pages/stream/stream.ts","../../src/pages/sendreceive/sendreceive.ts","../../src/pages/mail/mail.ts","../../src/pages/web/mypages.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/list/list.ts","../../buffer (ignored)","../../crypto (ignored)","../../src/app/groups.ts","../../src/pages/home/postmodal.ts","../../src/pages/group/group.ts","../../src/pages/profile/profile.ts","../../src/app/websocket.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { CompleteTestService } from '../../app/autocomplete.provider';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { AutoCompleteComponent } from 'ionic2-auto-complete';\nimport { GraphService } from '../../app/graph.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { MailPage } from './mail';\nimport { Http } from '@angular/http';\nimport { SettingsService } from '../../app/settings.service';\n\n\ndeclare var X25519\n\n\n@Component({\n  selector: 'compose-profile',\n  templateUrl: 'compose.html'\n})\nexport class ComposePage {\n  item: any;\n  mode: any;\n  recipient: any;\n  subject: any;\n  body: any;\n  thread: any;\n  prevBody: any;\n  collection: any;\n  message_type: any;\n  event_datetime: any;\n  @ViewChild('searchbar')\n  searchbar: AutoCompleteComponent;\n  group: any;\n  filepath: any;\n  filedata: any;\n  skylink: any;\n  busy: any;\n  constructor(\n    public navCtrl: NavController,\n    navParams: NavParams,\n    public completeTestService: CompleteTestService,\n    public graphService: GraphService,\n    public transactionService: TransactionService,\n    public walletService: WalletService,\n    public alertCtrl: AlertController,\n    public bulletinSecretService: BulletinSecretService,\n    public ahttp: Http,\n    public settingsService: SettingsService\n  ) {\n    this.item = navParams.data.item;\n    this.mode = navParams.data.mode || 'new';\n    this.thread = navParams.data.thread;\n    this.recipient = '';\n    this.prevBody = '';\n  }\n\n  ionViewDidEnter() {\n    if (this.mode === 'reply') {\n      this.recipient = this.item.sender\n      this.subject = this.item.subject\n      this.prevBody = this.item.body\n      this.collection = this.item.collection\n    }\n    else if (this.mode === 'replyToAll') {\n      this.recipient = this.item.group\n      this.subject = this.item.subject\n      this.prevBody = this.item.body\n      this.collection = this.item.collection\n    }\n    else if (this.mode === 'forward') {\n      this.subject = this.item.subject\n      this.body = this.item.body\n      this.collection = this.item.collection\n    } else if(this.item && this.item.recipient) {\n      this.recipient = this.item.recipient\n    }\n    if (this.recipient) {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_MAIL : this.settingsService.collections.MAIL;\n    }\n    if (this.item && this.item.message_type) {\n      this.message_type = this.item.message_type;\n    } else {\n      if (this.collection === this.settingsService.collections.MAIL || this.collection === this.settingsService.collections.GROUP_MAIL) {\n        this.message_type = 'mail'\n      } else if (this.collection === this.settingsService.collections.CALENDAR || this.collection === this.settingsService.collections.GROUP_CALENDAR) {\n        this.message_type = 'calendar'\n      }\n      this.message_type = this.message_type || 'mail'\n    }\n  }\n\n  myForm = new FormGroup({\n      searchTerm: new FormControl('', [Validators.required])\n  })\n\n  segmentChanged(e) {\n    this.message_type = e.value;\n    if (this.message_type === 'mail') {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_MAIL : this.settingsService.collections.MAIL;\n    } else if (this.message_type === 'calendar') {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_CALENDAR : this.settingsService.collections.CALENDAR;\n    }\n  }\n\n  changeListener($event) {\n      this.busy = true;\n      this.filepath = $event.target.files[0].name;\n      const reader = new FileReader();\n      reader.readAsDataURL($event.target.files[0]);\n      reader.onload = () => {\n        this.filedata = reader.result.toString().substr(22)\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-upload?filename=' + encodeURIComponent(this.filepath), {file: this.filedata})\n        .subscribe((res) => {\n            const data = res.json();\n            if (!data.skylink) return;\n            this.skylink = data.skylink;\n            this.busy = false\n        })\n      };\n      reader.onerror = () => {};\n  }\n\n  submit() {\n    if (this.message_type === 'mail') {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_MAIL : this.settingsService.collections.MAIL;\n    } else if (this.message_type === 'calendar') {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_CALENDAR : this.settingsService.collections.CALENDAR;\n    }\n    let alert = this.alertCtrl.create();\n    alert.setTitle('Send mail confirmation');\n    alert.setSubTitle('Are you sure?');\n    alert.addButton('Cancel');\n    alert.addButton({\n        text: 'Confirm',\n        handler: (data: any) => {\n            this.walletService.get()\n            .then(() => {\n                const rid = this.graphService.generateRid(\n                  this.bulletinSecretService.identity.username_signature,\n                  this.recipient.username_signature\n                )\n\n                if (this.graphService.isGroup(this.recipient)) {\n                    const requester_rid = this.graphService.generateRid(\n                      this.bulletinSecretService.identity.username_signature,\n                      this.bulletinSecretService.identity.username_signature,\n                      this.collection\n                    )\n                    const requested_rid = this.graphService.generateRid(\n                      this.recipient.username_signature,\n                      this.recipient.username_signature,\n                      this.collection\n                    )\n                    const info = {\n                        relationship: {},\n                        rid: rid,\n                        requester_rid: requester_rid,\n                        requested_rid: requested_rid,\n                        group: true,\n                        group_username_signature: this.recipient.username_signature\n                    }\n                    info.relationship[this.collection] = {\n                        sender: this.bulletinSecretService.identity,\n                        subject: this.subject,\n                        body: this.body,\n                        thread: this.thread,\n                        event_datetime: this.event_datetime,\n                        skylink: this.skylink,\n                        filename: this.filepath\n                    }\n                    return this.transactionService.generateTransaction(info);\n                } else {\n                  const requester_rid = this.graphService.generateRid(\n                    this.bulletinSecretService.identity.username_signature,\n                    this.bulletinSecretService.identity.username_signature,\n                    this.collection\n                  )\n                  const requested_rid = this.graphService.generateRid(\n                    this.recipient.username_signature,\n                    this.recipient.username_signature,\n                    this.collection\n                  )\n                  var dh_public_key = this.graphService.keys[rid].dh_public_keys[0];\n                  var dh_private_key = this.graphService.keys[rid].dh_private_keys[0];\n\n                  if(dh_public_key && dh_private_key) {\n                      var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                          return parseInt(h, 16)\n                      }));\n                      var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                          return parseInt(h, 16)\n                      }));\n                      var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n                      // camera permission was granted\n                      const info = {\n                          dh_public_key: dh_public_key,\n                          dh_private_key: dh_private_key,\n                          relationship: {},\n                          shared_secret: shared_secret,\n                          rid: rid,\n                          requester_rid: requester_rid,\n                          requested_rid: requested_rid\n                      }\n                      info.relationship[this.collection] = {\n                          subject: this.subject,\n                          body: this.body,\n                          thread: this.thread,\n                          event_datetime: this.event_datetime,\n                          skylink: this.skylink,\n                          filename: this.filepath\n                      }\n                      return this.transactionService.generateTransaction(info);\n                  } else {\n                      return new Promise((resolve, reject) => {\n                          let alert = this.alertCtrl.create();\n                          alert.setTitle('Contact not yet processed');\n                          alert.setSubTitle('Please wait a few minutes and try again');\n                          alert.addButton('Ok');\n                          alert.present();\n                          return reject('failed to create friend request');\n                      });\n                  }\n\n                }\n            }).then((txn) => {\n                return this.transactionService.sendTransaction();\n            }).then(() => {\n                this.navCtrl.pop()\n            })\n            .catch((err) => {\n               console.log(err);\n               let alert = this.alertCtrl.create();\n               alert.setTitle('Message error');\n               alert.setSubTitle(err);\n               alert.addButton('Ok');\n               alert.present();\n            });\n           }\n    });\n    alert.present();\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/compose.ts","import { Injectable } from '@angular/core';\nimport { SettingsService } from './settings.service';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { AutoCompleteService } from 'ionic2-auto-complete';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { GraphService } from './graph.service';\n\n@Injectable()\nexport class CompleteTestService implements AutoCompleteService {\n  labelAttribute = \"name\";\n  formValueAttribute = \"value\";\n\n  constructor(\n      private http: Http,\n      private settingsService: SettingsService,\n      private bulletinSecretService: BulletinSecretService,\n      private graphService: GraphService\n  ) {\n  }\n\n  getResults(searchTerm:string) {\n    return this.graphService.graph.friends.concat(this.graphService.graph.groups)\n    .filter((item) => {\n      const username = item.relationship.username || item.relationship.identity.username;\n      return username.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1\n    })\n    .map((item) => {\n        const identity = item.relationship.identity || item.relationship;\n        const value = {\n          username: identity.username,\n          username_signature: identity.username_signature,\n          public_key: identity.public_key,\n          collection: identity.collection\n        }\n        return {name: identity.username, value: value}\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/autocomplete.provider.ts","import { Component } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { ComposePage } from './compose';\nimport { ProfilePage } from '../profile/profile';\nimport { SettingsService } from '../../app/settings.service';\n\n\ndeclare var X25519;\n\n\n@Component({\n  selector: 'mail-item',\n  templateUrl: 'mailitem.html'\n})\nexport class MailItemPage {\n  item: any;\n  constructor(\n    public navCtrl: NavController,\n    private navParams: NavParams,\n    private walletService: WalletService,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private alertCtrl: AlertController,\n    private transactionService: TransactionService,\n    private settingsService: SettingsService\n  ) {\n    this.item = navParams.data.item\n  }\n\n  replyMail(item) {\n    this.navCtrl.push(ComposePage, {\n      item: item,\n      mode: 'reply',\n      thread: item.thread || item.id,\n      message_type: item.message_type\n    });\n  }\n\n  replyToAllMail(item) {\n    this.navCtrl.push(ComposePage, {\n      item: item,\n      mode: 'replyToAll',\n      thread: item.thread || item.id,\n      message_type: item.message_type\n    });\n  }\n\n  forwardMail(item) {\n    this.navCtrl.push(ComposePage, {\n      item: item,\n      mode: 'forward'\n    });\n  }\n\n  signMail(item) {\n    this.navCtrl.push(ComposePage, {\n      item: item,\n      mode: 'sign',\n      thread: item.thread || item.id\n    });\n  }\n\n  addFriend() {\n      let info: any;\n      var buttons = [];\n      buttons.push({\n          text: 'Add',\n          handler: (data) => {\n              return this.graphService.addFriend(this.item.sender)\n              .then((txn) => {\n                  var alert = this.alertCtrl.create();\n                  alert.setTitle('Contact Request Sent');\n                  alert.setSubTitle('Your Friend Request has been sent successfully.');\n                  alert.addButton('Ok');\n                  alert.present();\n              }).catch((err) => {\n                  console.log(err);\n              });\n\n          }\n      });\n      let alert = this.alertCtrl.create({\n          buttons: buttons\n      });\n      alert.setTitle('Add contact');\n      alert.setSubTitle('Do you want to add ' + this.item.sender.username + '?');\n      alert.present();\n  }\n\n  viewProfile(identity) {\n    this.navCtrl.push(ProfilePage, {\n      identity: identity\n    });\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mailitem.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\n@Injectable()\nexport class OpenGraphParserService {\n    html = null\n    attrs = null;\n    constructor(\n        private ahttp: Http\n    ) {\n        this.attrs = {\n            \"title\": \"title\",\n            \"document.title\": \"title\",\n        \t\"description\": \"description\",\n            \"twitter:title\": \"title\",\n            \"twitter:image\": \"image\",\n            \"twitter:description\": \"description\",\n            \"og:title\": \"title\",\n            \"og:image\": \"image\",\n            \"og:image:url\": \"image\",\n            \"og:description\": \"description\"\n        }\n    }\n\n    parseFromUrl(url) {\n        var output = {url: url};\n    \tthis.html = '';\n        return new Promise((resolve, reject) => {\n            if (this.isURL(url)) {\n                this.ahttp.get(url)\n                .subscribe((res) => {\n                    this.html = res['_body'];\n                    if (this.isYouTubeURL(url)) {\n                        var YTID = this.getYouTubeID(url);\n                        output['image'] = 'https://img.youtube.com/vi/' + YTID + '/0.jpg'\n                    }\n\n                    for (var key in this.attrs) {\n                        var attr = this.getAttr(key);\n\n                        if (attr) {\n                            var escape = document.createElement('textarea');\n                            escape.innerHTML = attr;\n                            output[this.attrs[key]] = escape.textContent;\n                        }\n                    }\n                    resolve(output);\n                });\n            } else {\n                resolve(false);\n            }\n        });\n    }\n\n    isURL(str) {\n      var pattern = new RegExp('^(https?:\\\\/\\\\/)'+ // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|'+ // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n      '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n      return pattern.test(str);\n    }\n\n    getYouTubeID(url) {\n        var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\n        var match = url.match(regExp);\n        return (match&&match[7].length==11)? match[7] : false;\n    }\n\n    isYouTubeURL(str) {\n    \treturn str.indexOf('youtube.com') > -1 || str.indexOf('youtu.be') > -1 || str.indexOf('youtube-nocookie.com') > -1 ? true : false;\n    }\n\n    getAttr(attr) {\n        var attrLocation = this.html.indexOf(attr);\n        var beginningToAttr = this.html.substr(0, attrLocation);\n        if (attr === 'title' || attr === 'description') {\n            var tagBodyWithRemainder = this.html.substr(attrLocation + attr.length + 1);\n            var closingTagStart = tagBodyWithRemainder.indexOf('</' + attr);\n            var content = tagBodyWithRemainder.substr(0, closingTagStart);\n            return content;\n        } else {\n            var reversed = beginningToAttr.split('').reverse().join('');\n        \tvar find = 'atem<';\n            var tagStart = reversed.indexOf(find);\n            var tagWithRemainder = this.html.substr(beginningToAttr.length - tagStart - 5);\n            var tagEnd = tagWithRemainder.indexOf('>');\n            var tag = tagWithRemainder.substr(0, tagEnd + 1);\n            var contentAttrStart = tag.indexOf('content');\n            if (contentAttrStart < 0) {\n                contentAttrStart = tag.indexOf('value');\n            }\n            var contentAttrSub = tag.substr(contentAttrStart);\n            var contentAttrStartQuote = contentAttrSub.indexOf('\"');\n            var contentWithRemainder = contentAttrSub.substr(contentAttrStartQuote + 1);\n            var contentEnd = contentWithRemainder.indexOf('\"');\n            content = contentWithRemainder.substr(0, contentEnd);\n            return content;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/opengraphparser.service.ts","import { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class SettingsService {\n    remoteSettings: any = {};\n    remoteSettingsUrl = null;\n    tokens = {};\n    menu = '';\n    collections = {\n      CONTACT: 'contact',\n      CALENDAR: 'event_meeting',\n      CHAT: 'chat',\n      CHAT_FILE: 'chat_file',\n      CONTRACT: 'contract',\n      CONTRACT_SIGNED: 'contract_signed',\n      GROUP: 'group',\n      GROUP_CALENDAR: 'group_event_meeting',\n      GROUP_CHAT: 'group_chat',\n      GROUP_CHAT_FILE_NAME: 'group_chat_file_name',\n      GROUP_CHAT_FILE: 'group_chat_file',\n      GROUP_MAIL: 'group_mail',\n      MAIL: 'mail',\n      PERMISSION_REQUEST: 'permission_request',\n      SIGNATURE_REQUEST: 'signature_request',\n      WEB_CHALLENGE_REQUEST: 'web_challenge_request',\n      WEB_CHALLENGE_RESPONSE: 'web_challenge_response',\n      WEB_PAGE: 'web_page',\n      WEB_PAGE_REQUEST: 'web_page_request',\n      WEB_PAGE_RESPONSE: 'web_page_response',\n      WEB_SIGNIN_REQUEST: 'web_signin_request',\n      WEB_SIGNIN_RESPONSE: 'web_signin_response'\n    }\n    constructor(\n    ) {\n        this.tokens = {};\n    }\n\n    go() {\n        return new Promise((resolve, reject) => {\n\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings.service.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Events } from 'ionic-angular';\nimport { GraphService } from './graph.service';\n\n\ndeclare var foobar;\ndeclare var forge;\n\n@Injectable()\nexport class BulletinSecretService {\n    key = null;\n    username_signature = null;\n    keyname = null;\n    keykeys = null;\n    username = null;\n    public_key = null;\n    identity: any = {\n      username: '',\n      username_signature: '',\n      public_key: '',\n    };\n    constructor(\n        private storage: Storage,\n        public events: Events\n    ) {}\n\n    shared_encrypt(shared_secret, message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(shared_secret).digest().toHex(), 'salt', 400, 32);\n        var cipher = forge.cipher.createCipher('AES-CBC', key);\n        var iv = '';\n        cipher.start({iv: iv});\n        cipher.update(forge.util.createBuffer(iv + message));\n        cipher.finish()\n        return cipher.output.toHex()\n    }\n\n    get() {\n        return this.all()\n        .then((keys: any) => {\n            return this.setKeyName(keys);\n        })\n        .then(() => {\n            return this.setKey();\n        });\n    }\n\n    setKeyName(keys) {\n        return new Promise((resolve, reject) => {\n            keys.sort(function (a, b) {\n                if (a.idx < b.idx)\n                    return -1\n                if ( a.idx > b.idx)\n                    return 1\n                return 0\n            });\n            if (!this.keyname) {\n                this.storage.get('last-keyname').then((key) => {\n                    if(key && typeof key == 'string') {\n                        this.keyname = key;\n                    } else {\n                        this.keyname = keys[0].idx\n                    }\n                    resolve(keys);\n                });\n            } else {\n                resolve(keys);\n            }\n        });\n    }\n\n    setKey() {\n        return new Promise((resolve, reject) => {\n            this.storage.get(this.keyname).then((key) => {\n                this.key = foobar.bitcoin.ECPair.fromWIF(key);\n                this.username = this.keyname.substr('usernames-'.length);\n                this.public_key = this.key.getPublicKeyBuffer().toString('hex')\n                this.identity = {\n                  username: this.username,\n                  username_signature: this.username_signature,\n                  public_key: this.public_key\n                }\n                this.username_signature = this.generate_username_signature();\n                return resolve();\n            });\n        });\n    }\n\n    cloneIdentity() {\n      return JSON.parse(this.identityJson())\n    }\n\n    identityJson() {\n      return JSON.stringify(this.identity, null, 4)\n    }\n\n    generate_username_signature() {\n        return foobar.base64.fromByteArray(this.key.sign(foobar.bitcoin.crypto.sha256(this.username)).toDER());\n    }\n\n    set(key) {\n        return new Promise((resolve, reject) => {\n            this.keyname = key;\n            return this.storage.set('last-keyname', key)\n            .then(() => {\n                return this.storage.remove('usernames-');\n            })\n            .then((key) => {\n                return this.get();\n            })\n            .then(() => {\n                return this.setKey();\n            })\n            .then(() => {\n                return resolve();\n            })\n            .catch((err) => {\n                return reject(err);\n            });\n        });\n    }\n\n    create(username) {\n        return new Promise((resolve, reject) => {\n            if (!username) return reject('username missing');\n            this.keyname = 'usernames-' + username;\n            this.storage.set('last-keyname', this.keyname);\n\n            this.username = username;\n            this.key = foobar.bitcoin.ECPair.makeRandom();\n            this.storage.set(this.keyname, this.key.toWIF());\n            this.username_signature = this.generate_username_signature();\n            return this.get().then(() => {\n                return resolve();\n            });\n        });\n    }\n\n    import (keyWif, username) {\n        return new Promise((resolve, reject) => {\n            if (!username) return reject('username missing');\n            this.keyname = 'usernames-' + username;\n            this.storage.set('last-keyname', this.keyname);\n            \n            this.username = username;\n            this.storage.set(this.keyname, keyWif.trim());\n            this.key = foobar.bitcoin.ECPair.fromWIF(keyWif.trim());\n            this.username_signature = this.generate_username_signature();\n            return this.get().then(() => {\n                return resolve();\n            });\n        });\n    }\n\n    all() {\n        return new Promise((resolve, reject) => {\n            var keykeys = [];\n            this.storage.forEach((value, key) => {\n                if (key.substr(0, 'usernames-'.length) === 'usernames-') {\n                    keykeys.push({key: value, idx: key});\n                }\n            })\n            .then(() => {\n                this.keykeys = keykeys;\n                resolve(keykeys);\n            });\n        });\n    }\n\n    unset() {\n      this.key = null;\n      this.username_signature = null;\n      this.keyname = null;\n      this.keykeys = null;\n      this.username = null;\n      this.public_key = null;\n      this.identity = {\n        username: '',\n        username_signature: '',\n        public_key: '',\n      };\n    }\n\n    publicKeyToAddress(public_key) {\n      foobar.bitcoin.ECPair.fromPublicKeyBuffer(foobar.Buffer.Buffer.from(public_key, 'hex')).getAddress()\n    }\n\n    decrypt(message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/bulletinSecret.service.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { TransactionService } from './transaction.service';\nimport { SettingsService } from './settings.service';\nimport { Badge } from '@ionic-native/badge';\nimport { Http, RequestOptions, Headers } from '@angular/http';\nimport { Events, Platform } from 'ionic-angular';\nimport { timeout } from 'rxjs/operators';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { WalletService } from './wallet.service';\nimport { encrypt, decrypt, PrivateKey } from 'eciesjs'\nimport { identity } from 'rxjs';\n\n\ndeclare var forge;\ndeclare var X25519;\ndeclare var Base64;\ndeclare var foobar;\n\n@Injectable()\nexport class GraphService {\n    graph: any = {\n      messages: [],\n      friends: [],\n      groups: [],\n      files: [],\n      mail: [],\n      mypages: []\n    };\n    notifications = {};\n    graphproviderAddress: any;\n    xhr: any;\n    key: any;\n    rid: any;\n    stored_secrets: any;\n    stored_secrets_by_rid: any;\n    accepted_friend_requests: any;\n    keys: any;\n    storingSecretsModal: any;\n    new_messages_count: any; //total new messages\n    new_messages_counts: any; //new messages by rid\n    new_group_messages_count: any; //total new group messages\n    new_group_messages_counts: any; //new group messages by rid\n    new_sign_ins_count: any; //total new sign ins\n    new_sign_ins_counts: any; //new sign ins by rid\n    friend_request_count: any; //total friend requests\n    friends_indexed: any;\n    sent_friend_requests_indexed: any;\n    getGraphError = false;\n    getSentFriendRequestsError = false;\n    getGroupsRequestsError = false;\n    getFriendRequestsError = false;\n    getFriendsError = false;\n    getMessagesError = false;\n    getMailError = false;\n    getNewMessagesError = false;\n    getSignInsError = false;\n    getNewSignInsError = false;\n    getPostsError = false;\n    getReactsError = false;\n    getCommentsError = false;\n    getcommentReactsError = false;\n    getcommentRepliesError = false;\n    getCalendarError = false;\n    getMyPagesError = false;\n    usernames = {};\n    username_signature = '';\n    groups_indexed = {};\n    constructor(\n        private storage: Storage,\n        private bulletinSecretService: BulletinSecretService,\n        private settingsService: SettingsService,\n        private badge: Badge,\n        private platform: Platform,\n        private ahttp: Http,\n        private transactionService: TransactionService,\n        private geolocation: Geolocation,\n        private walletService: WalletService,\n        private events: Events\n    ) {\n        this.stored_secrets = {};\n        this.stored_secrets_by_rid = {};\n        this.accepted_friend_requests = [];\n        this.keys = {};\n        this.new_messages_count = 0;\n        this.new_messages_counts = {};\n        this.new_group_messages_count = 0;\n        this.new_group_messages_counts = {};\n        this.new_sign_ins_count = this.new_sign_ins_count || 0;\n        this.new_sign_ins_counts = {};\n        this.friend_request_count = this.friend_request_count || 0;\n        this.friends_indexed = {};\n    }\n\n    resetGraph() {\n      this.graph = {\n        messages: [],\n        friends: [],\n        groups: [],\n        files: [],\n        mail: [],\n        mypages: []\n      };\n      this.groups_indexed = {}\n      this.friends_indexed = {}\n      this.notifications = {}\n      for (let i=0; i < Object.keys(this.settingsService.collections).length; i++) {\n        let collectionKey = Object.keys(this.settingsService.collections)[i];\n        if (!this.notifications[this.settingsService.collections[collectionKey]]) this.notifications[this.settingsService.collections[collectionKey]] = [];\n      }\n      if (!this.notifications['notifications']) this.notifications['notifications'] = [];\n    }\n\n    refreshFriendsAndGroups() {\n      this.resetGraph();\n      return this.getGroups()\n      .then((results) => {\n        return this.getGroups(null, 'file');\n      })\n      .then(() => {\n        return this.getFriendRequests()\n      })\n      .then(() => {\n        return this.getSharedSecrets()\n      });\n    }\n\n    endpointRequest(endpoint, ids=null, rids=null, post_data=null) {\n        return new Promise((resolve, reject) => {\n            if (endpoint.substr(0, 1) !== '/') {\n                endpoint = '/' + endpoint\n            }\n            let headers = new Headers();\n            headers.append('Authorization', 'Bearer ' + this.settingsService.tokens[this.bulletinSecretService.keyname]);\n            let options = new RequestOptions({ headers: headers, withCredentials: true });\n            var promise = null;\n            if (ids) {\n                promise = this.ahttp.post(\n                    this.settingsService.remoteSettings['graphUrl'] + endpoint + '?origin=' + encodeURIComponent(window.location.origin) + '&username_signature=' + encodeURIComponent(this.bulletinSecretService.username_signature),\n                    {ids: ids},\n                    options\n                );\n            } else if (rids) {\n                promise = this.ahttp.post(\n                    this.settingsService.remoteSettings['graphUrl'] + endpoint + '?origin=' + encodeURIComponent(window.location.origin) + '&username_signature=' + encodeURIComponent(this.bulletinSecretService.username_signature),\n                    {rids: rids},\n                    options\n                );\n            } else if (post_data) {\n                promise = this.ahttp.post(\n                    this.settingsService.remoteSettings['graphUrl'] + endpoint + '?origin=' + encodeURIComponent(window.location.origin) + '&username_signature=' + encodeURIComponent(this.bulletinSecretService.username_signature),\n                    post_data,\n                    options\n                )\n            } else {\n                promise = this.ahttp.get(\n                    this.settingsService.remoteSettings['graphUrl'] + endpoint + '?origin=' + encodeURIComponent(window.location.origin) + '&username_signature=' + encodeURIComponent(this.bulletinSecretService.username_signature),\n                    options\n                )\n            }\n\n            promise\n            .pipe(timeout(30000))\n            .subscribe((data) => {\n                try {\n                    var info = data.json();\n                    this.graph.rid = info.rid;\n                    this.graph.username_signature = info.username_signature;\n                    this.graph.registered = info.registered;\n                    this.graph.pending_registration = info.pending_registration;\n                    return resolve(info);\n                } catch(err) {\n                  console.log(err)\n                }\n            },\n            (err) => {\n                reject(err);\n            });\n        });\n    }\n\n    getInfo() {\n        return new Promise((resolve, reject) => {\n            if (!this.settingsService.remoteSettings['walletUrl']) return resolve();\n            this.endpointRequest('get-graph-info')\n            .then((data: any) => {\n                this.getGraphError = false;\n                return resolve(data);\n            }).catch((err) => {\n                this.getGraphError = true;\n                reject(null);\n            });\n        })\n    }\n\n    addNotification(item, collection) {\n      if (!this.notifications[collection]) this.notifications[collection] = [];\n      if (Array.isArray(item)) {\n        this.notifications[collection] = this.notifications[collection].concat(item)\n      } else {\n        this.notifications[collection].push(item)\n      }\n      if (!this.notifications['notifications']) this.notifications['notifications'] = [];\n      if (Array.isArray(item)) {\n        this.notifications['notifications'] = this.notifications['notifications'].concat(item)\n      } else {\n        this.notifications['notifications'].push(item)\n      }\n      this.events.publish('notification');\n    }\n\n    getNotifications() {\n      return this.notifications;\n    }\n\n    getSentFriendRequests() {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest(\n              'get-graph-sent-friend-requests',\n              null,\n              [this.generateRid(\n                this.bulletinSecretService.identity.username_signature,\n                this.bulletinSecretService.identity.username_signature\n              )]\n            )\n            .then((data: any) => {\n                this.graph.sent_friend_requests = this.parseSentFriendRequests(data.sent_friend_requests);\n                this.getSentFriendRequestsError = false;\n                return resolve();\n            }).catch((err) => {\n                this.getSentFriendRequestsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getFriendRequests() {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest(\n              'get-graph-collection',\n              null,\n              [this.generateRid(\n                this.bulletinSecretService.identity.username_signature,\n                this.bulletinSecretService.identity.username_signature,\n                this.settingsService.collections.CONTACT\n              )]\n            )\n            .then((data: any) => {\n                this.parseFriendRequests(data.collection);\n                this.getFriendRequestsError = false;\n                return resolve();\n            }).catch((err) => {\n                this.getFriendRequestsError = true;\n                reject(err);\n            }).catch((err) => {\n                reject(err);\n            });\n        });\n    }\n\n    getFriends(ignoreCache = false): Promise<null | void> {\n        if (this.graph.friends && this.graph.friends.length > 0 && !ignoreCache) {\n          return new Promise((resolve, reject) => {return resolve(null)});\n        }\n        return this.getSentFriendRequests()\n        .then(() => {\n            return this.getFriendRequests()\n        })\n        .then(() => {\n            return this.endpointRequest('get-graph-friends')\n        })\n        .then((data: any) => {\n            return this.parseFriends(data.friends)\n        })\n        .then((friends: any) => {\n            //sort list alphabetically by username\n            this.sortAlpha(friends, 'username')\n            this.graph.friends = friends;\n        });\n    }\n\n    getGroups(rid = null, collectionName = 'group', ignoreCache = false): Promise<null | void> {\n        const root = !rid;\n        rid = rid || this.generateRid(\n          this.bulletinSecretService.identity.username_signature,\n          this.bulletinSecretService.identity.username_signature,\n          collectionName\n        );\n        if (this.graph[collectionName + 's'] && this.graph[collectionName + 's'].length > 0 && !ignoreCache) {\n          return new Promise((resolve, reject) => {return resolve(null)});\n        }\n        return this.endpointRequest('get-graph-collection', null, rid)\n        .then((data: any) => {\n            return this.parseGroups(data.collection, root, collectionName + 's');\n        }).then((groups):any => {\n            this.getGroupsRequestsError = false;\n            return groups;\n        });\n    }\n\n    getMail(rid, collection=this.settingsService.collections.MAIL) {\n        //get messages for a specific friend\n        return new Promise((resolve, reject) => {\n          this.endpointRequest('get-graph-collection', null, rid)\n          .then((data: any) => {\n              return this.parseMail(data.collection, 'new_mail_counts', 'new_mail_count', undefined, collection, 'last_mail_height')\n          })\n          .then((mail: any) => {\n              this.graph.mail = this.graph.mail.concat(mail);\n              this.graph.mail = this.toDistinct(this.graph.mail, 'id')\n              this.sortInt(this.graph.mail, 'time')\n              this.getMailError = false;\n              return resolve(mail);\n          }).catch((err) => {\n              this.getMailError = true;\n              reject(err);\n          });\n      });\n    }\n\n    getSentMail(rid) {\n        //get messages for a specific friend\n        return new Promise((resolve, reject) => {\n          this.endpointRequest('get-graph-collection', null, [rid])\n          .then((data: any) => {\n              return this.parseMail(data.collection, 'new_sent_mail_counts', 'new_sent_mail_count', undefined, this.settingsService.collections.MAIL, 'last_sent_mail_height')\n          })\n          .then((mail: any) => {\n              this.graph.mail = mail;\n              this.sortInt(this.graph.mail, 'time')\n              this.getMailError = false;\n              return resolve(mail);\n          }).catch((err) => {\n              this.getMailError = true;\n              reject(err);\n          });\n      });\n    }\n\n    prepareMailItems(label) {\n      return this.graph.mail.filter((item) => {\n        if (label === 'Sent' && item.public_key === this.bulletinSecretService.identity.public_key) return true;\n        if (label === 'Inbox' && item.public_key !== this.bulletinSecretService.identity.public_key) return true;\n      }).map((item) => {\n        return this.prepareMailItem(item, label)\n      })\n    }\n\n    prepareMailItem(item, label) {\n      const group = this.groups_indexed[item.requested_rid]\n      const indexedItem = this.groups_indexed[item.requested_rid] || this.friends_indexed[item.rid];\n      const identity = indexedItem.relationship.identity || indexedItem.relationship;\n      const collection = group ? this.settingsService.collections.GROUP_MAIL : this.settingsService.collections.MAIL\n      let sender;\n      if (item.relationship[collection].sender) {\n        sender = item.relationship[collection].sender;\n      } else if (item.public_key === this.bulletinSecretService.identity.public_key && label === 'Inbox') {\n        sender = this.bulletinSecretService.identity;\n      } else {\n        sender = {\n          username: identity.username,\n          username_signature: identity.username_signature,\n          public_key: identity.public_key\n        }\n      }\n      const datetime = new Date(parseInt(item.time)*1000);\n      return {\n        sender: sender,\n        group: group ? group.relationship : null,\n        subject: item.relationship[collection].subject,\n        body: item.relationship[collection].body,\n        datetime: datetime.toLocaleDateString() + ' ' + datetime.toLocaleTimeString(),\n        id: item.id,\n        thread: item.relationship.thread,\n        message_type: item.relationship[collection].message_type,\n        event_datetime: item.relationship[collection].event_datetime,\n        skylink: item.relationship[collection].skylink,\n        filename: item.relationship[collection].filename,\n        rid: item.rid\n      }\n    }\n\n    getMessages(rid, collection=this.settingsService.collections.CHAT) {\n        if(typeof rid === 'string') rid = [rid];\n        //get messages for a specific friend\n\n        return this.endpointRequest('get-graph-collection', null, rid)\n        .then((data: any) => {\n            return this.parseMessages(data.collection, 'new_messages_counts', 'new_messages_count', rid, collection, 'last_message_height')\n        })\n        .then((chats: any) => {\n            return new Promise((resolve, reject) => {\n                this.graph.messages = chats;\n                this.getMessagesError = false;\n                return resolve(chats[rid]);\n            });\n        });\n    }\n\n    getNewMessages() {\n        //get the latest message for each friend\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-new-messages')\n            .then((data: any) => {\n                return this.parseNewMessages(data.new_messages, 'new_messages_counts', 'new_messages_count', 'last_message_height');\n            })\n            .then((newChats: any) => {\n                this.graph.newMessages = newChats;\n                this.getNewMessagesError = false;\n                return resolve(newChats);\n            }).catch((err) => {\n                this.getNewMessagesError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getSentMessages() {\n        //get sent messages\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-sent-messages', null, [])\n            .then((data: any) => {\n                return this.parseMessages(data.messages, 'sent_messages_counts', 'sent_messages_count', null, this.settingsService.collections.CHAT, 'last_message_height')\n            })\n            .then((chats: any) => {\n                // if (!this.graph.messages) {\n                //     this.graph.messages = {};\n                // }\n                // if (chats[rid]){\n                //     this.graph.messages[rid] = chats[rid];\n                //     this.graph.messages[rid].sort(function (a, b) {\n                //         if (parseInt(a.time) > parseInt(b.time))\n                //         return 1\n                //         if ( parseInt(a.time) < parseInt(b.time))\n                //         return -1\n                //         return 0\n                //     });\n                // }\n                // this.getMessagesError = false;\n                // return resolve(chats[rid]);\n            }).catch((err) => {\n                this.getMessagesError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getGroupMessages(key, requested_rid, rid) {\n        //get messages for a specific friend\n        var choice_rid = requested_rid || rid;\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-collection', null, [choice_rid])\n            .then((data: any) => {\n                return this.parseGroupMessages(key, data.messages, 'new_group_messages_counts', 'new_group_messages_count', rid, [this.settingsService.collections.GROUP_CHAT, this.settingsService.collections.GROUP_CHAT_FILE_NAME], 'last_group_message_height')\n            })\n            .then((chats: any) => {\n                if (!this.graph.messages) {\n                    this.graph.messages = {};\n                }\n                if (choice_rid && chats[choice_rid]){\n                    this.graph.messages[choice_rid] = chats[choice_rid];\n                    this.sortInt(this.graph.messages[choice_rid], 'time', true)\n                }\n                this.getMessagesError = false;\n                return resolve(chats[choice_rid]);\n            }).catch((err) => {\n                this.getMessagesError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getNewGroupMessages() {\n        //get the latest message for each friend\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-new-messages')\n            .then((data: any) => {\n                return this.parseNewMessages(data.new_messages, 'new_group_messages_counts', 'new_group_messages_count', 'last_group_message_height');\n            })\n            .then((newChats: any) => {\n                this.graph.newGroupMessages = newChats;\n                this.getNewMessagesError = false;\n                return resolve(newChats);\n            }).catch((err) => {\n                this.getNewMessagesError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getSignIns(rids) {\n      return this.endpointRequest('get-graph-collection', undefined, rids)\n      .then((data: any) => {\n          this.graph.signins = this.parseMessages(\n            data.collection,\n            'new_sign_ins_counts',\n            'new_sign_ins_count',\n            rids,\n            this.settingsService.collections.WEB_CHALLENGE_RESPONSE,\n            'last_sign_in_height'\n          );\n          this.getSignInsError = false;\n      });\n    }\n\n    getNewSignIns() {\n        //get the latest sign ins for a specific friend\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-new-messages')\n            .then((data: any) => {\n                return this.parseNewMessages(\n                  data.new_messages,\n                  'new_sign_ins_counts',\n                  'new_sign_ins_count',\n                  'last_sign_in_height'\n                );\n            })\n            .then((newSignIns: any) => {\n                this.graph.newSignIns = newSignIns;\n                this.getNewSignInsError = false;\n                return resolve(newSignIns);\n            }).catch((err) => {\n                this.getNewSignInsError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getReacts(ids, rid=null) {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-reacts', ids)\n            .then((data: any) => {\n                this.graph.reacts = this.parseMessages(\n                  data.reacts,\n                  'new_reacts_counts',\n                  'new_reacts_count',\n                  rid,\n                  this.settingsService.collections.CHAT,\n                  'last_react_height'\n                );\n                this.getReactsError = false;\n                return resolve(data.reacts);\n            }).catch(() => {\n                this.getReactsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getComments(ids, rid=null) {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-comments', ids)\n            .then((data: any) => {\n                this.graph.comments = this.parseMessages(data.reacts, 'new_comments_counts', 'new_comments_count', rid, this.settingsService.collections.CHAT, 'last_comment_height');\n                this.getCommentsError = false;\n                return resolve(data.comments);\n            }).catch(() => {\n                this.getCommentsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getCommentReacts(ids, rid=null) {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-reacts', ids)\n            .then((data: any) => {\n                this.graph.commentReacts = this.parseMessages(data.reacts, 'new_comment_reacts_counts', 'new_comment_reacts_count', rid, this.settingsService.collections.CHAT, 'last_comment_react_height');\n                this.getcommentReactsError = false;\n                return resolve(data.comment_reacts);\n            }).catch(() => {\n                this.getcommentReactsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getCommentReplies(ids, rid=null) {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-comments', ids)\n            .then((data: any) => {\n                this.graph.commentReplies = this.parseMessages(data.reacts, 'new_comment_comments_counts', 'new_comment_comments_count', rid, this.settingsService.collections.CHAT, 'last_comment_comment_height');\n                this.getcommentRepliesError = false;\n                return resolve(data.comments);\n            }).catch(() => {\n                this.getcommentRepliesError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getCalendar(rids) {\n        return this.endpointRequest('get-graph-collection', undefined, rids)\n        .then((data: any) => {\n            this.graph.calendar = this.parseCalendar(data.collection);\n            this.getCalendarError = false;\n        });\n    }\n\n    getMyPages(rids) {\n        return this.endpointRequest('get-graph-collection', undefined, rids)\n        .then((data: any) => {\n            this.graph.mypages = this.parseMyPages(data.collection);\n            this.getMyPagesError = false;\n        });\n    }\n\n    parseSentFriendRequests(sent_friend_requests) {\n        var sent_friend_requestsObj = {};\n        let sent_friend_request: any;\n        if (!this.graph.friends) this.graph.friends = [];\n        for(var i=0; i < sent_friend_requests.length; i++) {\n            sent_friend_request = sent_friend_requests[i];\n            if (!this.keys[sent_friend_request.rid]) {\n                this.keys[sent_friend_request.rid] = {\n                    dh_private_keys: [],\n                    dh_public_keys: []\n                };\n            }\n            try {\n                var decrypted = this.publicDecrypt(sent_friend_request['relationship']);\n                var relationship = JSON.parse(decrypted);\n                if (!relationship.identity.username) continue;\n                sent_friend_requestsObj[sent_friend_request.rid] = sent_friend_request;\n                //not sure how this affects the friends list yet, since we can't return friends from here\n                //friends[sent_friend_request.rid] = sent_friend_request;\n                sent_friend_request['relationship'] = relationship;\n                this.friends_indexed[sent_friend_request.rid] = sent_friend_request;\n                if (this.keys[sent_friend_request.rid].dh_private_keys.indexOf(relationship.dh_private_key) === -1 && relationship.dh_private_key) {\n                    this.keys[sent_friend_request.rid].dh_private_keys.push(relationship.dh_private_key);\n                }\n            } catch(err) {\n                delete sent_friend_requestsObj[sent_friend_request.rid]\n                if (this.keys[sent_friend_request.rid].dh_public_keys.indexOf(sent_friend_request.dh_public_key) === -1 && sent_friend_request.dh_public_key) {\n                    this.keys[sent_friend_request.rid].dh_public_keys.push(sent_friend_request.dh_public_key);\n                }\n            }\n        }\n        for(var j=0; j < sent_friend_requests.length; j++) {\n            sent_friend_request = sent_friend_requests[j];\n            if(typeof(sent_friend_request['relationship']) != 'object') {\n                //TODO: VERIFY THE BULLETIN SECRET!\n                if(sent_friend_requestsObj[sent_friend_request.rid]) {\n                    this.graph.friends.push(sent_friend_requestsObj[sent_friend_request.rid]);\n                    delete sent_friend_requestsObj[sent_friend_request.rid];\n                }\n            }\n        }\n\n        var arr_sent_friend_requests = [];\n        for(let i in sent_friend_requestsObj) {\n            arr_sent_friend_requests.push(sent_friend_requestsObj[i].rid);\n        }\n\n        let sent_friend_requests_diff = new Set(arr_sent_friend_requests);\n\n        sent_friend_requests = []\n        let arr_sent_friend_request_keys = Array.from(sent_friend_requests_diff.keys())\n        for(i=0; i<arr_sent_friend_request_keys.length; i++) {\n            sent_friend_requests.push(sent_friend_requestsObj[arr_sent_friend_request_keys[i]])\n        }\n\n        return sent_friend_requests;\n    }\n\n    parseFriendRequests(friend_requests) {\n        let friend_requestsObj = {};\n        var sent_friend_requestsObj = {};\n        if (!this.graph.friends) this.graph.friends = [];\n        for(var i=0; i<friend_requests.length; i++) {\n            var friend_request = friend_requests[i];\n            if (!this.keys[friend_request.rid]) {\n                this.keys[friend_request.rid] = {\n                    dh_private_keys: [],\n                    dh_public_keys: []\n                };\n            }\n            try {\n                var decrypted = this.publicDecrypt(friend_request.relationship);\n                var relationship = JSON.parse(decrypted);\n                friend_request.relationship = relationship;\n                if (sent_friend_requestsObj[friend_request.rid]) {\n                  delete friend_requestsObj[friend_request.rid]\n                  delete sent_friend_requestsObj[friend_request.rid]\n                  this.graph.friends.push(friend_request);\n                  this.friends_indexed[friend_request.rid] = friend_request;\n                } else {\n                  friend_requestsObj[friend_request.rid] = friend_request;\n                }\n                if (this.keys[friend_request.rid].dh_private_keys.indexOf(relationship.dh_private_key) === -1 && relationship.dh_private_key) {\n                    this.keys[friend_request.rid].dh_private_keys.push(relationship.dh_private_key);\n                }\n            } catch(err) {\n                if (friend_requestsObj[friend_request.rid]) {\n                  this.graph.friends.push(friend_requestsObj[friend_request.rid]);\n                  this.friends_indexed[friend_request.rid] = friend_requestsObj[friend_request.rid];\n                  delete friend_requestsObj[friend_request.rid]\n                  delete sent_friend_requestsObj[friend_request.rid]\n                } else {\n                  sent_friend_requestsObj[friend_request.rid] = friend_request;\n                }\n                if (this.keys[friend_request.rid].dh_public_keys.indexOf(friend_request.dh_public_key) === -1 && friend_request.dh_public_key) {\n                    this.keys[friend_request.rid].dh_public_keys.push(friend_request.dh_public_key);\n                }\n            }\n        }\n\n        var arr_sent_friend_requests = [];\n        for(let i in sent_friend_requestsObj) {\n            arr_sent_friend_requests.push(sent_friend_requestsObj[i].rid);\n        }\n\n        this.sent_friend_requests_indexed = {};\n        const sent_friend_requests = [];\n        let sent_friend_requests_diff = new Set(arr_sent_friend_requests);\n        if(arr_sent_friend_requests.length > 0) {\n            let arr_sent_friend_request_keys = Array.from(sent_friend_requests_diff.keys());\n            for(i=0; i<arr_sent_friend_request_keys.length; i++) {\n                sent_friend_requests.push(sent_friend_requestsObj[arr_sent_friend_request_keys[i]]);\n                this.sent_friend_requests_indexed[arr_sent_friend_request_keys[i]] = sent_friend_requestsObj[arr_sent_friend_request_keys[i]];\n            }\n        }\n\n        var arr_friend_requests = [];\n        for(let i in friend_requestsObj) {\n            arr_friend_requests.push(friend_requestsObj[i].rid);\n        }\n\n        friend_requests = []\n        let friend_requests_diff = new Set(arr_friend_requests);\n        if(arr_friend_requests.length > 0) {\n            let arr_friend_request_keys = Array.from(friend_requests_diff.keys())\n            for(i=0; i<arr_friend_request_keys.length; i++) {\n                friend_requests.push(friend_requestsObj[arr_friend_request_keys[i]])\n            }\n        }\n\n        this.friend_request_count = friend_requests.length;\n        if (this.platform.is('android') || this.platform.is('ios')) {\n            this.badge.set(friend_requests.length);\n        }\n\n        this.graph.friend_requests = friend_requests;\n        this.graph.sent_friend_requests = sent_friend_requests;\n        return friend_requests;\n    }\n\n    parseFriends(friends) {\n        // we must call getSentFriendRequests and getFriendRequests before getting here\n        // because we need this.keys to be populated with the dh_public_keys and dh_private_keys from the requests\n        // though friends really should be cached\n        // should be key: shared-secret_rid|pub_key[:26]priv_key[:26], value: {shared_secret: <shared_secret>, friend: [transaction.dh_public_key, transaction.dh_private_key]}\n        return new Promise((resolve, reject) => {\n            //start \"just do dedup yada server because yada server adds itself to the friends array automatically straight from the api\"\n            var friendsObj = {};\n            if (!this.graph.friends) this.graph.friends = [];\n            friends = friends.concat(this.graph.friends);\n            for(var i=0; i<friends.length; i++) {\n                var friend = friends[i];\n                if (!this.keys[friend.rid]) {\n                    this.keys[friend.rid] = {\n                        dh_private_keys: [],\n                        dh_public_keys: []\n                    };\n                }\n                var decrypted;\n                var bypassDecrypt = false;\n                if (typeof friend.relationship == 'object') {\n                    bypassDecrypt = true;\n                } else {\n                    decrypted = this.decrypt(friend.relationship);\n                }\n                try {\n                    var relationship;\n                    if (!bypassDecrypt) {\n                        relationship = JSON.parse(decrypted);\n                        friend['relationship'] = relationship;\n                    }\n                    friendsObj[friend.rid] = {friend: friend};\n                    if (this.keys[friend.rid].dh_private_keys.indexOf(relationship.dh_private_key) === -1 && relationship.dh_private_key) {\n                        this.keys[friend.rid].dh_private_keys.push(relationship.dh_private_key);\n                    }\n                } catch(err) {\n                    if (this.keys[friend.rid].dh_public_keys.indexOf(friend.dh_public_key) === -1 && friend.dh_public_key) {\n                        this.keys[friend.rid].dh_public_keys.push(friend.dh_public_key);\n                    }\n                }\n            }\n\n            var secrets_rids = [];\n            var stored_secrets_keys = Object.keys(this.stored_secrets);\n            for (i=0; i < stored_secrets_keys.length; i++) {\n                var rid = stored_secrets_keys[i].slice('shared_secret-'.length, stored_secrets_keys[i].indexOf('|'));\n                secrets_rids.push(rid);\n            }\n\n            for (i=0; i < this.graph.sent_friend_requests.length; i++) {\n                var sent_friend_request = this.graph.sent_friend_requests[i];\n                delete friendsObj[sent_friend_request.rid];\n                if (secrets_rids.indexOf(sent_friend_request.rid) >= 0) {\n                    if (!friendsObj[sent_friend_request.rid]) friendsObj[sent_friend_request.rid] = {};\n                    friendsObj[sent_friend_request.rid].sent_friend_request = sent_friend_request;\n                }\n            }\n\n            for (i=0; i < this.graph.friend_requests.length; i++) {\n                var friend_request = this.graph.friend_requests[i];\n                delete friendsObj[friend_request.rid];\n                if (secrets_rids.indexOf(friend_request.rid) >= 0) {\n                    if (!friendsObj[friend_request.rid]) friendsObj[friend_request.rid] = {};\n                    friendsObj[friend_request.rid] = friend_request;\n                }\n            }\n\n            var arr_friends = Object.keys(friendsObj);\n\n            friends = []\n            let friends_diff = new Set(arr_friends);\n            if(arr_friends.length > 0) {\n                let arr_friends_keys = Array.from(friends_diff.keys())\n                for(i=0; i<arr_friends_keys.length; i++) {\n                    friends.push(friendsObj[arr_friends_keys[i]].friend_request || friendsObj[arr_friends_keys[i]].friend);\n                }\n            }\n\n            return resolve(friends);\n        });\n    }\n\n    parseGroups(groups, root=true, collectionName = 'group') {\n        // we must call getSentFriendRequests and getFriendRequests before getting here\n        // because we need this.keys to be populated with the dh_public_keys and dh_private_keys from the requests\n        // though friends really should be cached\n        // should be key: shared-secret_rid|pub_key[:26]priv_key[:26], value: {shared_secret: <shared_secret>, friend: [transaction.dh_public_key, transaction.dh_private_key]}\n        return new Promise((resolve, reject) => {\n            //start \"just do dedup yada server because yada server adds itself to the friends array automatically straight from the api\"\n            let promises = [];\n            for(var i=0; i < groups.length; i++) {\n                var group = groups[i];\n                if (!this.keys[group.rid]) {\n                    this.keys[group.rid] = {\n                        dh_private_keys: [],\n                        dh_public_keys: []\n                    };\n                }\n                var decrypted;\n                var bypassDecrypt = false;\n                let failed = false;\n                try {\n                    if (typeof group.relationship == 'object') {\n                        bypassDecrypt = true;\n                    } else {\n                        decrypted = this.decrypt(group.relationship);\n                    }\n                    var relationship;\n                    if (!bypassDecrypt) {\n                        relationship = JSON.parse(decrypted);\n                        group['relationship'] = relationship;\n                    }\n                } catch(err) {\n                    console.log(err);\n                    failed = true\n                }\n                if (failed && this.groups_indexed[group.requester_rid]) {\n                    try {\n                        if (typeof group.relationship == 'object') {\n                            bypassDecrypt = true;\n                        } else {\n                            decrypted = this.shared_decrypt(\n                              this.groups_indexed[group.requester_rid].relationship.username_signature,\n                              group.relationship\n                            );\n                        }\n                        var relationship;\n                        if (!bypassDecrypt) {\n                            relationship = JSON.parse(decrypted);\n                            group['relationship'] = relationship;\n                        }\n                    } catch(err) {\n                        console.log(err);\n                        continue\n                    }\n                } else if (failed && !this.groups_indexed[group.requester_rid]) {\n                    continue\n                }\n\n                if(!this.groups_indexed[group.requested_rid]) {\n                    this.graph[collectionName].push(group);\n                }\n\n                this.groups_indexed[group.requested_rid] = group;\n\n                if (group.relationship.wif) {\n                    let key = foobar.bitcoin.ECPair.fromWIF(group.relationship.wif);\n                    group.relationship.public_key = key.getPublicKeyBuffer().toString('hex');\n                    group.relationship.username_signature = foobar.base64.fromByteArray(\n                      key.sign(\n                        foobar.bitcoin.crypto.sha256(\n                          group.relationship.username\n                        )\n                      ).toDER()\n                    );\n                }\n\n                this.groups_indexed[this.generateRid(\n                    relationship.username_signature,\n                    relationship.username_signature,\n                    this.settingsService.collections.GROUP_CHAT\n                )] = group;\n\n                this.groups_indexed[this.generateRid(\n                    relationship.username_signature,\n                    relationship.username_signature,\n                    this.settingsService.collections.GROUP_MAIL\n                )] = group;\n\n                this.groups_indexed[this.generateRid(\n                    relationship.username_signature,\n                    relationship.username_signature,\n                    this.settingsService.collections.CALENDAR\n                )] = group;\n\n                this.groups_indexed[this.generateRid(\n                    relationship.username_signature,\n                    relationship.username_signature,\n                    this.settingsService.collections.GROUP_CALENDAR\n                )] = group;\n\n                this.groups_indexed[this.generateRid(\n                    relationship.username_signature,\n                    relationship.username_signature,\n                    relationship.username_signature,\n                )] = group;\n\n                try {\n                    promises.push(this.getGroups(\n                        this.generateRid(\n                            relationship.username_signature,\n                            relationship.username_signature,\n                            relationship.username_signature\n                        ),\n                        'group',\n                        true\n                    ))\n                } catch(err) {\n                    console.log(err);\n                }\n\n            }\n\n            var arr_friends = Object.keys(this.groups_indexed);\n            groups = []\n            let friends_diff = new Set(arr_friends);\n            if(arr_friends.length > 0) {\n              let used_username_signatures = [];\n                let arr_friends_keys = Array.from(friends_diff.keys())\n                for(i=0; i<arr_friends_keys.length; i++) {\n                    if(used_username_signatures.indexOf(this.groups_indexed[arr_friends_keys[i]].relationship.username_signature) > -1) {\n                      continue;\n                    } else {\n                      groups.push(this.groups_indexed[arr_friends_keys[i]]);\n                      used_username_signatures.push(this.groups_indexed[arr_friends_keys[i]].relationship.username_signature);\n                    }\n                }\n            }\n\n            return Promise.all(promises)\n            .then((results) => {\n              return resolve(groups);\n            });\n        });\n    }\n\n    parseMail(messages, graphCounts, graphCount, rid=null, messageType=null, messageHeightType=null) {\n        this[graphCount] = 0;\n        return new Promise((resolve, reject) => {\n            var chats = [];\n            dance:\n            for(var i=0; i<messages.length; i++) {\n                var message = messages[i];\n                if(!rid && chats[message.rid]) continue;\n                if (!message.rid) continue;\n                if (message.dh_public_key) continue;\n                //hopefully we've prepared the stored_secrets option before getting here\n                //by calling getSentFriendRequests and getFriendRequests\n                if (this.groups_indexed[message.requested_rid]) {\n\n                  try {\n                      var decrypted = this.shared_decrypt(this.groups_indexed[message.requested_rid].relationship.username_signature, message.relationship);\n                  }\n                  catch(error) {\n                      continue\n                  }\n                  try {\n                      var messageJson = JSON.parse(decrypted);\n                  } catch(err) {\n                      continue;\n                  }\n                  if(messageJson[messageType]) {\n                      message.relationship = messageJson;\n                      messages[message.requested_rid] = message;\n                      try {\n                          message.relationship[messageType] = JSON.parse(Base64.decode(messageJson[messageType]));\n                          message.relationship.isInvite = true;\n                      }\n                      catch(err) {\n                          //not an invite, do nothing\n                      }\n                      chats.push(message);\n                  }\n                  continue dance;\n                } else {\n                  if (!this.stored_secrets[message.rid]) continue;\n                  for(var j=0; j<this.stored_secrets[message.rid].length; j++) {\n                      var shared_secret = this.stored_secrets[message.rid][j];\n                      try {\n                          var decrypted = this.shared_decrypt(shared_secret.shared_secret, message.relationship);\n                      }\n                      catch(error) {\n                          continue\n                      }\n                      try {\n                          var messageJson = JSON.parse(decrypted);\n                      } catch(err) {\n                          continue;\n                      }\n                      if(messageJson[messageType]) {\n                          message.relationship = messageJson;\n                          message.shared_secret = shared_secret.shared_secret\n                          message.dh_public_key = shared_secret.dh_public_key\n                          message.dh_private_key = shared_secret.dh_private_key\n                          messages[message.rid] = message;\n                          try {\n                              message.relationship[messageType] = JSON.parse(Base64.decode(messageJson[messageType]));\n                              message.relationship.isInvite = true;\n                          }\n                          catch(err) {\n                              //not an invite, do nothing\n                          }\n                          chats.push(message);\n                      }\n                      continue dance;\n                  }\n                }\n            }\n            return resolve(chats);\n        });\n    }\n\n    parseMessages(messages, graphCounts, graphCount, rid=null, messageType=null, messageHeightType=null) {\n        this[graphCount] = 0;\n        return new Promise((resolve, reject) => {\n            var chats = {};\n            dance:\n            for(var i=0; i<messages.length; i++) {\n                var message = messages[i];\n                if(!rid && chats[message.rid]) continue;\n                if(rid && message.rid !== rid && rid.indexOf(message.rid) === -1 && rid.indexOf(message.requested_rid) === -1) continue;\n                if (!message.rid && !message.requested_rid) continue;\n                if (message.dh_public_key) continue;\n                if (this.groups_indexed[message.requested_rid]) {\n                  try {\n                      var decrypted = this.shared_decrypt(this.groups_indexed[message.requested_rid].relationship.username_signature, message.relationship);\n                  }\n                  catch(error) {\n                      continue\n                  }\n                  try {\n                      var messageJson = JSON.parse(decrypted);\n                  } catch(err) {\n                      continue;\n                  }\n                  if(messageJson[messageType]) {\n                      message.relationship = messageJson;\n                      messages[message.requested_rid] = message;\n                      if (!chats[message.requested_rid]) {\n                          chats[message.requested_rid] = [];\n                      }\n                      try {\n                          message.relationship[messageType] = JSON.parse(Base64.decode(messageJson[messageType]));\n                          message.relationship.isInvite = true;\n                      }\n                      catch(err) {\n                          //not an invite, do nothing\n                      }\n                      chats[message.requested_rid].push(message);\n                  }\n                  continue dance;\n\n                } else {\n\n                  if (!this.stored_secrets[message.rid]) continue;\n                  var shared_secret = this.stored_secrets[message.rid][j];\n                  //hopefully we've prepared the stored_secrets option before getting here\n                  //by calling getSentFriendRequests and getFriendRequests\n                  for(var j=0; j<this.stored_secrets[message.rid].length; j++) {\n                      var shared_secret = this.stored_secrets[message.rid][j];\n                      try {\n                          var decrypted = this.shared_decrypt(shared_secret.shared_secret, message.relationship);\n                      }\n                      catch(error) {\n                          continue\n                      }\n                      try {\n                          var messageJson = JSON.parse(decrypted);\n                      } catch(err) {\n                          continue;\n                      }\n                      if(messageJson[messageType]) {\n                          message.relationship = messageJson;\n                          message.shared_secret = shared_secret.shared_secret\n                          message.dh_public_key = shared_secret.dh_public_key\n                          message.dh_private_key = shared_secret.dh_private_key\n                          messages[message.rid] = message;\n                          if (!chats[message.rid]) {\n                              chats[message.rid] = [];\n                          }\n                          try {\n                              message.relationship[messageType] = JSON.parse(Base64.decode(messageJson[messageType]));\n                              message.relationship.isInvite = true;\n                          }\n                          catch(err) {\n                              //not an invite, do nothing\n                          }\n                          chats[message.rid].push(message);\n                      }\n                      continue dance;\n                  }\n                }\n            }\n            return resolve(chats);\n        });\n    }\n\n    parseNewMessages(messages, graphCounts, graphCount, heightType) {\n        this[graphCount] = 0;\n        this[graphCounts] = {}\n        var public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n        return new Promise((resolve, reject) => {\n            var new_messages = [];\n            for(var i=0; i<messages.length; i++) {\n                var message = messages[i];\n                if (message.public_key != public_key) {\n                    new_messages.push(message);\n                }\n            }\n            return resolve(new_messages);\n        });\n    }\n\n    parseGroupMessages(key, messages, graphCounts, graphCount, rid=null, messageType=null, messageHeightType=null) {\n        this[graphCount] = 0;\n        return new Promise((resolve, reject) => {\n            var chats = {};\n            for(var i=0; i<messages.length; i++) {\n                var message = messages[i];\n                //hopefully we've prepared the stored_secrets option before getting here\n                //by calling getSentFriendRequests and getFriendRequests\n                try {\n                    var decrypted = this.shared_decrypt(key, message.relationship);\n                    console.log(decrypted);\n                }\n                catch(error) {\n                    continue\n                }\n                try {\n                    var messageJson = JSON.parse(decrypted);\n                } catch(err) {\n                    continue;\n                }\n\n                var group_message_rid = message.requested_rid || message.rid;\n                if(messageJson[messageType[0]] || messageJson[messageType[1]]) {\n                    message.relationship = messageJson;\n                    messages[group_message_rid] = message;\n                    if (!chats[group_message_rid]) {\n                        chats[group_message_rid] = [];\n                    }\n                    chats[group_message_rid].push(message);\n                }\n            }\n            return resolve(chats);\n        });\n    }\n\n    parseCalendar(events) {\n        let eventsOut = []\n        for(var i=0; i<events.length; i++) {\n            //hopefully we've prepared the stored_secrets option before getting here\n            //by calling getSentFriendRequests and getFriendRequests\n            const event = events[i];\n            let decrypted;\n            try {\n                if(this.groups_indexed[event.requested_rid]) {\n                  decrypted = this.shared_decrypt(this.groups_indexed[event.requested_rid].relationship.username_signature, event.relationship);\n                } else if (this.friends_indexed[event.rid]) {\n                  if (!this.stored_secrets[event.rid]) continue;\n                  var shared_secret = this.stored_secrets[event.rid][0].shared_secret;\n                  decrypted = this.shared_decrypt(shared_secret, event.relationship);\n                } else {\n                  decrypted = this.decrypt(event.relationship);\n                }\n            }\n            catch(error) {\n                continue\n            }\n            try {\n                var messageJson = JSON.parse(decrypted);\n            } catch(err) {\n                continue;\n            }\n            if(messageJson[this.settingsService.collections.CALENDAR]) {\n                event.relationship = messageJson;\n                event.relationship[this.settingsService.collections.CALENDAR].event_datetime = new Date(event.relationship[this.settingsService.collections.CALENDAR].event_datetime)\n                eventsOut.push(event)\n            } else if(messageJson[this.settingsService.collections.GROUP_CALENDAR]) {\n                event.relationship = messageJson;\n                event.relationship[this.settingsService.collections.GROUP_CALENDAR].event_datetime = new Date(event.relationship[this.settingsService.collections.GROUP_CALENDAR].event_datetime)\n                eventsOut.push(event)\n            } else if(messageJson.event) {\n                event.relationship = messageJson;\n                event.relationship.event.event_datetime = new Date(event.relationship.event.event_datetime)\n                eventsOut.push(event)\n            }\n        }\n        return eventsOut\n    }\n\n    parseMyPages(mypages) {\n        let mypagesOut = []\n        const myRids = this.generateRids(this.bulletinSecretService.identity)\n        for(var i=0; i<mypages.length; i++) {\n            //hopefully we've prepared the stored_secrets option before getting here\n            //by calling getSentFriendRequests and getFriendRequests\n            const mypage = mypages[i];\n            let decrypted;\n\n            try {\n                decrypted = this.decrypt(mypage.relationship);\n            }\n            catch(error) {\n                continue\n            }\n            try {\n                var messageJson = JSON.parse(decrypted);\n            } catch(err) {\n                continue;\n            }\n            if(messageJson[this.settingsService.collections.WEB_PAGE]) {\n                mypage.relationship = messageJson;\n                mypagesOut.push(mypage)\n            }\n        }\n        return mypagesOut\n    }\n\n    getSharedSecrets() {\n        return new Promise((resolve, reject) => {\n            for(let i in this.keys) {\n                if(!this.stored_secrets[i]) {\n                    this.stored_secrets[i] = [];\n                }\n                var stored_secrets_by_dh_public_key = {}\n                for(var ss=0; ss < this.stored_secrets[i].length; ss++) {\n                    stored_secrets_by_dh_public_key[this.stored_secrets[i][ss].dh_public_key + this.stored_secrets[i][ss].dh_private_key] = this.stored_secrets[i][ss]\n                }\n                for(var j=0; j < this.keys[i].dh_private_keys.length; j++) {\n                    var dh_private_key = this.keys[i].dh_private_keys[j];\n                    if (!dh_private_key) continue;\n                    for(var k=0; k < this.keys[i].dh_public_keys.length; k++) {\n                        var dh_public_key = this.keys[i].dh_public_keys[k];\n                        if (!dh_public_key) continue;\n                        if (stored_secrets_by_dh_public_key[dh_public_key + dh_private_key]) {\n                            continue;\n                        }\n                        var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                            return parseInt(h, 16)\n                        }));\n                        var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                            return parseInt(h, 16)\n                        }));\n                        var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n                        this.stored_secrets[i].push({\n                            shared_secret: shared_secret,\n                            dh_public_key: dh_public_key,\n                            dh_private_key: dh_private_key,\n                            rid: i\n                        });\n                    }\n                }\n            }\n            return resolve();\n        });\n    }\n\n    getSharedSecretForRid(rid) {\n        return new Promise((resolve, reject) => {\n            this.getSharedSecrets()\n            .then(() => {\n                if (this.stored_secrets[rid] && this.stored_secrets[rid].length > 0) {\n                    return resolve(this.stored_secrets[rid][0]);\n                } else {\n                    reject('no shared secret found for rid: ' + rid);\n                }\n            });\n        });\n    }\n\n    createGroup(groupname, parentGroup = null, extraData = {}, collectionName = 'group'): Promise<null | void> {\n        if (!groupname) return new Promise((resolve, reject) => {reject('username missing')});\n\n        let key = foobar.bitcoin.ECPair.makeRandom();\n        let wif = key.toWIF();\n        let pubKey = key.getPublicKeyBuffer().toString('hex');\n        let address = key.getAddress();\n        let username_signature = foobar.base64.fromByteArray(key.sign(foobar.bitcoin.crypto.sha256(groupname)).toDER());\n        let relationship: any = {\n            username: groupname,\n            wif: wif,\n            collection: collectionName,\n            ...extraData\n        }\n        if (parentGroup) {\n            relationship.parent = {\n                username: parentGroup.username,\n                username_signature: parentGroup.username_signature,\n                public_key: parentGroup.public_key,\n                collection: collectionName\n            }\n        }\n        return this.transactionService.generateTransaction({\n            relationship: relationship,\n            to: this.bulletinSecretService.publicKeyToAddress(pubKey),\n            requester_rid: this.generateRid(\n                parentGroup ? parentGroup.username_signature : this.bulletinSecretService.identity.username_signature,\n                parentGroup ? parentGroup.username_signature : this.bulletinSecretService.identity.username_signature,\n                parentGroup ? parentGroup.username_signature : collectionName\n            ),\n            requested_rid: this.generateRid(\n                username_signature,\n                username_signature,\n                parentGroup ? parentGroup.username_signature : collectionName\n            ),\n            rid: this.generateRid(\n                this.bulletinSecretService.identity.username_signature,\n                username_signature\n            ),\n            group: true\n        }).then((txn) => {\n            return this.transactionService.sendTransaction();\n        }).then(() => {\n          return this.getGroups(null, relationship.collection, true)\n        }).then(() => {\n          return new Promise<any>((resolve, reject) => {\n            return resolve({\n              username: groupname,\n              username_signature: username_signature,\n              public_key: pubKey\n            })\n          })\n        });\n    }\n\n    checkInvite(identity) {\n        return this.endpointRequest('check-invite', null, null, {'identity': identity})\n    }\n\n    getUserType(identifier) {\n        return this.endpointRequest('get-user-type', null, null, {'identifier': identifier})\n    }\n\n    generateRecovery(username) {\n        return new Promise((resolve, reject) => {\n            return this.geolocation.getCurrentPosition().then((resp) => {\n                let result = resp.coords.longitude + (resp.coords.latitude + username);\n                let target = 0x00000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff;\n                let rid;\n                let password;\n                for(var i=0; i === i; i++) {\n                    result = forge.sha256.create().update(result).digest().toHex();\n                    if (parseInt(result, 16) < target && password) {\n                        result = forge.sha256.create().update(result).digest().toHex();\n                        rid = result\n                        break\n                    }\n                    if (parseInt(result, 16) < target && !password) {\n                        result = forge.sha256.create().update(result).digest().toHex();\n                        password = result\n                    }\n                }\n                return resolve([rid, password, username]);\n            }).catch((error) => {\n                console.log('Error getting location', error);\n            });\n        })\n    }\n\n    createRecovery(username) {\n        this.generateRecovery(username)\n        .then((args) => {\n            let rid = args[0];\n            let shared_secret = args[1];\n            return new Promise((resolve, reject) => {\n                if (!username) return reject('username missing');\n\n                return this.storage.get(this.bulletinSecretService.keyname).then((wif) => {\n                    let key = foobar.bitcoin.ECPair.fromWIF(wif);\n                    let pubKey = key.getPublicKeyBuffer().toString('hex');\n                    let address = key.getAddress();\n                    let username_signature = foobar.base64.fromByteArray(key.sign(foobar.bitcoin.crypto.sha256(username)).toDER());\n                    return resolve({\n                        public_key: pubKey,\n                        username_signature: username_signature,\n                        username: username,\n                        wif: wif,\n                        rid: rid,\n                        shared_key: shared_secret\n                    });\n                });\n            })\n        })\n        .then((info: any) => {\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    username_signature: info.username_signature,\n                    public_key: info.public_key,\n                    username: info.username,\n                    identity: this.bulletinSecretService.identity,\n                    wif: info.wif\n                },\n                to: this.bulletinSecretService.publicKeyToAddress(info.public_key),\n                rid: info.rid,\n                shared_secret: info.shared_key\n            })\n\n        }).then((txn) => {\n            return this.transactionService.sendTransaction();\n        })\n    }\n\n    generateRid(username_signature1, username_signature2, extra='') {\n      const username_signatures = [username_signature1, username_signature2].sort(function (a, b) {\n          return a.toLowerCase().localeCompare(b.toLowerCase());\n      });\n      return forge.sha256.create().update(username_signatures[0] + username_signatures[1] + extra).digest().toHex();\n    }\n\n    addFriendFromSkylink(skylink) {\n      return this.identityFromSkylink(skylink)\n      .then((identity: any) => {\n        return this.addFriend(identity);\n      })\n    }\n\n    addFriend(identity, rid='', requester_rid='', requested_rid='') {\n      rid = rid || this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        identity.username_signature\n      );\n      requester_rid = requester_rid || this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        this.settingsService.collections.CONTACT\n      );\n      requested_rid = requested_rid || this.generateRid(\n        identity.username_signature,\n        identity.username_signature,\n        this.settingsService.collections.CONTACT\n      );\n      if (requester_rid && requested_rid) {\n          // get rid from bulletin secrets\n      } else {\n          requester_rid = '';\n          requested_rid = '';\n      }\n      var raw_dh_private_key = foobar.bitcoin.crypto.sha256(this.bulletinSecretService.key.toWIF() + identity.username_signature);\n      var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n      var dh_private_key = this.toHex(raw_dh_private_key);\n      var dh_public_key = this.toHex(raw_dh_public_key);\n      let myIdentity = this.bulletinSecretService.cloneIdentity();\n      myIdentity.collection = this.settingsService.collections.CONTACT;\n      return this.transactionService.generateTransaction({\n          relationship: {\n              dh_private_key: dh_private_key,\n              identity: myIdentity\n          },\n          dh_public_key: dh_public_key,\n          requested_rid: requested_rid,\n          requester_rid: requester_rid,\n          rid: rid,\n          to: this.bulletinSecretService.publicKeyToAddress(identity.public_key),\n          recipient_identity: identity\n      }).then((hash) => {\n          return this.transactionService.sendTransaction();\n      }).then(() => {\n        return this.getFriends()\n      });\n    }\n\n    addGroupFromSkylink(skylink) {\n      return this.identityFromSkylink(skylink)\n      .then((identity: any) => {\n        return this.addGroup(identity);\n      })\n    }\n\n    addGroup(identity, rid='', requester_rid='', requested_rid='', refresh=true) {\n      identity.collection = identity.parent ? identity.parent.username_signature : identity.collection || this.settingsService.collections.GROUP\n      rid = rid || this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        identity.username_signature\n      );\n      requester_rid = requester_rid || this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        identity.collection\n      );\n      requested_rid = requested_rid || this.generateRid(\n        identity.parent ? identity.collection : identity.username_signature,\n        identity.parent ? identity.collection : identity.username_signature,\n        identity.collection\n      );\n      if (requester_rid && requested_rid) {\n        // get rid from bulletin secrets\n      } else {\n        requester_rid = '';\n        requested_rid = '';\n      }\n      if (this.groups_indexed[requested_rid]) {\n        return new Promise((resolve, reject) => {\n          return resolve(identity)\n        });\n      }\n      return this.transactionService.generateTransaction({\n        rid: rid,\n        relationship: identity,\n        requested_rid: requested_rid,\n        requester_rid: requester_rid,\n        to: this.bulletinSecretService.publicKeyToAddress(identity.public_key)\n      })\n      .then((txn) => {\n        return this.transactionService.sendTransaction(txn);\n      }).then(() => {\n        return refresh ? this.getGroups(null, identity.collection, true) : null\n      }).then(() => {\n        return new Promise((resolve, reject) => {\n          return resolve(identity)\n        })\n      });\n    }\n\n    publicDecrypt(message) {\n      const decrypted = decrypt(this.bulletinSecretService.key.d.toHex(), Buffer.from(this.hexToByteArray(message))).toString();\n      return decrypted\n    }\n\n    generateRids(identity) {\n      const rid = this.generateRid(\n        identity.username_signature,\n        this.bulletinSecretService.identity.username_signature\n      )\n\n      const requested_rid = this.generateRid(\n        identity.username_signature,\n        identity.username_signature,\n        identity.collection\n      )\n\n      const requester_rid = this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        identity.collection\n      )\n\n      return {\n        rid: rid,\n        requested_rid: requested_rid,\n        requester_rid: requester_rid\n      }\n    }\n\n    isMe(identity:any) {\n      if (!identity) return false;\n      return identity.username_signature === this.bulletinSecretService.identity.username_signature\n    }\n\n    isAdded(identity) {\n      if (!identity) return false;\n      const rids = this.generateRids(identity);\n      const addedToGroups = this.isChild(identity) ?\n        !!(this.groups_indexed[rids.rid] || this.groups_indexed[rids.requested_rid] || this.groups_indexed[this.generateRid(\n          identity.parent ? identity.parent.username_signature : identity.username_signature,\n          identity.parent ? identity.parent.username_signature : identity.username_signature,\n          identity.parent.username_signature\n        )])\n      :\n        !!(this.groups_indexed[rids.rid] || this.groups_indexed[rids.requested_rid]);\n\n\n      const friend_requested_rid = this.generateRid(\n        identity.username_signature,\n        identity.username_signature\n      );\n      const friend_rid = this.generateRid(\n        identity.username_signature,\n        this.bulletinSecretService.identity.username_signature\n      );\n      const addedToFriends = !!(this.friends_indexed[friend_rid] || this.friends_indexed[friend_requested_rid]);\n\n      return !!(addedToFriends || addedToGroups)\n    }\n\n    isRequested(identity) {\n      if (!identity) return false;\n      const friend_rid = this.generateRid(\n        identity.username_signature,\n        this.bulletinSecretService.identity.username_signature\n      );\n      return !!this.sent_friend_requests_indexed[friend_rid]\n    }\n\n    isGroup(identity) {\n      if (!identity) return false;\n      return identity.collection && identity.collection !== this.settingsService.collections.CONTACT\n    }\n\n    isChild(identity) {\n      if (!identity) return false;\n      return !!identity.parent\n    }\n\n    sortInt(list, key, reverse=false) {\n      list.sort(function (a, b) {\n          if (parseInt(a[key]) > parseInt(b[key])) return reverse ? 1 : -1\n          if ( parseInt(a[key]) < parseInt(b[key])) return reverse ? -1 : 1\n          return 0\n      });\n    }\n\n    sortAlpha(list, key, reverse=false) {\n      list.sort(function (a, b) {\n        if (a[key] < b[key]) return reverse ? 1 : -1\n        if (a[key] > b[key]) return  reverse ? -1 : 1\n        return 0\n      });\n    }\n\n    sortTxnsByUsername(list, reverse=false) {\n      list.sort(function (a, b) {\n        const ausername = a.relationship.identity ? a.relationship.identity.username : a.relationship.username;\n        const busername = b.relationship.identity ? b.relationship.identity.username : b.relationship.username;\n        if (ausername < busername) return reverse ? 1 : -1\n        if (ausername > busername) return  reverse ? -1 : 1\n        return 0\n      });\n    }\n\n    toDistinct(list, key) {\n      const hashMap = {};\n      for(let i=0; i < list.length; i++) {\n        hashMap[list[i][key]] = list[i];\n      }\n      const newList = []\n      for(let i=0; i < Object.keys(hashMap).length; i++) {\n        newList.push(hashMap[Object.keys(hashMap)[i]])\n      }\n      return newList;\n    }\n\n    toIdentity(identity) {\n      if (!identity) return {};\n      let iden: any = {\n        username: identity.username,\n        username_signature: identity.username_signature,\n        public_key: identity.public_key\n      }\n      if (identity.parent) {\n        iden.parent = identity.parent\n      }\n      if (identity.collection) {\n        iden.collection = identity.collection\n      }\n      if (identity.skylink) {\n        iden.skylink = identity.skylink;\n      }\n      return iden;\n    }\n\n    getIdentityFromMessageTransaction(item) {\n      const group = this.groups_indexed[item.requested_rid]\n      const indexedItem = this.groups_indexed[item.requested_rid] || this.friends_indexed[item.rid];\n      return indexedItem.relationship.identity || indexedItem.relationship;\n    }\n\n    identityToSkylink(identity) {\n      return new Promise((resolve, reject) => {\n        const identityJson = JSON.stringify(this.toIdentity(identity), null, 4);\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-upload?filename=' + encodeURIComponent(identity.username_signature), {file: btoa(identityJson)})\n        .subscribe((res) => {\n            const data = res.json();\n            if (!data.skylink) return reject(data);\n            return resolve(data.skylink)\n        })\n      })\n    }\n\n    inviteToSkylink(invite) {\n      return new Promise((resolve, reject) => {\n        const identityJson = JSON.stringify(invite, null, 4);\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-upload?filename=' + encodeURIComponent(invite.invite_signature), {file: btoa(identityJson)})\n        .subscribe((res) => {\n            const data = res.json();\n            if (!data.skylink) return reject(data);\n            return resolve(data.skylink)\n        })\n      })\n    }\n\n    identityFromSkylink(skylink) {\n      return new Promise((resolve, reject) => {\n        this.ahttp.get('https://centeridentity.com/sia-download?skylink=' + skylink)\n        .subscribe((res) => {\n            try {\n              return resolve(JSON.parse(res.text()))\n            }\n            catch(err) {\n              return reject(err)\n            }\n        })\n      });\n    }\n\n    registrationStatus() {\n      if (\n        this.settingsService.remoteSettings.restricted &&\n        !this.isAdded(this.settingsService.remoteSettings.identity) &&\n        !this.isAdded(this.bulletinSecretService.identity.parent) &&\n        !this.isRequested(this.settingsService.remoteSettings.identity) &&\n        !this.isRequested(this.bulletinSecretService.identity.parent) &&\n        this.settingsService.remoteSettings.identity.username_signature !== this.bulletinSecretService.identity.username_signature\n      ) {\n        return 'error';\n      }\n\n      if (\n        this.settingsService.remoteSettings.restricted &&\n        !this.isAdded(this.settingsService.remoteSettings.identity) &&\n        !this.isAdded(this.bulletinSecretService.identity.parent) &&\n        (\n          this.isRequested(this.settingsService.remoteSettings.identity) ||\n          this.isRequested(this.bulletinSecretService.identity.parent)\n        ) &&\n        this.settingsService.remoteSettings.identity.username_signature !== this.bulletinSecretService.identity.username_signature\n      ) {\n        return 'pending';\n      }\n\n      if (\n        this.settingsService.remoteSettings.restricted &&\n        (\n          this.isAdded(this.settingsService.remoteSettings.identity) ||\n          this.isAdded(this.bulletinSecretService.identity.parent)\n        ) &&\n        !this.isRequested(this.settingsService.remoteSettings.identity) &&\n        !this.isRequested(this.bulletinSecretService.identity.parent) &&\n        this.settingsService.remoteSettings.identity.username_signature !== this.bulletinSecretService.identity.username_signature\n      ) {\n        return 'complete';\n      }\n    }\n\n    decrypt(message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.bulletinSecretService.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output.data\n    }\n\n    shared_decrypt(shared_secret, message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(shared_secret).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return Base64.decode(decipher.output.data);\n    }\n\n    hexToByteArray(str) {\n        if (!str) {\n          return new Uint8Array([]);\n        }\n\n        var a = [];\n        for (var i = 0, len = str.length; i < len; i+=2) {\n          a.push(parseInt(str.substr(i,2),16));\n        }\n\n        return new Uint8Array(a);\n      }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/graph.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { GraphService } from '../../app/graph.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { PeerService } from '../../app/peer.service';\nimport { ListPage } from '../list/list';\nimport { ProfilePage } from '../profile/profile';\nimport { PostModal } from './postmodal';\nimport { OpenGraphParserService } from '../../app/opengraphparser.service'\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { SettingsService } from '../../app/settings.service';\nimport { FirebaseService } from '../../app/firebase.service';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport { Events } from 'ionic-angular';\nimport { CompleteTestService } from '../../app/autocomplete.provider';\nimport { Geolocation } from '@ionic-native/geolocation';\n\ndeclare var forge;\ndeclare var X25519;\ndeclare var firebase;\ndeclare var foobar;\ndeclare var Base64;\ndeclare var shortid;\n\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html'\n})\nexport class HomePage {\n    postText = null;\n    createdCode = null;\n    scannedCode = null;\n    key = null;\n    blockchainAddress = null;\n    balance = null;\n    items = [];\n    loading = false;\n    loadingBalance = true;\n    loadingModal = null;\n    loadingModal2 = null;\n    phrase = null;\n    color = null;\n    isCordova = null;\n    toggled = {};\n    reacts = {};\n    comments = {};\n    commentInputs = {};\n    ids_to_get = [];\n    comment_ids_to_get = [];\n    commentReacts = {};\n    chatColor: any;\n    friendRequestColor: any;\n    registrationLink: any;\n    signInCode: any;\n    signInColor: any;\n    prefix: any;\n    signedIn: any;\n    txnId: any;\n    location: any;\n    searchResults: any;\n    searchTerm: any;\n    origin: any;\n    identitySkylink: any;\n    invites: any;\n    memberIdentifier: any;\n    busy: any;\n    inviteBusy: any;\n    organizationIdentifier: any;\n    contactIdentifier: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public modalCtrl: ModalController,\n        private storage: Storage,\n        private bulletinSecretService: BulletinSecretService,\n        private alertCtrl: AlertController,\n        private walletService: WalletService,\n        private graphService: GraphService,\n        private transactionService: TransactionService,\n        private openGraphParserService: OpenGraphParserService,\n        private socialSharing: SocialSharing,\n        private settingsService: SettingsService,\n        public loadingCtrl: LoadingController,\n        private ahttp: Http,\n        private firebaseService: FirebaseService,\n        public events: Events,\n        public toastCtrl: ToastController,\n        public peerService: PeerService,\n        public completeTestService: CompleteTestService\n    ) {\n        this.location = window.location;\n        this.origin = encodeURIComponent(this.location.origin);\n        this.prefix = 'usernames-';\n        this.createdCode = this.bulletinSecretService.identityJson();\n        this.refresh(null);\n        if (this.settingsService.remoteSettings.restricted) {\n          this.busy = true\n          this.graphService.identityToSkylink(this.bulletinSecretService.identity)\n          .then((skylink) => {\n            this.identitySkylink = skylink;\n            this.busy = false;\n          })\n        }\n    }\n\n    myForm = new FormGroup({\n        searchTerm: new FormControl('', [Validators.required])\n    })\n\n    submit() {\n        if (!this.myForm.valid) return false;\n        this.navCtrl.push(ProfilePage, {item: this.myForm.value.searchTerm});\n        console.log(this.myForm.value.searchTerm)\n    }\n\n    react(e, item) {\n        this.toggled[item.id] = false;\n        return this.walletService.get()\n        .then(() => {\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    'react': e.char,\n                    'id': item.id,\n                    'username_signature': this.bulletinSecretService.username_signature\n                }\n            });\n        })\n        .then(() => {\n            return this.transactionService.getFastGraphSignature();\n        })\n        .then((hash) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then(() => {\n            const toast = this.toastCtrl.create({\n                message: 'React sent',\n                duration: 2000\n            });\n            return toast.present();\n        })\n        .then(() => {\n            this.graphService.getReacts([item.id])\n        })\n        .catch((err) => {\n            const toast = this.toastCtrl.create({\n                message: 'Something went wrong with your react!',\n                duration: 2000\n            });\n            toast.present();  \n        });\n    }\n\n    addOrganization() {\n      console.log('submitted');\n      this.inviteBusy = true;\n      const username_signature = foobar.base64.fromByteArray(\n        this.bulletinSecretService.key.sign(\n          foobar.bitcoin.crypto.sha256(\n            this.organizationIdentifier\n          )\n        ).toDER()\n      );\n      let invite: any = {\n          identifier: this.organizationIdentifier,\n          invite_signature: username_signature,\n          parent: this.graphService.toIdentity(this.bulletinSecretService.identity)\n      }\n      this.graphService.inviteToSkylink(invite)\n      .then((skylink) => {\n        invite.skylink = skylink\n        return fetch(\n            '/invite-organization', \n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(invite),\n            }\n        )\n      })\n      .then(async (res) => {\n        console.log(await res.json())\n        this.getOrganizations();\n        this.organizationIdentifier = null;\n        this.inviteBusy = false;\n      })\n      return false;\n    }\n\n    getOrganizations() {\n      return fetch('/invite-organization?username_signature=' + encodeURIComponent(this.bulletinSecretService.identity.username_signature))\n      .then(async (res) => {\n          const result = await res.json()\n          this.invites = [];\n          const users = result.users;\n          users.sort(function (a, b) {\n              try {\n                const ausername = a.user.username;\n                const busername = b.user.username;\n                if (ausername.toLowerCase() < busername.toLowerCase())\n                  return -1\n                if ( ausername.toLowerCase() > busername.toLowerCase())\n                  return 1\n                return 0\n              } catch(err) {\n                return 0\n              }\n          });\n          for (let i=0; i < users.length; i++) {\n              let user = users[i];\n              this.invites.push(user)\n          }\n      })\n    }\n\n    addOrganizationMember() {\n      console.log('submitted');\n      this.inviteBusy = true;\n      const username_signature = foobar.base64.fromByteArray(\n        this.bulletinSecretService.key.sign(\n          foobar.bitcoin.crypto.sha256(\n            this.memberIdentifier\n          )\n        ).toDER()\n      );\n      let invite: any = {\n          identifier: this.memberIdentifier,\n          invite_signature: username_signature,\n          parent: this.graphService.toIdentity(this.bulletinSecretService.identity)\n      }\n      this.graphService.inviteToSkylink(invite)\n      .then((skylink) => {\n        invite.skylink = skylink\n        return fetch(\n            '/invite-organization-user', \n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(invite),\n            }\n        )\n      })\n      .then(async (res) => {\n        console.log(await res.json())\n        this.getOrganizationMembers();\n        this.memberIdentifier = null;\n        this.inviteBusy = false;\n      })\n      return false;\n    }\n\n    getOrganizationMembers() {\n      return fetch('/invite-organization-user?username_signature=' + encodeURIComponent(this.bulletinSecretService.identity.username_signature))\n      .then(async (res) => {\n          const result = await res.json()\n          this.invites = [];\n          const users = result.users;\n          users.sort(function (a, b) {\n              try {\n                const ausername = a.user.username;\n                const busername = b.user.username;\n                if (ausername.toLowerCase() < busername.toLowerCase())\n                  return -1\n                if ( ausername.toLowerCase() > busername.toLowerCase())\n                  return 1\n                return 0\n              } catch(err) {\n                return 0\n              }\n          });\n          for (let i=0; i < users.length; i++) {\n              let user = users[i];\n              this.invites.push(user)\n          }\n      })\n    }\n\n    addMemberContact() {\n      console.log('submitted');\n      this.inviteBusy = true;\n      const username_signature = foobar.base64.fromByteArray(\n        this.bulletinSecretService.key.sign(\n          foobar.bitcoin.crypto.sha256(\n            this.contactIdentifier\n          )\n        ).toDER()\n      );\n      let invite: any = {\n          identifier: this.contactIdentifier,\n          invite_signature: username_signature,\n          parent: this.graphService.toIdentity(this.bulletinSecretService.identity)\n      }\n      this.graphService.inviteToSkylink(invite)\n      .then((skylink) => {\n        invite.skylink = skylink\n        return fetch(\n            '/invite-member-contact', \n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(invite),\n            }\n        )\n      })\n      .then(async (res) => {\n        console.log(await res.json())\n        this.getMemberContacts();\n        this.contactIdentifier = null;\n        this.inviteBusy = false;\n      })\n      return false;\n    }\n\n    getMemberContacts() {\n      return fetch('/invite-member-contact?username_signature=' + encodeURIComponent(this.bulletinSecretService.identity.username_signature))\n      .then(async (res) => {\n          const result = await res.json()\n          this.invites = [];\n          const users = result.users;\n          users.sort(function (a, b) {\n              try {\n                const ausername = a.user.username;\n                const busername = b.user.username;\n                if (ausername.toLowerCase() < busername.toLowerCase())\n                  return -1\n                if ( ausername.toLowerCase() > busername.toLowerCase())\n                  return 1\n                return 0\n              } catch(err) {\n                return 0\n              }\n          });\n          for (let i=0; i < users.length; i++) {\n              let user = users[i];\n              this.invites.push(user)\n          }\n      })\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    refresh(refresher) {\n        this.loading = false;\n        if(this.bulletinSecretService.identity.type === 'admin') {\n          this.getOrganizations();\n        } else if (this.bulletinSecretService.identity.type === 'organization') {\n          this.getOrganizationMembers();\n        } else if (this.bulletinSecretService.identity.type === 'organization_member') {\n          this.getMemberContacts();\n        }\n    }\n\n    search() {\n        return this.ahttp.get(\n            this.settingsService.remoteSettings['baseUrl'] + '/search?searchTerm=' + this.searchTerm\n        )\n        .subscribe((res)=>{\n            this.searchResults = res.json()\n        }, () => {});\n    }\n\n    createGeoWallet() {\n        return new Promise((resolve, reject) => {\n            this.loadingModal = this.loadingCtrl.create({\n                content: 'Burying treasure at this location...'\n            });\n            return this.loadingModal.present()\n            .then(() => {\n                return resolve();\n            });\n        })\n        .then(() => {\n            return this.graphService.createRecovery(this.bulletinSecretService.username);\n        })\n        .then(() => {\n            return this.loadingModal.dismiss();\n        });\n    }\n\n    createGroup() {\n        return new Promise((resolve, reject) => {\n            let alert = this.alertCtrl.create({\n                title: 'Set group name',\n                inputs: [\n                {\n                    name: 'groupname',\n                    placeholder: 'Group name'\n                }\n                ],\n                buttons: [\n                {\n                    text: 'Save',\n                    handler: data => {\n                        const toast = this.toastCtrl.create({\n                            message: 'Group created',\n                            duration: 2000\n                        });\n                        toast.present();\n                        resolve(data.groupname);\n                    }\n                }\n                ]\n            });\n            alert.present();\n        })\n        .then((groupName) => {\n            return this.graphService.createGroup(groupName);\n        })\n        .then(() => {\n            return this.refresh(null)\n        })\n        .catch((err) => {\n            console.log(err);\n            this.events.publish('pages');\n        });\n    }\n\n    signInToDashboard() {\n      fetch('/generate-session-uuid')\n      .then((res) => {\n        return res.json();\n      })\n      .then((data: any) => {\n        const session_id_signature = foobar.base64.fromByteArray(\n          this.bulletinSecretService.key.sign(\n            foobar.bitcoin.crypto.sha256(\n              data.session_uuid\n            )\n          ).toDER()\n        );\n        return fetch(\n          '/organization-sign-in',\n          {\n              method: 'POST',\n              headers: {\n                  'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({\n                user: {\n                  username_signature: this.bulletinSecretService.identity.username_signature\n                },\n                session_id_signature: session_id_signature\n              }),\n          }\n        )\n      })\n      .then((res) => {\n        open('/dashboard', '_blank')\n      })\n    }\n\n    itemTapped(event, item) {\n        item.pageTitle = \"Posts\";\n        this.navCtrl.push(ListPage, {\n            item: item\n        });\n    }\n\n    decrypt(message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.bulletinSecretService.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Http } from '@angular/http';\nimport { timeout } from 'rxjs/operators';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { WalletService } from './wallet.service';\nimport { TransactionService } from './transaction.service';\nimport { SettingsService } from './settings.service';\n\ndeclare var X25519;\n\n@Injectable()\nexport class PeerService {\n    loading = false;\n    mode: any;\n    failedSeedPeers: any;\n    peerLocked: any;\n    failedConfigPeers: any;\n    constructor(\n        private ahttp: Http,\n        public walletService: WalletService,\n        public transactionService: TransactionService,\n        public bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        public storage: Storage\n    ) {\n        this.mode = true;\n        this.failedSeedPeers = new Set();\n        this.failedConfigPeers = new Set();\n    }\n\n    go() {\n        if(this.peerLocked) return new Promise((resolve, reject) => {return resolve(null)})\n        return new Promise((resolve, reject) => {\n            var domain = window.location.origin;\n            this.settingsService.remoteSettingsUrl = domain;\n            this.settingsService.remoteSettings = {\n                \"baseUrl\": domain,\n                \"transactionUrl\": domain + \"/transaction\",\n                \"fastgraphUrl\": domain + \"/post-fastgraph-transaction\",\n                \"graphUrl\": domain,\n                \"walletUrl\": domain + \"/get-graph-wallet\",\n                \"websocketUrl\": domain + \"/websocket\",\n                \"loginUrl\": domain + \"/login\",\n                \"registerUrl\": domain + \"/create-relationship\",\n                \"authenticatedUrl\": domain + \"/authenticated\",\n                \"logoData\": \"\",\n                \"identity\": {}\n            };\n            return resolve();\n        })\n        .then(() => {\n            return this.getConfig();\n        })\n        .then(() => {\n            this.peerLocked = true;\n            return this.storage.set('node', this.settingsService.remoteSettingsUrl);\n        })\n    }\n\n    getConfig() {\n        return new Promise((resolve, reject) => {\n            this.ahttp.get(this.settingsService.remoteSettingsUrl + '/yada-config',).pipe(timeout(1000)).subscribe(\n                (res) => {\n                    this.loading = false;\n                    const remoteSettings = res.json();\n                    for (let i=0; i < Object.keys(remoteSettings).length; i++) {\n                        try {\n                          let url = new URL(remoteSettings[Object.keys(remoteSettings)[i]])\n                          remoteSettings[Object.keys(remoteSettings)[i]] = url.protocol + '//' + location.host + (url.pathname === '/' ? '' : url.pathname)\n                        } catch(e) {\n                          continue\n                        }\n                    }\n                    this.settingsService.remoteSettings = remoteSettings;\n                    resolve();\n                },\n                (err) => {\n                    this.failedConfigPeers.add(this.settingsService.remoteSettingsUrl)\n                    this.loading = false;\n                    return reject('config');\n                }\n            );\n        });\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/peer.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { Events, NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ListPage } from '../list/list';\nimport { ProfilePage } from '../profile/profile';\nimport { Http } from '@angular/http';\nimport { WebSocketService } from '../../app/websocket.service';\n\ndeclare var X25519;\ndeclare var foobar;\ndeclare var Base64;\n\n@Component({\n    selector: 'page-chat',\n    templateUrl: 'chat.html',\n    queries: {\n      content: new ViewChild('content'),\n      input: new ViewChild('input')\n    }\n})\nexport class ChatPage {\n    chatText: any;\n    bulletinSecret: any;\n    blockchainAddress: any;\n    chats: any;\n    rid: any;\n    requester_rid: any;\n    requested_rid: any;\n    public_key: any;\n    loading: any;\n    loadingModal: any;\n    content: any;\n    input: any;\n    transaction: any;\n    identity: any;\n    page: any;\n    label: any;\n    busy: any;\n    filepath: any;\n    filedata: any;\n    skylink: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public transactionService: TransactionService,\n        public alertCtrl: AlertController,\n        public graphService: GraphService,\n        public loadingCtrl: LoadingController,\n        public bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        public ahttp: Http,\n        public toastCtrl: ToastController,\n        public events: Events,\n        public websocketService: WebSocketService\n    ) {\n        this.identity = this.navParams.get('identity');\n        this.label = this.identity.username;\n        const identity = JSON.parse(JSON.stringify(this.graphService.toIdentity(this.identity))); //deep copy\n        if (this.graphService.isGroup(identity)) {\n          identity.collection = this.settingsService.collections.GROUP_CHAT;\n        } else {\n          identity.collection = this.settingsService.collections.CHAT;\n        }\n        const rids = this.graphService.generateRids(identity);\n        this.rid = rids.rid;\n        this.requested_rid = rids.requested_rid;\n        this.requester_rid = rids.requester_rid;\n        this.storage.get('blockchainAddress').then((blockchainAddress) => {\n            this.blockchainAddress = blockchainAddress;\n        });\n        this.refresh(null, true);\n        this.events.subscribe('newchat', () => {\n          this.refresh(null)\n        })\n    }\n\n    parseChats() {\n        const group = this.graphService.isGroup(this.identity)\n        const rid = group ? this.requested_rid : this.rid\n        if(this.graphService.graph.messages[rid]) {\n            this.chats = this.graphService.graph.messages[rid];\n            this.graphService.sortInt(this.chats, 'time', true)\n            for(var i=0; i < this.chats.length; i++) {\n                if (!group) {\n                  this.chats[i].relationship.identity = this.chats[i].public_key === this.bulletinSecretService.identity.public_key ? this.bulletinSecretService.identity : this.graphService.friends_indexed[rid].relationship.identity\n                }\n                let datetime = new Date(parseInt(this.chats[i].time) * 1000);\n                this.chats[i].time = datetime.toLocaleDateString() + ' ' + datetime.toLocaleTimeString();\n            }\n        } else {\n            this.chats = [];\n        }\n    }\n\n    refresh(refresher, showLoading = true) {\n        if (showLoading) {\n            this.loading = true;\n        }\n        let collection;\n        if (this.graphService.isGroup(this.identity)) {\n          collection = this.settingsService.collections.GROUP_CHAT;\n        } else {\n          collection = this.settingsService.collections.CHAT;\n        }\n        return this.graphService.getMessages([this.rid, this.requested_rid], collection)\n        .then(() => {\n            this.loading = false;\n            if(refresher) refresher.complete();\n            return this.parseChats();\n        })\n        .then(() => {\n            setTimeout(() => {\n              this.content && this.content.scrollToBottom(400)\n              this.input.setFocus()\n            }, 500);\n        });\n    }\n\n    changeListener($event) {\n        this.busy = true;\n        this.filepath = $event.target.files[0].name;\n        const reader = new FileReader();\n        reader.readAsDataURL($event.target.files[0]);\n        reader.onload = () => {\n          this.filedata = reader.result.toString().substr(22)\n          this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-upload?filename=' + encodeURIComponent(this.filepath), {file: this.filedata})\n          .subscribe((res) => {\n              const data = res.json();\n              if (!data.skylink) return;\n              this.skylink = data.skylink;\n              this.busy = false\n              $event.target.value = null;\n          })\n        };\n        reader.onerror = () => {};\n    }\n\n    viewProfile(item) {\n        const rid = this.graphService.generateRid(\n          item.relationship.identity.username_signature,\n          this.bulletinSecretService.identity.username_signature\n        )\n        const identity = this.graphService.friends_indexed[rid];\n        this.navCtrl.push(ProfilePage, {\n            identity: identity ? identity.relationship : item.relationship.identity\n        })\n    }\n\n    send() {\n        if (this.busy || !this.chatText) return;\n        this.busy = true\n        return this.sendMessagePromise()\n    }\n\n    sendMessagePromise() {\n      return this.walletService.get()\n      .then(() => {\n          if (this.graphService.isGroup(this.identity)) {\n            const info = {\n                relationship: {\n                    identity: this.bulletinSecretService.identity,\n                    skylink: this.skylink,\n                    filename: this.filepath\n                },\n                rid: this.rid,\n                requester_rid: this.requester_rid,\n                requested_rid: this.requested_rid,\n                group: true,\n                group_username_signature: this.graphService.groups_indexed[this.requested_rid].relationship.username_signature\n            }\n            info.relationship[this.settingsService.collections.GROUP_CHAT] = this.chatText\n            return this.transactionService.generateTransaction(info);\n          } else {\n            var dh_public_key = this.graphService.keys[this.rid].dh_public_keys[0];\n            var dh_private_key = this.graphService.keys[this.rid].dh_private_keys[0];\n\n            if(dh_public_key && dh_private_key) {\n                var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                    return parseInt(h, 16)\n                }));\n                var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                    return parseInt(h, 16)\n                }));\n                var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n                // camera permission was granted\n                const info = {\n                    dh_public_key: dh_public_key,\n                    dh_private_key: dh_private_key,\n                    relationship: {\n                      skylink: this.skylink,\n                      filename: this.filepath\n                    },\n                    shared_secret: shared_secret,\n                    rid: this.rid,\n                    requester_rid: this.requester_rid,\n                    requested_rid: this.requested_rid,\n                }\n                info.relationship[this.settingsService.collections.CHAT] = this.chatText;\n                return this.transactionService.generateTransaction(info);\n            } else {\n                return new Promise((resolve, reject) => {\n                    let alert = this.alertCtrl.create();\n                    alert.setTitle('Friendship not yet processed');\n                    alert.setSubTitle('Please wait a few minutes and try again');\n                    alert.addButton('Ok');\n                    alert.present();\n                    return reject('failed to create friend request');\n                });\n            }\n          }\n      }).then((txn) => {\n          return this.transactionService.sendTransaction();\n      }).then(() => {\n          this.busy = false;\n          this.chatText = '';\n          this.skylink = null;\n          this.filedata = null;\n          this.filepath = null;\n          this.refresh(null);\n      })\n      .catch((err) => {\n          console.log(err);\n          let alert = this.alertCtrl.create();\n          alert.setTitle('Message error');\n          alert.setSubTitle(err);\n          alert.addButton('Ok');\n          alert.present();\n      });\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import { Component, ViewChild, OnInit, Inject, LOCALE_ID } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ComposePage } from '../mail/compose';\nimport { MailItemPage } from '../mail/mailitem';\n\n\n@Component({\n  selector: 'page-calendar',\n  templateUrl: 'calendar.html'\n})\nexport class CalendarPage {\n  calendar: any;\n  loading: boolean;\n  constructor(\n    public navCtrl: NavController,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService\n  ) {\n    this.getCalendar({});\n  }\n\n  addZeros(date) {\n    return ('00' + date).substr(-2, 2)\n  }\n\n  ionViewDidEnter() {\n    return new Promise((resolve, reject) => {\n      this.loading = true;\n      let rids = [this.graphService.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        this.settingsService.collections.CALENDAR\n      )]\n      let group_rids = [];\n      for (let i=0; i < this.graphService.graph.groups.length; i++) {\n        const group = this.graphService.graph.groups[i];\n        group_rids.push(this.graphService.generateRid(\n          group.relationship.username_signature,\n          group.relationship.username_signature,\n          this.settingsService.collections.CALENDAR\n        ))\n        group_rids.push(this.graphService.generateRid(\n          group.relationship.username_signature,\n          group.relationship.username_signature,\n          this.settingsService.collections.GROUP_CALENDAR\n        ))\n      }\n      let file_rids = [];\n      for (let i=0; i < this.graphService.graph.files.length; i++) {\n        const file = this.graphService.graph.files[i];\n        file_rids.push(this.graphService.generateRid(\n          file.relationship.username_signature,\n          file.relationship.username_signature,\n          this.settingsService.collections.CALENDAR\n        ))\n        file_rids.push(this.graphService.generateRid(\n          file.relationship.username_signature,\n          file.relationship.username_signature,\n          this.settingsService.collections.GROUP_CALENDAR\n        ))\n      }\n      if (group_rids.length > 0) {\n        rids = rids.concat(group_rids);\n      }\n      if (file_rids.length > 0) {\n        rids = rids.concat(file_rids);\n      }\n      return resolve(rids);\n    })\n    .then((rids) => {\n      return this.graphService.getCalendar(rids)\n    })\n    .then((data) => {\n\n      let events = {};\n      this.graphService.graph.calendar.map((txn) => {\n        const group = this.graphService.groups_indexed[txn.requested_rid]\n        const event = txn.relationship[this.settingsService.collections.CALENDAR] ||\n                      txn.relationship[this.settingsService.collections.GROUP_CALENDAR];\n        const eventDate = event.event_datetime;\n        const index = eventDate.getFullYear() + this.addZeros(eventDate.getMonth()) + this.addZeros(eventDate.getDate());\n        if (!events[index]) {\n          events[index] = []\n        }\n        events[index].push({\n          group: group ? group.relationship : null,\n          sender: event.sender || this.graphService.friends_indexed[txn.rid].relationship.identity,\n          subject: event.subject,\n          body: event.body,\n          datetime: new Date(parseInt(txn.time)*1000).toISOString().slice(0, 19).replace('T', ' '),\n          id: txn.id,\n          message_type: event.message_type,\n          event_datetime: event.event_datetime\n        });\n      });\n      this.getCalendar(events);\n      this.loading = false;\n    })\n  }\n\n  itemTapped(event, item) {\n    this.navCtrl.push(MailItemPage, {\n      item: item\n    });\n  }\n\n  createEvent(event, item) {\n    this.navCtrl.push(ComposePage, {\n      item: {\n        message_type: 'calendar'\n      }\n    });\n  }\n\n  getCalendar(events) {\n    this.calendar = {\n      rows: [\n        {\n          days: [{}]\n        }\n      ]\n    };\n    const date = new Date();\n    const month = date.getMonth();\n    const year = date.getFullYear();\n    const fistDay = new Date(year, month);\n    const day = fistDay.getDay();\n    for(let i=0; i < 100; i++) {\n      if (i < day) {\n        if(this.calendar.rows.length === 0) {\n          this.calendar.rows.push({\n            days: []\n          });\n        }\n        this.calendar.rows[0].days.push({})\n        continue;\n      }\n      let calDate = new Date(year, month, fistDay.getDate() + i - day)\n      if(calDate.getMonth() > month) break;\n      const index = calDate.getFullYear() + this.addZeros(calDate.getMonth()) + this.addZeros(calDate.getDate());\n      if (this.calendar.rows[this.calendar.rows.length - 1].days.length >= 8) {\n        this.calendar.rows.push({\n          days: [{}]\n        })\n      }\n      this.calendar.rows[this.calendar.rows.length - 1].days.push({\n        date: calDate,\n        events: events[index]\n      })\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calendar/calendar.ts","import { Injectable } from '@angular/core';\nimport { Firebase } from '@ionic-native/firebase';\nimport { GraphService } from './graph.service';\nimport { SettingsService } from './settings.service';\nimport { Http } from '@angular/http';\n\n\n@Injectable()\nexport class FirebaseService {\n  constructor(\n    private settingsService: SettingsService,\n    private graphService: GraphService,\n    public firebase: Firebase,\n    private ahttp: Http\n  ) {}\n\n  initFirebase() {\n    if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n      this.firebase.getToken()\n      .then((token) => {\n        console.log(token);\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/fcm-token', {\n          rid: this.graphService.graph.rid,\n          token: token,\n        }).subscribe(() => {});\n      })\n      .catch((error) => {\n          console.log('Error getting token', error)\n      });\n\n      this.firebase.onTokenRefresh()\n      .subscribe((token: string) => {\n        console.log(token);\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/fcm-token', {\n          rid: this.graphService.graph.rid,\n          token: token\n        }).subscribe(() => {});\n      });\n\n      this.firebase.onNotificationOpen().subscribe(notification => {\n        console.log(notification);\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/firebase.service.ts","import { Component } from '@angular/core';\nimport { Events, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { OpenGraphParserService } from '../../app/opengraphparser.service'\nimport { SettingsService } from '../../app/settings.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport { GraphService } from '../../app/graph.service';\nimport { ProfilePage } from '../profile/profile';\n\ndeclare var Base64\n\n@Component({\n    selector: 'modal-files',\n    templateUrl: 'siafiles.html'\n})\nexport class SiaFiles {\n\t  logicalParent = null;\n    mode = '';\n\t  postText = null;\n    post = {};\n    files = null;\n    selectedFile = null;\n    filepath: any;\n    filedata: any;\n    group = null;\n    error = '';\n    constructor(\n        public navParams: NavParams,\n        public viewCtrl: ViewController,\n        private walletService: WalletService,\n        private alertCtrl: AlertController,\n        private transactionService: TransactionService,\n        private openGraphParserService: OpenGraphParserService,\n        private settingsService: SettingsService,\n        private bulletinSecretService: BulletinSecretService,\n        private ahttp: Http,\n        private graphService: GraphService,\n        private navCtrl: NavController,\n        private events: Events\n    ) {\n        this.group = navParams.data.group;\n        this.mode = navParams.data.mode || 'page';\n        this.logicalParent = navParams.data.logicalParent;\n        const files = [];\n        for (let i = 0; i < this.graphService.graph.files.length; i++) {\n          const file = this.graphService.graph.files[i];\n          files.push({\n            title: 'Messages',\n            label: file.relationship.username,\n            component: ProfilePage,\n            count: false,\n            color: '',\n            kwargs: {identity: file.relationship },\n            root: false\n          })\n        }\n        this.events.publish('menuonly', files);\n    }\n\n    changeListener($event) {\n        this.filepath = $event.target.files[0].name;\n        const reader = new FileReader();\n        reader.readAsDataURL($event.target.files[0]);\n        reader.onload = () => {\n          this.filedata = reader.result.toString().substr(22)\n        };\n        reader.onerror = () => {};\n    }\n\n    upload() {\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-upload?filename=' + encodeURIComponent(this.filepath), {file: this.filedata})\n        .subscribe((res) => {\n            const data = res.json();\n            if (!data.skylink) return;\n            this.graphService.createGroup(this.filepath, null, {skylink: data.skylink}, 'file') ;\n        })\n    }\n\n    delete(siapath) {\n        this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-delete?siapath=' + encodeURIComponent(siapath))\n        .subscribe((res) => {\n            this.files = res.json()['files'];\n        })\n    }\n\n    submit() {\n        this.walletService.get().then(() => {\n        \treturn new Promise((resolve, reject) => {\n                if (this.selectedFile) {\n\n                    this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-share-file?siapath=' + this.selectedFile)\n                    .subscribe((res) => {\n                        let sharefiledata = res.json()['filedata'];\n                        this.approveTxn(sharefiledata, resolve);\n                    })\n                } else {\n                    this.approveTxn(null, resolve);\n                }\n\t            console.log(status);\n        \t}).then(() => {\n        \t\tthis.dismiss();\n        \t});\n        });\n    }\n\n    approveTxn(sharefiledata, resolve) {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve Transaction');\n        alert.setSubTitle('You are about to spend 0.01 coins ( 0.01 fee)');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                // camera permission was granted\n                new Promise((resolve, reject) => {\n                    if (sharefiledata) {\n                        const info = {\n                            relationship: {\n                                my_username_signature: this.bulletinSecretService.generate_username_signature(),\n                                my_username: this.bulletinSecretService.username\n                            },\n                            username_signature: this.group.username_signature,\n                            rid: this.group.rid,\n                            requester_rid: this.group.requester_rid,\n                            requested_rid: this.group.requested_rid\n                        }\n                        info.relationship[this.settingsService.collections.GROUP_CHAT] = this.postText\n                        info.relationship[this.settingsService.collections.GROUP_CHAT_FILE] = sharefiledata\n                        info.relationship[this.settingsService.collections.GROUP_CHAT_FILE_NAME] = this.selectedFile\n\n                        return this.transactionService.generateTransaction(info)\n                        .then(() => {\n                            resolve()\n                        })\n                        .catch((err) => {\n                            reject('failed generating transaction');\n                        });\n                    } else {\n                        return this.transactionService.generateTransaction({\n                            relationship: {\n                                postText: this.postText\n                            }\n                        })\n                        .then(() => {\n                            resolve()\n                        })\n                        .catch((err) => {\n                            reject(err);\n                        });\n                    }\n                })\n                .then((hash) => {\n                    return this.transactionService.sendTransaction();\n                })\n                .then(() => {\n                    this.dismiss();\n                })\n                .catch((err) => {\n                    console.log('could not generate hash');\n                });\n            }\n        });\n        alert.present();\n    }\n\n    openProfile(item) {\n      this.navCtrl.push(ProfilePage, {\n        identity: item.relationship,\n      });\n    }\n\n    import() {\n        var buttons = [];\n        buttons.push({\n            text: 'Import',\n            handler: (data) => {\n                const identity = JSON.parse(data.identity);\n                this.graphService.addGroup(identity, null, null, null)\n            }\n        });\n        let alert = this.alertCtrl.create({\n            inputs: [\n                {\n                    name: 'identity',\n                    placeholder: 'Paste file code...'\n                }\n            ],\n            buttons: buttons\n        });\n        alert.setTitle('Import file');\n        alert.setSubTitle('Paste the code of your file below');\n        alert.present();\n    }\n\n    dismiss() {\n    \tthis.logicalParent.refresh();\n    \tthis.viewCtrl.dismiss();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/siafiles/siafiles.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { WebSocketService } from '../../app/websocket.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { CompleteTestService } from '../../app/autocomplete.provider';\n\n\ndeclare var foobar;\n\n@Component({\n    selector: 'page-web',\n    templateUrl: 'web.html'\n})\nexport class WebPage {\n    recipient: any;\n    resource: any;\n    content: any;\n    challenge: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        private websocketService: WebSocketService,\n        private completeTestService: CompleteTestService\n    ) {\n      this.recipient = this.navParams.get('recipient')\n      this.resource = this.navParams.get('resource')\n      this.content = this.navParams.get('content')\n    }\n\n\n    go() {\n      return new Promise((resolve, reject) => {\n        return this.websocketService.directMessageRequest(\n          this.recipient,\n          this.settingsService.collections.WEB_PAGE_REQUEST,\n          { resource: this.resource },\n          resolve\n        )\n      })\n      .then((item: any) => {\n        return this.content = item.relationship[this.settingsService.collections.WEB_PAGE_RESPONSE].content;\n      })\n    }\n\n    signIn() {\n      let identity;\n      let url;\n      const key = foobar.bitcoin.ECPair.makeRandom();\n      return new Promise((resolve, reject) => {\n        return this.websocketService.directMessageRequest(\n          this.recipient,\n          this.settingsService.collections.WEB_CHALLENGE_REQUEST,\n          {},\n          resolve\n        )\n      })\n      .then((item: any) => {\n        const username = item.relationship[this.settingsService.collections.WEB_CHALLENGE_RESPONSE].challenge;\n        identity = {\n          wif: key.toWIF(),\n          username: username,\n          username_signature: foobar.base64.fromByteArray(key.sign(foobar.bitcoin.crypto.sha256(username)).toDER()),\n          public_key: key.getPublicKeyBuffer().toString('hex')\n        }\n        url = item.relationship[this.settingsService.collections.WEB_CHALLENGE_RESPONSE].url;\n        return new Promise((resolve, reject) => {\n          return this.websocketService.directMessageRequest(\n            this.recipient,\n            this.settingsService.collections.WEB_SIGNIN_REQUEST,\n            identity,\n            resolve\n          )\n        })\n      })\n      .then((identityTxn: any) => {\n        if (identity.wif !== identityTxn.relationship[this.settingsService.collections.WEB_SIGNIN_RESPONSE].wif) return;\n        if (identity.username !== identityTxn.relationship[this.settingsService.collections.WEB_SIGNIN_RESPONSE].username) return;\n        var iframe;\n        iframe = document.createElement('iframe');\n        iframe.id = 'myFrame';\n        const urlObject = new URL(url)\n        iframe.src = urlObject.href;\n        iframe.style.display = 'none';\n        document.body.appendChild(iframe);\n        iframe.onload = () => {\n          window.frames['myFrame'].contentWindow.postMessage(identity, urlObject.origin);\n          window.open(urlObject.href, '_blank')\n          iframe.parentNode.removeChild(iframe);\n        }\n      })\n    }\n\n    myForm = new FormGroup({\n        searchTerm: new FormControl('', [Validators.required])\n    })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/web/web.ts","import { Component } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { WebSocketService } from '../../app/websocket.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\n\ndeclare var X25519;\n\n@Component({\n    selector: 'page-buildpage',\n    templateUrl: 'buildpage.html'\n})\nexport class BuildPagePage {\n  resource: any;\n    pageText: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        private websocketService: WebSocketService,\n        private transactionService: TransactionService,\n        private alertCtrl: AlertController\n    ) {}\n\n    save() {\n      let alert = this.alertCtrl.create();\n      alert.setTitle('Create web page');\n      alert.setSubTitle('Are you sure you want to save this page?');\n      alert.addButton({\n          text: 'Continue editing'\n      });\n      alert.addButton({\n          text: 'Save',\n          handler: (data: any) => {\n            this.resource = '';\n            this.pageText = '';\n            this.websocketService.webpage({resource: this.resource, content: this.pageText})\n          }\n      });\n      alert.present();\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/web/buildpage.ts","import { Injectable } from '@angular/core';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { WalletService } from './wallet.service';\nimport { SettingsService } from './settings.service';\nimport { Http } from '@angular/http';\nimport { encrypt, decrypt, PrivateKey } from 'eciesjs'\n\ndeclare var foobar;\ndeclare var forge;\ndeclare var Base64;\n\n@Injectable()\nexport class TransactionService {\n    info = null;\n    transaction = null;\n    key = null;\n    xhr = null;\n    rid = null;\n    callbackurl = null;\n    blockchainurl = null;\n    group_username_signature = null;\n    shared_secret = null;\n    to = null;\n    txnattempts = null;\n    cbattempts = null;\n    prevTxn = null;\n    txns = null;\n    resolve = null;\n    unspent_transaction_override = null;\n    value = null;\n    username = null;\n    signatures = null;\n    recipient_identity = null;\n    constructor(\n        private walletService: WalletService,\n        private bulletinSecretService: BulletinSecretService,\n        private ahttp: Http,\n        private settingsService: SettingsService\n    ) {}\n\n    generateTransaction(info) {\n        return new Promise((resolve, reject) => {\n            this.key = this.bulletinSecretService.key;\n            this.username = this.bulletinSecretService.username;\n            this.recipient_identity = info.recipient_identity;\n            this.txnattempts = [12, 5, 4];\n            this.cbattempts = [12, 5, 4];\n            this.info = info;\n            this.group_username_signature = this.info.group_username_signature;\n            this.unspent_transaction_override = this.info.unspent_transaction;\n            this.blockchainurl = this.info.blockchainurl;\n            this.callbackurl = this.info.callbackurl;\n            this.to = this.info.to;\n            this.value = this.info.value;\n\n            this.transaction = {\n                rid:  this.info.rid,\n                fee: 0.00,\n                requester_rid: typeof this.info.requester_rid == 'undefined' ? '' : this.info.requester_rid,\n                requested_rid: typeof this.info.requested_rid == 'undefined' ? '' : this.info.requested_rid,\n                outputs: [],\n                time: parseInt(((+ new Date()) / 1000).toString()).toString(),\n                public_key: this.key.getPublicKeyBuffer().toString('hex')\n            };\n            if (this.info.dh_public_key && this.info.relationship.dh_private_key) {\n                this.transaction.dh_public_key = this.info.dh_public_key;\n            }\n            if (this.to) {\n                this.transaction.outputs.push({\n                    to: this.to,\n                    value: this.value || 0\n                })\n            }\n            if (this.transaction.outputs.length > 0) {\n                var transaction_total = this.transaction.outputs[0].value + this.transaction.fee;\n            } else {\n                transaction_total = this.transaction.fee;\n            }\n            if ((this.info.relationship && this.info.relationship.dh_private_key && this.walletService.wallet.balance < transaction_total) /* || this.walletService.wallet.unspent_transactions.length == 0*/) {\n                reject(\"not enough money\");\n                return\n            } else {\n                var inputs = [];\n                var input_sum = 0\n                let unspent_transactions: any;\n                if(this.unspent_transaction_override) {\n                    unspent_transactions = [this.unspent_transaction_override];\n                } else {\n                    this.info.relationship = this.info.relationship || {};\n                    unspent_transactions = this.walletService.wallet.unspent_transactions;\n                    unspent_transactions.sort(function (a, b) {\n                        if (a.height < b.height)\n                          return -1\n                        if ( a.height > b.height)\n                          return 1\n                        return 0\n                    });\n                }\n                let already_added = []\n                dance:\n                for (var i=0; i < unspent_transactions.length; i++) {\n                    var unspent_transaction = unspent_transactions[i];\n                    for (var j=0; j < unspent_transaction.outputs.length; j++) {\n                        var unspent_output = unspent_transaction.outputs[j];\n                        if (unspent_output.to === this.key.getAddress()) {\n                            if (already_added.indexOf(unspent_transaction.id) === -1){\n                                already_added.push(unspent_transaction.id);\n                                inputs.push({id: unspent_transaction.id});\n                                input_sum += parseFloat(unspent_output.value);\n                                console.log(parseFloat(unspent_output.value));\n                            }\n                            if (input_sum >= transaction_total) {\n                                this.transaction.outputs.push({\n                                    to: this.key.getAddress(),\n                                    value: (input_sum - transaction_total)\n                                })\n                                break dance;\n                            }\n                        }\n                    }\n                }\n            }\n            var myAddress = this.key.getAddress();\n            var found = false;\n            for (var h=0; h < this.transaction.outputs.length; h++) {\n                if (this.transaction.outputs[h].to == myAddress) {\n                    found = true;\n                }\n            }\n            if (!found) {\n                this.transaction.outputs.push({\n                    to: this.key.getAddress(),\n                    value: 0\n                })\n            }\n\n            if (input_sum < transaction_total) {\n                return reject(false);\n            }\n            this.transaction.inputs = inputs;\n\n            var inputs_hashes = [];\n            for(i=0; i < inputs.length; i++) {\n                inputs_hashes.push(inputs[i].id);\n            }\n\n            var inputs_hashes_arr = inputs_hashes.sort(function (a, b) {\n                if (a.toLowerCase() < b.toLowerCase())\n                  return -1\n                if ( a.toLowerCase() > b.toLowerCase())\n                  return 1\n                return 0\n            });\n\n            var inputs_hashes_concat = inputs_hashes_arr.join('')\n\n            var outputs_hashes = [];\n            for(i=0; i < this.transaction.outputs.length; i++) {\n                outputs_hashes.push(this.transaction.outputs[i].to+this.transaction.outputs[i].value.toFixed(8));\n            }\n\n            var outputs_hashes_arr = outputs_hashes.sort(function (a, b) {\n                if (a.toLowerCase() < b.toLowerCase())\n                  return -1\n                if ( a.toLowerCase() > b.toLowerCase())\n                  return 1\n                return 0\n            });\n            var outputs_hashes_concat = outputs_hashes_arr.join('');\n            if (typeof this.info.relationship === 'string') {\n              this.transaction.relationship = this.info.relationship;\n            }\n\n            if (this.info.dh_public_key && this.info.relationship.dh_private_key) {\n                // creating new relationship\n                this.transaction.relationship = this.publicEncrypt(JSON.stringify(this.info.relationship), this.recipient_identity.public_key)\n                var hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.dh_public_key +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.group && !this.info.relationship.wif) {\n                // group chat\n\n                this.transaction.relationship = this.shared_encrypt(this.group_username_signature, JSON.stringify(this.info.relationship));\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.postText) {\n                // group post\n\n                this.transaction.relationship = this.shared_encrypt(this.group_username_signature, JSON.stringify(this.info.relationship));\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.comment) {\n                // group comment\n\n                this.transaction.relationship = this.shared_encrypt(this.group_username_signature, JSON.stringify(this.info.relationship));\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.react) {\n                // group react\n\n                this.transaction.relationship = this.shared_encrypt(this.group_username_signature, JSON.stringify(this.info.relationship));\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (\n              this.info.relationship[this.settingsService.collections.CALENDAR] ||\n              this.info.relationship[this.settingsService.collections.CHAT] ||\n              this.info.relationship[this.settingsService.collections.GROUP_CALENDAR] ||\n              this.info.relationship[this.settingsService.collections.GROUP_CHAT] ||\n              this.info.relationship[this.settingsService.collections.GROUP_MAIL] ||\n              this.info.relationship[this.settingsService.collections.MAIL]\n            ) {\n                // chat\n                this.transaction.relationship = this.shared_encrypt(this.info.shared_secret, JSON.stringify(this.info.relationship));\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship[this.settingsService.collections.WEB_PAGE_REQUEST ]) {\n                // sign in\n                this.transaction.relationship = this.shared_encrypt(this.info.shared_secret, JSON.stringify(this.info.relationship));\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.wif && !this.info.group) {\n                // recovery\n                this.transaction.relationship = this.shared_encrypt(this.info.shared_secret, JSON.stringify(this.info.relationship));\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.event) {\n                // calendar event\n                this.transaction.relationship = this.encrypt();\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.username || this.info.relationship.wif) {\n                // join or create group or contact\n                if (this.info.relationship.parent) {\n                  this.transaction.relationship = this.shared_encrypt(this.info.relationship.parent.username_signature, JSON.stringify(this.info.relationship));\n                } else {\n                  this.transaction.relationship = this.encrypt();\n                }\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (\n              this.info.relationship[this.settingsService.collections.WEB_CHALLENGE_REQUEST] ||\n              this.info.relationship[this.settingsService.collections.WEB_CHALLENGE_RESPONSE] ||\n              this.info.relationship[this.settingsService.collections.WEB_PAGE_REQUEST] ||\n              this.info.relationship[this.settingsService.collections.WEB_PAGE_RESPONSE] ||\n              this.info.relationship[this.settingsService.collections.WEB_SIGNIN_REQUEST] ||\n              this.info.relationship[this.settingsService.collections.WEB_SIGNIN_RESPONSE]\n            ) {\n                this.transaction.relationship = this.shared_encrypt(this.info.shared_secret, JSON.stringify(this.info.relationship));\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship[this.settingsService.collections.WEB_PAGE]) {\n                // mypage\n                this.transaction.relationship = this.encrypt();\n\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else {\n                //straight transaction\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    (this.transaction.rid || '') +\n                    (this.transaction.relationship || '') +\n                    this.transaction.fee.toFixed(8) +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex');\n            }\n\n            this.transaction.hash = hash\n            var attempt = this.txnattempts.pop();\n            attempt = this.cbattempts.pop();\n            this.transaction.id = this.get_transaction_id(this.transaction.hash, attempt);\n            if(hash) {\n                resolve(this.transaction);\n            } else {\n                reject(false);\n            }\n        });\n    }\n\n    getFastGraphSignature() {\n        return new Promise((resolve, reject) => {\n            this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sign-raw-transaction', {\n                hash: this.transaction.hash,\n                username_signature: this.bulletinSecretService.generate_username_signature(),\n                input: this.transaction.inputs[0].id,\n                id: this.transaction.id,\n                txn: this.transaction\n            })\n            .subscribe((res) => {\n                try {\n                    let data = res.json();\n                    this.transaction.signatures = [data.signature]\n                    return resolve(data);\n                } catch(err) {\n                  return reject(err);\n\n                }\n            },\n            (err) => {\n                reject(err);\n            });\n        });\n    }\n\n    sendTransaction(txn=null, transactionUrlOverride = undefined) {\n        return new Promise((resolve, reject) => {\n            var url = '';\n            url = (transactionUrlOverride || this.settingsService.remoteSettings['transactionUrl']) + '?username_signature=' + this.bulletinSecretService.username_signature + '&to=' + this.key.getAddress() + '&username=' + this.username\n\n            this.ahttp.post(\n                url,\n                txn || this.transaction)\n            .subscribe((data) => {\n                try {\n                    resolve(JSON.parse(data['_body']));\n                }\n                catch(err) {\n                    reject(err);\n                }\n            },\n            (error) => {\n                if (this.txnattempts.length > 0) {\n                    reject(error);\n                }\n            });\n        });\n    }\n\n    get_transaction_id(hash, trynum) {\n        var combine = new Uint8Array(hash.length);\n        //combine[0] = 0;\n        //combine[1] = 64;\n        for (var i = 0; i < hash.length; i++) {\n            combine[i] = hash.charCodeAt(i)\n        }\n        var shaMessage = foobar.bitcoin.crypto.sha256(combine);\n        var signature = this.key.sign(shaMessage);\n        var der = signature.toDER();\n        return foobar.base64.fromByteArray(der);\n    }\n\n    direct_message(data) {\n        //placeholder\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n\n    hexToByteArray(str) {\n      if (!str) {\n        return new Uint8Array([]);\n      }\n\n      var a = [];\n      for (var i = 0, len = str.length; i < len; i+=2) {\n        a.push(parseInt(str.substr(i,2),16));\n      }\n\n      return new Uint8Array(a);\n    }\n\n    byteArrayToHexString(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n\n    encrypt() {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var cipher = forge.cipher.createCipher('AES-CBC', key);\n        var iv = forge.random.getBytesSync(16);\n        cipher.start({iv: iv});\n        cipher.update(forge.util.createBuffer(iv + JSON.stringify(this.info.relationship)));\n        cipher.finish()\n        return cipher.output.toHex()\n    }\n\n    publicEncrypt(message, public_key) {\n      const data = Buffer.from(message);\n      return encrypt(public_key, data).toString('hex');\n    }\n\n    shared_encrypt(shared_secret, message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(shared_secret).digest().toHex(), 'salt', 400, 32);\n        var cipher = forge.cipher.createCipher('AES-CBC', key);\n        var iv = forge.random.getBytesSync(16);\n        cipher.start({iv: iv});\n        cipher.update(forge.util.createBuffer(iv + Base64.encode(message)));\n        cipher.finish()\n        return cipher.output.toHex()\n    }\n\n    decrypt(message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output\n    }\n\n    publicDecrypt(message) {\n      const decrypted = decrypt(this.key.d.toHex(), Buffer.from(this.hexToByteArray(message))).toString();\n      return decrypted\n    }\n\n    shared_decrypt(shared_secret, message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(shared_secret).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/transaction.service.ts","import { Injectable } from '@angular/core';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { SettingsService } from './settings.service';\nimport { Http, RequestOptions, Headers } from '@angular/http';\nimport { timeout } from 'rxjs/operators';\n\n\n@Injectable()\nexport class WalletService {\n    wallet: any;\n    walletproviderAddress: any;\n    xhr: any;\n    key: any;\n    walletError = false;\n    constructor(\n        private ahttp: Http,\n        private bulletinSecretService: BulletinSecretService,\n        private settingsService: SettingsService,\n    ) {\n        this.wallet = {\n            balance: 0,\n            unspent_transactions: []\n        };\n    }\n\n    get(amount_needed=0) {\n        return new Promise((resolve, reject) => {\n            if (!this.settingsService.remoteSettings || !this.settingsService.remoteSettings['walletUrl']) return resolve();\n            return this.walletPromise(amount_needed)\n            .then(() => {\n                return resolve();  \n            })\n            .catch((err) => {\n                return reject(err);  \n            });\n        })\n    }\n\n    walletPromise(amount_needed=0) {\n        return new Promise((resolve, reject) => {\n            if(!this.settingsService.remoteSettings['walletUrl']) {\n                return reject('no wallet url')\n            }\n            if(this.bulletinSecretService.username) {\n                let headers = new Headers();\n                headers.append('Authorization', 'Bearer ' + this.settingsService.tokens[this.bulletinSecretService.keyname]);\n                let options = new RequestOptions({ headers: headers, withCredentials: true });\n                this.ahttp.get(this.settingsService.remoteSettings['walletUrl'] + '?amount_needed=' + amount_needed + '&address=' + this.bulletinSecretService.key.getAddress() + '&username_signature=' + this.bulletinSecretService.username_signature + '&origin=' + window.location.origin, options)\n                .pipe(timeout(30000))\n                .subscribe((data) => {\n                    if(data['_body']) {\n                        this.walletError = false;\n                        this.wallet = JSON.parse(data['_body']);\n                        this.wallet.balance = parseFloat(this.wallet.balance); //pasefloat\n                        this.wallet.balancePretty = this.wallet.balance.toFixed(2);\n                        resolve(data['_body']);\n                    } else {\n                        this.walletError = true;\n                        this.wallet = {};\n                        this.wallet.balancePretty = 0;\n                        reject(\"no data returned\");\n                    }\n                },\n                (err) => {\n                    this.walletError = true;\n                    reject(\"data or server error\");\n                });\n            } else {\n                this.walletError = true;\n                reject(\"username not set\");\n            }\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/wallet.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 264;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 264\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 305;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 305\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\n\n\n@Component({\n    selector: 'page-signaturerequest',\n    templateUrl: 'signaturerequest.html'\n})\nexport class SignatureRequestPage {\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n    ) {}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signaturerequest/signaturerequest.ts","import { Component, Injectable } from '@angular/core';\nimport { NavController, NavParams, Platform, ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { SettingsService } from '../../app/settings.service';\nimport { PeerService } from '../../app/peer.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { FirebaseService } from '../../app/firebase.service';\nimport { ListPage } from '../list/list';\nimport { AlertController, LoadingController } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Events } from 'ionic-angular';\nimport { HomePage } from '../home/home';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { SendReceive } from '../sendreceive/sendreceive';\nimport { GoogleMaps, GoogleMapsEvent, LatLng, MarkerOptions, Marker, Environment, GoogleMapsMapTypeId } from \"@ionic-native/google-maps\";\nimport { WebSocketService } from '../../app/websocket.service';\nimport DefaultGroups from '../../app/groups';\n\n\ndeclare var forge;\ndeclare var foobar;\ndeclare var CenterIdentity;\ndeclare var google;\n\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\n\nexport class Settings {\n    baseUrl = null\n    blockchainAddress = null\n    graphproviderAddress = null\n    walletproviderAddress = null\n    siaAddress = null\n    siaPassword = null\n    keys = null;\n    loadingModal = null;\n    prefix = null;\n    importedKey = null;\n    activeKey = null;\n    serverDown = false;\n    noUsername = false;\n    key = null;\n    geoWalletUsername: any;\n    identity: any;\n    centerIdentityImportEnabled = false;\n    centerIdentityExportEnabled = false;\n    exportKeyEnabled = false;\n    centerIdentityLocation: any;\n    centerIdentityPrivateUsername = '';\n    ci: any;\n    centerIdentitySaveSuccess = false;\n    centerIdentityImportSuccess = false;\n    identitySkylink: any;\n    busy: any;\n    CIBusy: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        private settingsService: SettingsService,\n        private bulletinSecretService: BulletinSecretService,\n        private firebaseService: FirebaseService,\n        public loadingCtrl: LoadingController,\n        public alertCtrl: AlertController,\n        private storage: Storage,\n        private graphService: GraphService,\n        private socialSharing: SocialSharing,\n        private walletService: WalletService,\n        private websocketService: WebSocketService,\n        private transactionService: TransactionService,\n        public events: Events,\n        public toastCtrl: ToastController,\n        public peerService: PeerService,\n        private ahttp: Http,\n        private geolocation: Geolocation,\n        private platform: Platform\n    ) {\n        if (typeof this.peerService.mode == 'undefined') this.peerService.mode = true;\n        this.prefix = 'usernames-';\n        this.ci = new CenterIdentity(undefined, undefined, undefined, undefined, true)\n        this.refresh(null)\n        .then(() => {\n            return this.peerService.go();\n        })\n        .then(() => {\n            return this.websocketService.init();\n        }).catch((err) => {\n            console.log(err)\n        });\n    }\n\n    loadMap(mapType) {\n      /* The create() function will take the ID of your map element */\n      const map = GoogleMaps.create('map-' + mapType, {\n        mapType: GoogleMapsMapTypeId.HYBRID\n      });\n\n      map.one( GoogleMapsEvent.MAP_READY ).then((data: any) => {\n        const coordinates: LatLng = new LatLng(41, -87);\n\n        map.setCameraTarget(coordinates);\n        map.setCameraZoom(8);\n      });\n\n      map.on(GoogleMapsEvent.MAP_CLICK).subscribe((e) => {\n        map.clear();\n        this.centerIdentityLocation = e[0]\n        map.addMarker({\n          position: e[0]\n        })\n      })\n    }\n\n    refresh(refresher) {\n        this.noUsername = false;\n        return this.bulletinSecretService.all()\n        .then((keys) => {\n            this.setKey(keys);\n        }).then(() => {\n            if(refresher) refresher.complete();\n        });\n\n    }\n\n    getResults(keyword:string) {\n      return ['234234','234234']\n    }\n\n    setKey(keys) {\n        var keys_indexed = {};\n        for (var i = 0; i < keys.length; i++) {\n            keys_indexed[keys[i].key] = keys[i].key;\n        }\n        var newKeys = [];\n        this.storage.forEach((value, key) => {\n            if (key.substr(0, this.prefix.length) === this.prefix) {\n                let active = (this.bulletinSecretService.username || '') == key.substr(this.prefix.length);\n                newKeys.push({\n                    username: key.substr(this.prefix.length),\n                    key: value,\n                    active: active\n                });\n                if (active) {\n                    this.activeKey = value;\n                }\n            }\n        })\n        .then(() => {\n            newKeys.sort(function (a, b) {\n                if (a.username.toLowerCase() < b.username.toLowerCase())\n                  return -1\n                if ( a.username.toLowerCase() > b.username.toLowerCase())\n                  return 1\n                return 0\n            });\n            this.keys = newKeys;\n        })\n        .then(() => {\n          if (!this.activeKey) return;\n          if (this.settingsService.remoteSettings.restricted) {\n            this.busy = true\n            this.graphService.identityToSkylink(this.bulletinSecretService.identity)\n            .then((skylink) => {\n              this.identitySkylink = skylink;\n              this.busy = false;\n            })\n          }\n        });\n    }\n\n    exportKey() {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Export Key');\n        alert.setSubTitle('Warning: Never ever share this secret key with anybody but yourself!');\n        alert.addButton({\n            text: 'Ok',\n            handler: (data: any) => {\n                this.socialSharing.share(this.bulletinSecretService.key.toWIF(), \"Export Secret Key\");\n                this.exportKeyEnabled = true;\n            }\n        });\n        alert.present();\n    }\n\n    importKey() {\n        new Promise((resolve, reject) => {\n            let alert = this.alertCtrl.create({\n                title: 'Set username',\n                inputs: [\n                {\n                    name: 'username',\n                    placeholder: 'Username'\n                }\n                ],\n                buttons: [\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: data => {\n                        console.log('Cancel clicked');\n                        reject('Cancel clicked');\n                    }\n                },\n                {\n                    text: 'Save',\n                    handler: data => {\n                        const toast = this.toastCtrl.create({\n                            message: 'Identity created',\n                            duration: 2000\n                        });\n                        toast.present();\n                        resolve(data.username);\n                    }\n                }\n                ]\n            });\n            alert.present();\n        })\n        .then((username) => {\n            return this.bulletinSecretService.import(this.importedKey, username);\n        })\n        .then(() => {\n            this.importedKey = '';\n            return this.refresh(null);\n        })\n        .catch(() => {\n            const toast = this.toastCtrl.create({\n                message: 'Error importing identity!',\n                duration: 2000\n            });\n            toast.present();\n        });\n    }\n\n    getUsername() {\n      return new Promise((resolve, reject) => {\n        let alert = this.alertCtrl.create({\n          title: 'Set username',\n          inputs: [\n            {\n              name: 'username',\n              placeholder: 'Username'\n            }\n          ],\n          buttons: [\n            {\n              text: 'Cancel',\n              role: 'cancel',\n              handler: data => {\n                console.log('Cancel clicked');\n                reject('Cancel clicked');\n              }\n            },\n            {\n                text: 'Save',\n                handler: data => {\n                    resolve(data.username);\n                }\n            }\n          ]\n        });\n        alert.present();\n      })\n    }\n\n    getInvite() {\n      return new Promise((resolve, reject) => {\n        let alert = this.alertCtrl.create({\n          title: 'Set invite code',\n          inputs: [\n            {\n              name: 'invite',\n              placeholder: 'Invite'\n            }\n          ],\n          buttons: [\n            {\n              text: 'Cancel',\n              role: 'cancel',\n              handler: data => {\n                console.log('Cancel clicked');\n                reject('Cancel clicked');\n              }\n            },\n            {\n                text: 'Save',\n                handler: data => {\n                    resolve(data.invite);\n                }\n            }\n          ]\n        });\n        alert.present();\n      })\n      .then((skylink) => {\n        return this.graphService.identityFromSkylink(skylink)\n      })\n    }\n\n    createWalletFromInvite() {\n      let promise;\n      let username;\n      let userType;\n      let userParent;\n      let invite;\n\n      this.loadingModal = this.loadingCtrl.create({\n          content: 'initializing...'\n      });\n      this.loadingModal.present();\n\n      promise = this.getInvite()\n      .then((inv: any) => {\n        invite = inv\n        return this.graphService.checkInvite(invite);\n      })\n      .then((result: any) => {\n        if (!result.status) {\n          this.bulletinSecretService.unset();\n          const toast = this.toastCtrl.create({\n              message: result.message,\n              duration: 10000\n          });\n          toast.present();\n          throw result.message\n        }\n        userType = result.type;\n        userParent = result.parent;\n      })\n      .then(() => {\n        return this.createKey(invite.identifier)\n      })\n      .then(() => {\n        invite = {...invite, ...this.graphService.toIdentity(this.bulletinSecretService.identity)}\n        return this.graphService.checkInvite(invite);\n      })\n      .then((): Promise<null | void> => {\n        if (userType === 'member_contact') {\n          return this.joinGroup(userParent);\n        } else if (userType === 'organization_member') {\n          return this.joinGroup(userParent);\n        } else if (userType === 'organization') {\n          return this.joinGroup(this.settingsService.remoteSettings.identity);\n        } else if (userType === 'admin') {\n          return new Promise((resolve, reject) => {return resolve(null)});\n        }\n      })\n      .then(() => {\n          return this.selectIdentity(this.bulletinSecretService.keyname.substr(this.prefix.length), false);\n      })\n      .then(() => {\n          if (this.settingsService.remoteSettings['walletUrl']) {\n              return this.graphService.getInfo();\n          }\n      })\n      .then(() => {\n          return this.refresh(null)\n      })\n      .then(() => {\n          this.loadingModal.dismiss();\n      })\n      .then(() => {\n        const toast = this.toastCtrl.create({\n          message: 'Identity created',\n          duration: 2000\n        });\n        toast.present();\n      })\n      .catch(() => {\n          this.events.publish('pages');\n          this.loadingModal.dismiss();\n      })\n    }\n\n    createWallet() {\n      let promise;\n      let username;\n      let userType;\n      let userParent;\n\n      this.loadingModal = this.loadingCtrl.create({\n          content: 'initializing...'\n      });\n      this.loadingModal.present();\n\n      return this.getUsername()\n      .then((uname) => {\n          username = uname\n          return this.createKey(username)\n      })\n      .then(() => {\n          return this.refresh(null)\n      })\n      .then(() => {\n          return this.selectIdentity(username, false)\n      })\n      .then(() => {\n        return this.graphService.refreshFriendsAndGroups();\n      })\n      .then(() => {\n          this.loadingModal.dismiss();\n      })\n      .catch(() => {\n          this.loadingModal.dismiss();\n      })\n      .then(() => {\n        const toast = this.toastCtrl.create({\n          message: 'Identity created',\n          duration: 2000\n        });\n        toast.present();\n      })\n    }\n\n    createKey(username) {\n        return new Promise((resolve, reject) => {\n            this.bulletinSecretService.create(username)\n            .then(() => {\n                return resolve(username);\n            });\n        })\n        .then((key) => {\n            return this.set(key)\n        })\n        .then(() => {\n            return this.save();\n        });\n    }\n\n    selectIdentity(key, showModal = true) {\n        this.graphService.resetGraph();\n        if (showModal) {\n          this.loadingModal = this.loadingCtrl.create({\n              content: 'initializing...'\n          });\n          this.loadingModal.present();\n        }\n        if (this.settingsService.remoteSettings.restricted) {\n          return this.set(key)\n          .then(() => {\n            return this.graphService.refreshFriendsAndGroups();\n          })\n          .then(() => {\n            return this.graphService.getUserType(this.bulletinSecretService.identity.username)\n          })\n          .then((result: any): Promise<null | void> => {\n            if (result.status) {\n              const userType = result.type;\n              this.bulletinSecretService.identity.type = result.type\n              this.bulletinSecretService.identity.parent = result.parent\n              if (userType === 'member_contact') {\n                if (!this.graphService.isAdded(this.bulletinSecretService.identity.parent)) return this.joinGroup(this.bulletinSecretService.identity.parent);\n              } else if (userType === 'organization_member') {\n                if (!this.graphService.isAdded(this.bulletinSecretService.identity.parent)) return this.joinGroup(this.bulletinSecretService.identity.parent);\n              } else if (userType === 'organization') {\n                if (!this.graphService.isAdded(this.bulletinSecretService.identity.parent)) return this.joinGroup(this.bulletinSecretService.identity.parent);\n              } else if (userType === 'admin') {\n                return new Promise((resolve, reject) => {return resolve(null)});\n              }\n            } else {\n              this.bulletinSecretService.unset();\n              const toast = this.toastCtrl.create({\n                  message: result.message,\n                  duration: 10000\n              });\n              toast.present();\n              throw result.message\n            }\n          })\n          .then(() => {\n              return this.websocketService.connect();\n          })\n          .then(() => {\n              if (showModal) {\n                this.loadingModal.dismiss();\n              }\n              this.settingsService.menu = 'home';\n              this.events.publish('menu', [{ title: 'Home', label: 'Home', component: HomePage, count: false, color: '', root: true }])\n          })\n          .catch((err)  => {\n              console.log(err);\n              if (showModal) {\n                this.loadingModal.dismiss();\n              }\n          });\n        } else {\n          let addedDefaults = false;\n          return this.set(key)\n          .then(() => {\n            return this.graphService.refreshFriendsAndGroups();\n          })\n          .then(() => {\n            const promises = [];\n            for (let i=0; i < DefaultGroups.length; i++) {\n              if(!this.graphService.isAdded(DefaultGroups[i])) {\n                promises.push(this.graphService.addGroup(DefaultGroups[i], undefined, undefined, undefined, false));\n                addedDefaults = true\n              }\n            }\n            return Promise.all(promises)\n          })\n          .then(() => {\n            return addedDefaults ? this.graphService.refreshFriendsAndGroups() : null;\n          })\n          .then(() => {\n              if (showModal) {\n                this.loadingModal.dismiss();\n              }\n              this.settingsService.menu = 'home';\n              this.events.publish('menu', [{ title: 'Home', label: 'Home', component: HomePage, count: false, color: '', root: true }])\n          })\n          .then(() => {\n              return this.websocketService.connect();\n          })\n          .catch((err)  => {\n              console.log(err);\n              if (showModal) {\n                this.loadingModal.dismiss();\n              }\n          });\n        }\n    }\n\n    joinGroup(iden) {\n        const identity = JSON.parse(JSON.stringify(iden)); //deep copy\n        identity.collection = 'group';\n        return this.graphService.addGroup(identity)\n        .then(() => {\n            return this.graphService.addFriend(iden)\n        });\n    }\n\n    unlockWallet() {\n        return new Promise((resolve, reject) => {\n            let options = new RequestOptions({ withCredentials: true });\n            this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/unlock?origin=' + encodeURIComponent(window.location.origin), {key_or_wif: this.activeKey}, options)\n            .subscribe((res) => {\n                this.settingsService.tokens[this.bulletinSecretService.keyname] = res.json()['token']\n                if (!this.settingsService.tokens[this.bulletinSecretService.keyname]) return resolve(res);\n                const toast = this.toastCtrl.create({\n                    message: 'Wallet unlocked!',\n                    duration: 2000\n                });\n                toast.present();\n                resolve(res);\n            },\n            (err) => {\n                return reject('cannot unlock wallet');\n            });\n        });\n    }\n\n    set(key) {\n        this.storage.set('last-keyname', this.prefix + key);\n        return this.doSet(this.prefix + key)\n        .catch(() => {\n            console.log('can not set identity')\n        });\n    }\n\n    doSet(keyname) {\n        return new Promise((resolve, reject) => {\n            this.bulletinSecretService.set(keyname)\n            .then(() => {\n                this.serverDown = false;\n                if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n                    this.firebaseService.initFirebase();\n                }\n                return resolve();\n            }).catch((error) => {\n                this.serverDown = true;\n                return reject(error);\n            });\n        });\n    }\n\n    save() {\n        this.graphService.resetGraph()\n\n        return this.set(this.bulletinSecretService.keyname.substr(this.prefix.length));\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    enableCenterIdentityImport() {\n      this.centerIdentityImportEnabled = true\n      this.loadMap('import')\n    }\n\n    enableCenterIdentityExport() {\n      this.centerIdentityExportEnabled = true\n      this.loadMap('export')\n    }\n\n    getKeyUsingCenterIdentity() {\n      this.CIBusy = true;\n      return this.ci.get(this.centerIdentityPrivateUsername, this.centerIdentityLocation.lat.toFixed(3), this.centerIdentityLocation.lng.toFixed(3))\n      .then((identity) => {\n        this.CIBusy = false;\n        this.importedKey = identity.wif;\n        return this.importKey();\n      });\n    }\n\n    saveKeyUsingCenterIdentity() {\n      const fullIdentity = {\n        key: this.bulletinSecretService.key,\n        wif: this.bulletinSecretService.key.toWIF(),\n        public_key: this.identity.public_key,\n        username: this.centerIdentityPrivateUsername,\n      }\n      return this.walletService.get(1)\n      .then((txns) => {\n        return this.ci.set(fullIdentity, this.centerIdentityLocation.lat, this.centerIdentityLocation.lng);\n      })\n      .then((txns) => {\n        const friendTxn = txns[0];\n        this.transactionService.generateTransaction(friendTxn)\n        this.transactionService.sendTransaction('https://centeridentity.com/transaction');\n        const buryTxn = txns[1];\n        buryTxn.to = '1EWkrpUezWMpByE6nys6VXubjFLorgbZuP'\n        buryTxn.value = 1\n        this.transactionService.generateTransaction(buryTxn)\n        this.transactionService.sendTransaction('https://centeridentity.com/transaction');\n        this.centerIdentitySaveSuccess = true\n      })\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ListPage } from '../list/list';\nimport { SiaFiles } from '../siafiles/siafiles';\nimport { Http } from '@angular/http';\nimport { DomSanitizer } from '@angular/platform-browser';\n\ndeclare var Base64;\n\n@Component({\n    selector: 'page-stream',\n    templateUrl: 'stream.html',\n    queries: {\n      content: new ViewChild('content')\n    }\n})\nexport class StreamPage {\n    groupChatText: any;\n    bulletinSecret: any;\n    blockchainAddress: any;\n    chats: any;\n    rid: any;\n    public_key: any;\n    loading: any;\n    loadingModal: any;\n    content: any;\n    wallet_mode: any;\n    username_signature: any;\n    username: any;\n    requester_rid: any;\n    requested_rid: any;\n    their_address: any;\n    extraInfo: any;\n    files: any;\n    streamUrl: any;\n    streams: any;\n    i: any;\n    j: any;\n    groups: any;\n    selectedGroup: any;\n    label: any;\n    error: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public transactionService: TransactionService,\n        public alertCtrl: AlertController,\n        public graphService: GraphService,\n        public loadingCtrl: LoadingController,\n        public bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        public ahttp: Http,\n        public modalCtrl: ModalController,\n        public toastCtrl: ToastController,\n        private dom: DomSanitizer\n    ) {\n        this.streams = {};\n        this.label = this.navParams.get('pageTitle').label;\n        // if (this.showLoading) {\n        //     this.loading = true;\n        // }\n        this.getSiaFiles()\n        .then(() => {\n            return new Promise((resolve, reject) => {\n                for(var i=0; i < this.graphService.graph.groups.length; i++) {\n                    var group = this.graphService.graph.groups[i];\n                    if (!this.streams[group.rid]) {\n                        this.streams[group.rid] = [];\n                    }\n                }\n                resolve();\n            })\n        })\n        .then(() => {\n            var promises = [];\n            for(var i=0; i < this.graphService.graph.groups.length; i++) {\n                var group = this.graphService.graph.groups[i];\n                promises.push(this.getGroupMessages(group));\n            }\n            return Promise.all(promises)\n        })\n        .then((groups) => {\n            var promises = []\n            for(var i=0; i < groups.length; i++) {\n                var group = groups[i];\n                promises.push(this.parseChats(group));\n            }\n            return Promise.all(promises);\n        })\n        .then((groups: Array<any>) => {\n            this.i = 0;\n            this.j = 0;\n            this.groups = groups;\n            this.cycleMedia();\n            setInterval(() => this.cycleMedia(), 1200000)\n        })\n        .catch((err) => {\n            this.error = true;\n            console.log(err);\n        });\n    }\n\n    selectGroup(rid) {\n        this.selectedGroup = rid;\n        this.cycleMedia();\n    }\n\n    cycleMedia() {\n        if(this.error) return;\n        if(!this.groups[this.i]) {\n            this.i = 0;\n            if(!this.groups[this.i]) {\n                return;\n            }\n        }\n        var group = this.groups[this.i];\n        var rid = this.selectedGroup || group.rid;\n        if (!this.streams[rid][this.j]) {\n            if (this.j === 0) {\n                this.i = 0;\n                var group = this.groups[this.i];\n            } else {\n                this.j = 0;\n            }\n        }\n        var stream = this.streams[rid][this.j];\n        this.ahttp.get(stream.url)\n        .subscribe((res) => {\n            this.streamUrl = stream.url;\n            this.j += 1;\n        },\n        (err) => {\n            this.import(stream.relationship);\n            this.j += 1;\n            if (!this.streams[rid][this.j]) {\n                this.selectedGroup = null;\n                this.i += 1;\n                this.j = 0;\n            }\n            setTimeout(() => {this.cycleMedia()}, 5000);\n        })\n    }\n\n    import(relationship) {\n        return this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-share-file?origin=' + encodeURIComponent(window.location.origin), relationship)\n        .subscribe((res) => {\n            console.log('New file imported:');\n            console.log(res.json());\n            var files = res.json();\n        },\n        (err) => {\n            this.error = true;\n        })\n    }\n\n    getGroupMessages(group) {\n        return new Promise((resolve, reject) => {\n            this.graphService.getGroupMessages(\n                group['relationship']['username_signature'],\n                null,\n                group.rid\n            )\n            .then(() => {\n                return resolve(group);\n            });\n        });\n    }\n\n    parseChats(group) {\n        return new Promise((resolve, reject) => {\n            if (!this.graphService.graph['messages'][group.rid]) return resolve(group);\n            for(var j=0; j < this.graphService.graph['messages'][group.rid].length; j++) {\n                var message = this.graphService.graph['messages'][group.rid][j]\n                if (message['relationship']['groupChatFileName']) {\n                    this.streams[group.rid].push({\n                        url: this.settingsService.remoteSettings['baseUrl'] + '/sia-files-stream?siapath=' + message['relationship']['groupChatFileName'],\n                        title: '',\n                        relationship: message['relationship']\n                    })\n                }\n            }\n            if (this.streams[group.rid].length === 0) {\n                delete this.streams[group.rid];\n            }\n            resolve(group);\n        });\n    }\n\n    sanitize(url) {\n        return this.dom.bypassSecurityTrustResourceUrl(url);\n    }\n\n    getSiaFiles() {\n        return new Promise((resolve, reject) => {\n            this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-files')\n            .subscribe((res) => {\n                var files = res.json();\n                resolve(files);\n            },\n            (err) => {\n                this.error = true;\n                reject(this.error);\n            })\n        })\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stream/stream.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { AlertController, LoadingController } from 'ionic-angular';\nimport { WalletService } from '../../app/wallet.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service'\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';\nimport { SettingsService } from '../../app/settings.service';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { ListPage } from '../list/list';\nimport { Http, Headers, RequestOptions } from '@angular/http';\n\n@Component({\n  selector: 'page-sendreceive',\n  templateUrl: 'sendreceive.html'\n})\n\nexport class SendReceive {\n    value = null;\n    createdCode = null;\n    address = null;\n    loadingBalance: any;\n    balance = null;\n    isDevice = null;\n    loadingModal: any;\n    past_sent_transactions: String[];\n    past_sent_pending_transactions: String[];\n    past_received_transactions: String[];\n    past_received_pending_transactions: String[];\n    sentPage: any;\n    receivedPage: any;\n    sentPendingPage: any;\n    receivedPendingPage: any;\n    sentPendingLoading: any;\n    receivedPendingLoading: any;\n    sentLoading: any;\n    receivedLoading: any;\n    past_sent_page_cache: any;\n    past_sent_pending_page_cache: any;\n    past_received_page_cache: any;\n    past_received_pending_page_cache: any;\n    constructor(\n        private navCtrl: NavController,\n        private qrScanner: QRScanner,\n        private transactionService: TransactionService,\n        private alertCtrl: AlertController,\n        private bulletinSecretService: BulletinSecretService,\n        private walletService: WalletService,\n        private socialSharing: SocialSharing,\n        public loadingCtrl: LoadingController,\n        private ahttp: Http,\n        private settingsService: SettingsService\n    ) {\n        this.loadingModal = this.loadingCtrl.create({\n            content: 'Please wait...'\n        });\n        this.value = 0;\n        this.createdCode = bulletinSecretService.key.getAddress();\n        this.refresh();\n        this.sentPage = 1;\n        this.receivedPage = 1;\n        this.sentPendingPage = 1;\n        this.receivedPendingPage = 1;\n        this.past_sent_transactions = [];\n        this.past_sent_pending_transactions = [];\n        this.past_received_transactions = [];\n        this.past_received_pending_transactions = [];\n        this.sentPendingLoading = false;\n        this.receivedPendingLoading = false;\n        this.sentLoading = false;\n        this.receivedLoading = false;\n        this.past_sent_page_cache = {}\n        this.past_sent_pending_page_cache = {}\n        this.past_received_page_cache = {}\n        this.past_received_pending_page_cache = {}\n    }\n\n    scan() {\n        if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n            this.isDevice = true;\n        } else {\n            this.isDevice = false;\n        }\n        this.qrScanner.prepare().then((status: QRScannerStatus) => {\n            console.log(status);\n            if (status.authorized) {\n                // start scanning\n                let scanSub = this.qrScanner.scan().subscribe((text: string) => {\n                    console.log('Scanned address', text);\n                    this.address = text;\n                    this.qrScanner.hide(); // hide camera preview\n                    scanSub.unsubscribe(); // stop scanning\n                    window.document.querySelector('ion-app').classList.remove('transparentBody');\n                });\n            }\n        });\n        this.qrScanner.resumePreview();\n        // show camera preview\n        this.qrScanner.show();\n        window.document.querySelector('ion-app').classList.add('transparentBody');\n    }\n\n    submit() {\n        var value = parseFloat(this.value)\n        var total = value + 0.01;\n\n        var alert = this.alertCtrl.create();\n        if (!this.address) {\n            alert.setTitle('Enter an address');\n            alert.addButton('Ok');\n            alert.present();\n            return\n        }\n        if (!value) {\n            alert.setTitle('Enter an amount');\n            alert.addButton('Ok');\n            alert.present();\n            return\n        }\n        alert.setTitle('Approve Transaction');\n        alert.setSubTitle('You are about to spend ' + total + ' coins (' + this.value + ' coin + 0.001 fee)');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                this.loadingModal.present();\n                this.walletService.get(this.value)\n                .then(() => {\n                    return this.transactionService.generateTransaction({\n                        to: this.address,\n                        value: value\n                    });\n                }).then(() => {\n                    return this.transactionService.sendTransaction();\n                }).then((txn) => {\n                    var title = 'Transaction Sent';\n                    var message = 'Your transaction has been sent succefully.';\n                    if (!txn) {\n                        title = 'Insufficient Funds'\n                        message = \"Not enough YadaCoins for transaction.\";\n                    }\n                    var alert = this.alertCtrl.create();\n                    alert.setTitle(title);\n                    alert.setSubTitle(message);\n                    alert.addButton('Ok');\n                    alert.present();\n                    this.value = '0';\n                    this.address = '';\n                    this.refresh();\n                    this.loadingModal.dismiss().catch(() => {});\n                })\n                .catch((err) => {\n                    console.log(err);\n                    this.loadingModal.dismiss().catch(() => {});\n                });\n            }\n        });\n        alert.present();\n    }\n    refresh() {\n        this.loadingBalance = true;\n        return this.walletService.get(this.value)\n        .then(() => {\n            this.loadingBalance = false;\n            this.balance = this.walletService.wallet.balance;\n        })\n        .then(() => {\n            this.getSentHistory();\n        })\n        .then(() => {\n            this.getSentPendingHistory();\n        })\n        .then(() => {\n            this.getReceivedHistory();\n        })\n        .then(() => {\n            this.getReceivedPendingHistory();\n        }).catch((err) => {\n            console.log(err);  \n        });\n    }\n\n    convertDateTime(timestamp) {\n        var a = new Date(timestamp * 1000);\n        var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n        var year = a.getFullYear();\n        var month = months[a.getMonth()];\n        var date = a.getDate();\n        var hour = '0' + a.getHours();\n        var min = '0' + a.getMinutes();\n        var time = date + '-' + month + '-' + year + ' ' + hour.substr(-2) + ':' + min.substr(-2) ;\n        return time;\n    }\n\n    getSentPendingHistory() {\n        return new Promise((resolve, reject) => {\n            this.sentPendingLoading = true;\n            let options = new RequestOptions({ withCredentials: true });\n            this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/get-past-pending-sent-txns?page=' + this.sentPendingPage + '&public_key=' + this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex') + '&origin=' + encodeURIComponent(window.location.origin), options)\n            .subscribe((res) => {\n                this.sentPendingLoading = false;\n                this.past_sent_pending_transactions = res.json()['past_pending_transactions'].sort(this.sortFunc);\n                this.getSentOutputValue(this.past_sent_pending_transactions);\n                this.past_sent_pending_page_cache[this.sentPendingPage] = this.past_sent_pending_transactions;\n                resolve(res);\n            },\n            (err) => {\n                return reject('cannot unlock wallet');\n            });\n        })\n    }\n\n    getSentHistory() {\n        return new Promise((resolve, reject) => {\n            this.sentLoading = true;\n            let options = new RequestOptions({ withCredentials: true });\n            this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/get-past-sent-txns?page=' + this.sentPage + '&public_key=' + this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex') + '&origin=' + encodeURIComponent(window.location.origin), options)\n            .subscribe((res) => {\n                this.sentLoading = false;\n                this.past_sent_transactions = res.json()['past_transactions'].sort(this.sortFunc);\n                this.getSentOutputValue(this.past_sent_transactions);\n                this.past_sent_page_cache[this.sentPage] = this.past_sent_transactions;\n                resolve(res);\n            },\n            (err) => {\n                return reject('cannot unlock wallet');\n            });\n        })\n    }\n\n    getReceivedPendingHistory() {\n        return new Promise((resolve, reject) => {\n            this.receivedPendingLoading = true;\n            let options = new RequestOptions({ withCredentials: true });\n            this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/get-past-pending-received-txns?page=' + this.receivedPendingPage + '&public_key=' + this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex') + '&origin=' + encodeURIComponent(window.location.origin), options)\n            .subscribe((res) => {\n                this.receivedPendingLoading = false;\n                this.past_received_pending_transactions = res.json()['past_pending_transactions'].sort(this.sortFunc);\n                this.getReceivedOutputValue(this.past_received_pending_transactions);\n                this.past_received_pending_page_cache[this.receivedPendingPage] = this.past_received_pending_transactions;\n                resolve(res);\n            },\n            (err) => {\n                return reject('cannot unlock wallet');\n            });\n        })\n    }\n\n    getReceivedHistory() {\n        return new Promise((resolve, reject) => {\n            this.receivedLoading = true;\n            let options = new RequestOptions({ withCredentials: true });\n            this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/get-past-received-txns?page=' + this.receivedPage + '&public_key=' + this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex') + '&origin=' + encodeURIComponent(window.location.origin), options)\n            .subscribe((res) => {\n                this.receivedLoading = false;\n                this.past_received_transactions = res.json()['past_transactions'].sort(this.sortFunc);\n                this.getReceivedOutputValue(this.past_received_transactions);\n                this.past_received_page_cache[this.receivedPage] = this.past_received_transactions;\n                resolve(res);\n            },\n            (err) => {\n                return reject('cannot unlock wallet');\n            });\n        })\n    }\n\n    getReceivedOutputValue(array) {\n        for(var i=0; i < array.length; i++) {\n            var txn = array[i];\n            if (!array[i]['value']) {\n                array[i]['value'] = 0;\n            }\n            for(var j=0; j < txn['outputs'].length; j++) {\n                var output = txn['outputs'][j];\n                if(this.bulletinSecretService.key.getAddress() === output.to) {\n                    array[i]['value'] += parseFloat(output.value);\n                }\n            }\n            array[i]['value'] = array[i]['value'].toFixed(8);\n        }\n    }\n\n    getSentOutputValue(array) {\n        for(var i=0; i < array.length; i++) {\n            var txn = array[i];\n            if (!array[i]['value']) {\n                array[i]['value'] = 0;\n            }\n            for(var j=0; j < txn['outputs'].length; j++) {\n                var output = txn['outputs'][j];\n                if(this.bulletinSecretService.key.getAddress() !== output.to) {\n                    array[i]['value'] += parseFloat(output.value);\n                }\n            }\n            array[i]['value'] = array[i]['value'].toFixed(8);\n        }\n    }\n\n    sortFunc(a, b) {\n        if (parseInt(a.time) < parseInt(b.time))\n            return 1\n        if ( parseInt(a.time) > parseInt(b.time))\n            return -1\n        return 0\n    }\n\n    prevReceivedPage() {\n        this.receivedPage--;\n        var result = this.past_received_page_cache[this.receivedPage] || [];\n        if(result.length > 0) {\n            this.past_received_transactions = result;\n            return;\n        }\n        return this.getReceivedHistory();\n    }\n\n    nextReceivedPage() {\n        this.receivedPage++;\n        var result = this.past_received_page_cache[this.receivedPage] || [];\n        if(result.length > 0) {\n            this.past_received_transactions = result;\n            return;\n        }\n        return this.getReceivedHistory();\n    }\n\n    prevReceivedPendingPage() {\n        this.receivedPendingPage--;\n        var result = this.past_received_pending_page_cache[this.receivedPendingPage] || [];\n        if(result.length > 0) {\n            this.past_received_pending_transactions = result;\n            return;\n        }\n        return this.getReceivedPendingHistory();\n    }\n\n    nextReceivedPendingPage() {\n        this.receivedPendingPage++;\n        var result = this.past_received_pending_transactions = this.past_received_pending_page_cache[this.receivedPendingPage] || [];\n        if(result.length > 0) {\n            this.past_sent_transactions = result;\n            return;\n        }\n        return this.getReceivedPendingHistory();\n    }\n\n    prevSentPage() {\n        this.sentPage--;\n        var result = this.past_sent_transactions = this.past_sent_page_cache[this.sentPage] || [];\n        if(result.length > 0) {\n            this.past_sent_transactions = result\n            return;\n        }\n        return this.getSentHistory();\n    }\n\n    nextSentPage() {\n        this.sentPage++;\n        var result = this.past_sent_page_cache[this.sentPage] || [];\n        if(result.length > 0) {\n            this.past_sent_transactions = result;\n            return;\n        }\n        return this.getSentHistory();\n    }\n\n    prevSentPendingPage() {\n        this.sentPendingPage--;\n        var result = this.past_sent_pending_transactions = this.past_sent_pending_page_cache[this.sentPendingPage] || [];\n        if(result.length > 0) {\n            this.past_sent_pending_transactions = result;\n            return;\n        }\n        return this.getSentPendingHistory();\n    }\n\n    nextSentPendingPage() {\n        this.sentPendingPage++;\n        var result = this.past_sent_pending_page_cache[this.sentPendingPage] || [];\n        if(result.length > 0) {\n            this.past_sent_pending_transactions = result;\n            return;\n        }\n        return this.getSentPendingHistory();\n    }\n\n    shareAddress() {\n        this.socialSharing.share(this.bulletinSecretService.key.getAddress(), \"Send Yada Coin to this address!\");\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sendreceive/sendreceive.ts","import { Component } from '@angular/core';\nimport { Events, NavController, NavParams } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ComposePage } from './compose';\nimport { MailItemPage } from './mailitem';\n\n\n@Component({\n  selector: 'mail-profile',\n  templateUrl: 'mail.html'\n})\nexport class MailPage {\n  items = []\n  loading = false;\n  rids: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public graphService: GraphService,\n    public bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService,\n    private events: Events\n  ) {\n    this.loading = true;\n    let rids = [this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.MAIL\n    ),\n    this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.CONTRACT\n    ),\n    this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.CONTRACT_SIGNED\n    ),\n    this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.CALENDAR\n    )];\n    let group_rids = [];\n    for (let i=0; i < this.graphService.graph.groups.length; i++) {\n      const group = this.graphService.graph.groups[i];\n      group_rids.push(this.graphService.generateRid(\n        group.relationship.username_signature,\n        group.relationship.username_signature,\n        this.settingsService.collections.GROUP_MAIL\n      ))\n    }\n    let file_rids = [];\n    for (let i=0; i < this.graphService.graph.files.length; i++) {\n      const group = this.graphService.graph.files[i];\n      file_rids.push(this.graphService.generateRid(\n        group.relationship.username_signature,\n        group.relationship.username_signature,\n        this.settingsService.collections.GROUP_MAIL\n      ))\n    }\n    if (group_rids.length > 0) {\n      rids = rids.concat(group_rids);\n    }\n    if (file_rids.length > 0) {\n      rids = rids.concat(file_rids);\n    }\n    this.rids = rids\n    this.events.subscribe('newmail', () => {this.refresh()})\n    this.refresh()\n  }\n\n  refresh() {\n    return this.graphService.getMail(this.rids, this.settingsService.collections.MAIL)\n    .then(() => {\n      return this.graphService.getMail(this.rids, this.settingsService.collections.GROUP_MAIL)\n    })\n    .then(() => {\n      this.items = this.graphService.prepareMailItems(this.navParams.data.pageTitle.label)\n      this.loading = false;\n    })\n  }\n\n  itemTapped(event, item) {\n    this.navCtrl.push(MailItemPage, {\n      item: item\n    });\n  }\n\n  composeMail() {\n    this.navCtrl.push(ComposePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mail.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { BuildPagePage } from './buildpage';\nimport { WebPage } from './web';\n\n\n@Component({\n  selector: 'mail-mypages',\n  templateUrl: 'mypages.html'\n})\nexport class MyPagesPage {\n  items = []\n  loading = false;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public graphService: GraphService,\n    public bulletinSecretService: BulletinSecretService,\n    public settingsService: SettingsService\n  ) {\n    this.loading = true;\n    let rids = [this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.WEB_PAGE\n    )];\n    this.graphService.getMyPages(rids)\n    .then(() => {\n      this.items = this.graphService.graph.mypages\n      this.loading = false;\n    })\n  }\n\n  itemTapped(event, item) {\n    const myRids = this.graphService.generateRids(this.bulletinSecretService.identity)\n    let recipient;\n    if (this.graphService.friends_indexed[item.rid]) {\n      recipient = this.graphService.friends_indexed[item.rid].relationship\n    }\n\n    if (myRids.rid == item.rid){\n      recipient = this.bulletinSecretService.identity\n    }\n\n    if (!recipient) return;\n\n    this.navCtrl.push(WebPage, {\n      recipient: recipient,\n      resource: item.relationship[this.settingsService.collections.WEB_PAGE].resource,\n      content: item.relationship[this.settingsService.collections.WEB_PAGE].content\n    });\n  }\n\n  buildPage() {\n    this.navCtrl.push(BuildPagePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/web/mypages.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { HttpModule } from '@angular/http';\nimport { CommonModule } from '@angular/common';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { PostModal } from '../pages/home/postmodal';\nimport { ListPage } from '../pages/list/list';\nimport { Settings } from '../pages/settings/settings';\nimport { ChatPage } from '../pages/chat/chat';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { GroupPage } from '../pages/group/group';\nimport { SiaFiles } from '../pages/siafiles/siafiles';\nimport { StreamPage } from '../pages/stream/stream';\nimport { MailPage } from '../pages/mail/mail';\nimport { ComposePage } from '../pages/mail/compose';\nimport { CalendarPage } from '../pages/calendar/calendar';\n\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { QRScanner } from '@ionic-native/qr-scanner';\nimport { NgxQRCodeModule } from 'ngx-qrcode2';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { GraphService } from './graph.service';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { PeerService } from './peer.service';\nimport { SettingsService } from './settings.service';\nimport { WalletService } from './wallet.service';\nimport { WebSocketService } from './websocket.service';\nimport { TransactionService } from './transaction.service';\nimport { OpenGraphParserService } from './opengraphparser.service'\nimport { FirebaseService } from './firebase.service';\nimport { SendReceive } from '../pages/sendreceive/sendreceive';\nimport { Clipboard } from '@ionic-native/clipboard';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Badge } from '@ionic-native/badge';\nimport { Deeplinks } from '@ionic-native/deeplinks';\nimport { Firebase } from '@ionic-native/firebase';\nimport { EmojiPickerModule } from '@ionic-tools/emoji-picker';\nimport { File } from '@ionic-native/file';\nimport { AutoCompleteModule, AutoCompleteComponent } from 'ionic2-auto-complete';\nimport { CompleteTestService } from './autocomplete.provider';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { GoogleMaps } from '@ionic-native/google-maps';\nimport { MailItemPage } from '../pages/mail/mailitem';\nimport { SignatureRequestPage } from '../pages/signaturerequest/signaturerequest';\nimport { WebPage } from '../pages/web/web';\nimport { MyPagesPage } from '../pages/web/mypages'\nimport { BuildPagePage } from '../pages/web/buildpage';\nimport { TooltipsModule } from 'ionic-tooltips';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    PostModal,\n    ListPage,\n    Settings,\n    SendReceive,\n    ChatPage,\n    ProfilePage,\n    GroupPage,\n    SiaFiles,\n    StreamPage,\n    MailPage,\n    ComposePage,\n    CalendarPage,\n    MailItemPage,\n    SignatureRequestPage,\n    WebPage,\n    MyPagesPage,\n    BuildPagePage\n  ],\n  imports: [\n    BrowserModule,\n    AutoCompleteModule,\n    IonicModule.forRoot(MyApp),\n    IonicStorageModule.forRoot({\n      name: '__mydb',\n         driverOrder: ['websql', 'sqlite', 'indexeddb']\n    }),\n    NgxQRCodeModule,\n    HttpModule,\n    EmojiPickerModule.forRoot(),\n    CommonModule,\n    TooltipsModule.forRoot(),\n    BrowserAnimationsModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    PostModal,\n    ListPage,\n    Settings,\n    SendReceive,\n    ChatPage,\n    ProfilePage,\n    GroupPage,\n    SiaFiles,\n    StreamPage,\n    MailPage,\n    ComposePage,\n    CalendarPage,\n    MailItemPage,\n    SignatureRequestPage,\n    WebPage,\n    MyPagesPage,\n    BuildPagePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    QRScanner,\n    NgxQRCodeModule,\n    GraphService,\n    BulletinSecretService,\n    PeerService,\n    SettingsService,\n    WalletService,\n    WebSocketService,\n    TransactionService,\n    OpenGraphParserService,\n    Clipboard,\n    SocialSharing,\n    Badge,\n    Deeplinks,\n    Firebase,\n    FirebaseService,\n    File,\n    CompleteTestService,\n    AutoCompleteComponent,\n    Geolocation,\n    GoogleMaps\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { GraphService } from './graph.service';\nimport { SettingsService } from './settings.service';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { WalletService } from './wallet.service';\nimport { Events } from 'ionic-angular';\n\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\nimport { CalendarPage } from '../pages/calendar/calendar';\nimport { Settings } from '../pages/settings/settings';\nimport { SiaFiles } from '../pages/siafiles/siafiles';\nimport { StreamPage } from '../pages/stream/stream';\nimport { SendReceive } from '../pages/sendreceive/sendreceive';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { MailPage } from '../pages/mail/mail';\nimport { Deeplinks } from '@ionic-native/deeplinks';\nimport { WebSocketService } from './websocket.service';\nimport { WebPage } from '../pages/web/web';\nimport { MyPagesPage } from '../pages/web/mypages';\nimport { BuildPagePage } from '../pages/web/buildpage';\n\ndeclare var forge;\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any;\n\n  pages: Array<{title: string, label: string, component: any, count: any, color: any, root: boolean}>;\n  graph: any;\n  friend_request_count: any;\n  new_messages_count: any;\n  version: any;\n  menu: any;\n  root: boolean;\n  notificationCount: any;\n  constructor(\n    public platform: Platform,\n    public statusBar: StatusBar,\n    public splashScreen: SplashScreen,\n    private walletService: WalletService,\n    private websocketService: WebSocketService,\n    private graphService: GraphService,\n    public settingsService: SettingsService,\n    private bulletinSecretService: BulletinSecretService,\n    public events: Events,\n    private deeplinks: Deeplinks\n  ) {\n    events.subscribe('graph', () => {\n      this.rootPage = HomePage;\n    });\n    events.subscribe('menu', (options) => {\n      this.setMenu(options);\n      if (!this.pages) return;\n      if (this.pages.length === 0) return;\n      this.root = this.pages[0].root;\n      this.openPage(this.pages[0])\n    });\n    events.subscribe('menuonly', (options) => {\n      this.setMenu(options);\n      this.root = this.pages[0].root;\n    });\n    this.rootPage = Settings;\n  }\n\n  ngAfterViewInit() {\n    this.initializeApp();\n  }\n\n  setMenu(pages = null) {\n    if (pages) {\n      this.pages = pages;\n      return\n    }\n    if (this.settingsService.menu == 'home') {\n      this.pages = [\n        { title: 'Home', label: 'Home', component: HomePage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu == 'mail') {\n      this.pages = [\n        { title: 'Inbox', label: 'Inbox', component: MailPage, count: false, color: '', root: true },\n        { title: 'Sent', label: 'Sent', component: MailPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu == 'chat') {\n      this.pages = [\n        { title: 'Messages', label: 'Chat', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu == 'community') {\n      this.pages = [\n        { title: 'Community', label: 'Community', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu == 'calendar') {\n      this.pages = [\n        { title: 'Calendar', label: 'Calendar', component: CalendarPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu == 'contacts') {\n      this.pages = [\n        { title: 'Contacts', label: 'Contacts', component: ListPage, count: false, color: '', root: true },\n        { title: 'Contact Requests', label: 'Contact Requests', component: ListPage, count: false, color: '', root: true },\n        { title: 'Groups', label: 'Groups', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu == 'files') {\n      this.pages = [\n        { title: 'Files', label: 'Files', component: SiaFiles, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu == 'wallet') {\n      this.pages = [\n        { title: 'Send / Receive', label: 'Send / Receive', component: SendReceive, count: false, color: '', root: true }\n      ];\n    } else if (this.settingsService.menu == 'stream') {\n      this.pages = [\n        { title: 'Stream', label: 'Stream', component: StreamPage, count: false, color: '', root: true }\n      ]\n    } else if (this.settingsService.menu == 'settings') {\n      this.pages = [\n        { title: 'Settings', label: 'Identity', component: Settings, count: false, color: '', root: true },\n        //{ title: 'Profile', label: 'Profile', component: ProfilePage, count: false, color: '', root: true }\n      ];\n    } else if (this.settingsService.menu == 'notifications') {\n      this.pages = [\n        { title: 'Notifications', label: 'Notifications', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu == 'web') {\n      this.pages = [\n        { title: 'Web', label: 'Web', component: WebPage, count: false, color: '', root: true },\n        { title: 'Create page', label: 'Create page', component: BuildPagePage, count: false, color: '', root: true },\n        { title: 'My pages', label: 'My pages', component: MyPagesPage, count: false, color: '', root: true },\n      ];\n    }\n  }\n\n  initializeApp() {\n    this.platform.ready()\n    .then(() => {\n      if(this.platform.is('cordova')) {\n        this.deeplinks.routeWithNavController(this.nav, {\n        }).subscribe(match => {\n            // match.$route - the route we matched, which is the matched entry from the arguments to route()\n            // match.$args - the args passed in the link\n            // match.$link - the full link data\n            console.log('Successfully matched route', match);\n        }, nomatch => {\n            // nomatch.$link - the full link data\n            console.error('Got a deeplink that didn\\'t match', nomatch);\n        });\n      }\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      if (this.platform.is('android') || this.platform.is('ios')) {\n        this.statusBar.styleDefault();\n        this.splashScreen.hide();\n      }\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    if (page.root) {\n      this.nav.setRoot(page.component, {pageTitle: page, ...page.kwargs});\n    } else {\n      this.nav.push(page.component, {pageTitle: page, ...page.kwargs})\n    }\n  }\n\n  segmentChanged(e) {\n    this.settingsService.menu = e.currentTarget.value;\n    this.setMenu();\n    this.root = this.pages[0].root;\n    this.openPage(this.pages[0])\n  }\n\n  decrypt(message) {\n      var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.bulletinSecretService.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n      var decipher = forge.cipher.createDecipher('AES-CBC', key);\n      var enc = this.hexToBytes(message);\n      decipher.start({iv: enc.slice(0,16)});\n      decipher.update(forge.util.createBuffer(enc.slice(16)));\n      decipher.finish();\n      return decipher.output\n  }\n\n  hexToBytes(s) {\n      var arr = []\n      for (var i = 0; i < s.length; i += 2) {\n          var c = s.substr(i, 2);\n          arr.push(parseInt(c, 16));\n      }\n      return String.fromCharCode.apply(null, arr);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component } from '@angular/core';\nimport { List, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { AlertController, LoadingController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { ChatPage } from '../chat/chat';\nimport { GroupPage } from '../group/group';\nimport { ProfilePage } from '../profile/profile';\nimport { SignatureRequestPage } from '../signaturerequest/signaturerequest';\nimport { Events } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { MailPage } from '../mail/mail';\nimport { MailItemPage } from '../mail/mailitem';\nimport { WebSocketService } from '../../app/websocket.service';\nimport { CalendarPage } from '../calendar/calendar';\n\ndeclare var X25519;\ndeclare var foobar;\n\n@Component({\n  selector: 'page-list',\n  templateUrl: 'list.html'\n})\nexport class ListPage {\n  selectedItem: any;\n  pageTitle: any;\n  icons: string[];\n  items: Array<{pageTitle: string, identity: object}>;\n  blockchainAddress: any;\n  balance: any;\n  baseUrl: any;\n  createdCode: any;\n  confirmCode: any;\n  loading: any;\n  loadingBalance: any;\n  loadingModal: any;\n  createdCodeEncoded: any;\n  friend_request: any;\n  context: any;\n  signIn: any;\n  signInText: any;\n  rid: any;\n  label: any;\n  subitems:any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private storage: Storage,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private walletService: WalletService,\n    private transactionService: TransactionService,\n    private socialSharing: SocialSharing,\n    private alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public events: Events,\n    private ahttp: Http,\n    private settingsService: SettingsService,\n    private toastCtrl: ToastController,\n    private websocketService: WebSocketService\n  ) {\n    this.loadingModal = this.loadingCtrl.create({\n        content: 'Please wait...'\n    });\n    this.refresh(null)\n    .catch((e) => {\n      console.log(e)\n    });\n    events.subscribe('notification', () => {\n      this.settingsService.menu === 'notifications' && this.choosePage();\n    })\n  }\n\n  refresh(refresher) {\n    this.subitems = {}\n      this.loading = true;\n      this.loadingBalance = true;\n\n      // If we navigated to this page, we will have an item available as a nav param\n    return this.storage.get('blockchainAddress')\n    .then((blockchainAddress) => {\n        this.blockchainAddress = blockchainAddress;\n        return this.storage.get('baseUrl')\n    })\n    .then((baseUrl) => {\n      this.baseUrl = baseUrl;\n      this.selectedItem = this.navParams.get('item');\n      this.context = this.navParams.get('context');\n      this.pageTitle = this.selectedItem ? this.selectedItem.pageTitle : this.navParams.get('pageTitle').title;\n      return this.choosePage();\n    })\n    .then(() => {\n      if(refresher) refresher.complete();\n    });\n  }\n\n  createGroup() {\n      this.graphService.getInfo()\n      .then(() => {\n          return new Promise((resolve, reject) => {\n              let alert = this.alertCtrl.create({\n                  title: 'Group name',\n                  inputs: [\n                  {\n                      name: 'groupname',\n                      placeholder: 'Group name'\n                  }\n                  ],\n                  buttons: [\n                      {\n                          text: 'Save',\n                          handler: data => {\n                              const toast = this.toastCtrl.create({\n                                  message: 'Group created',\n                                  duration: 2000\n                              });\n                              toast.present();\n                              resolve(data.groupname);\n                          }\n                      }\n                  ]\n              });\n              alert.present();\n          });\n      })\n      .then((groupName) => {\n          return this.graphService.createGroup(groupName);\n      })\n      .then((identity) => {\n          this.websocketService.joinGroup(identity);\n          return this.choosePage()\n      });\n  }\n\n  choosePage() {\n    return new Promise((resolve, reject) => {\n      if(!this.selectedItem) {\n        this.label = this.navParams.get('pageTitle').label;\n        // Let's populate this page with some filler content for funzies\n        this.icons = ['flask', 'wifi', 'beer', 'football', 'basketball', 'paper-plane',\n        'american-football', 'boat', 'bluetooth', 'build'];\n        var public_key = '';\n        var graphArray = [];\n        if (this.pageTitle == 'Contacts') {\n          graphArray = this.graphService.graph.friends.filter((item) => {return !!item.relationship.identity});\n          graphArray = this.getDistinctFriends(graphArray).friend_list;\n          graphArray.sort(function (a, b) {\n              if (a.relationship.identity.username.toLowerCase() < b.relationship.identity.username.toLowerCase())\n                return -1\n              if ( a.relationship.identity.username.toLowerCase() > b.relationship.identity.username.toLowerCase())\n                return 1\n              return 0\n          });\n          this.makeList(graphArray, 'Contacts', null);\n          this.loading = false;\n        } else if (this.pageTitle == 'Groups') {\n          for (let i = 0; i < this.graphService.graph.groups.length; i++) {\n            let item = this.graphService.graph.groups[i];\n            if(item.relationship.parent) {\n              this.subitems[item.relationship.parent.username_signature] = this.subitems[item.relationship.parent.username_signature] || [];\n              this.subitems[item.relationship.parent.username_signature].push({\n                pageTitle: this.pageTitle,\n                identity: item.relationship.identity ? item.relationship.identity : item.relationship\n              })\n            } else {\n              graphArray.push(item)\n            }\n          }\n          graphArray.sort(function (a, b) {\n              if (a.relationship.username.toLowerCase() < b.relationship.username.toLowerCase())\n                return -1\n              if ( a.relationship.username.toLowerCase() > b.relationship.username.toLowerCase())\n                return 1\n              return 0\n          });\n          this.makeList(graphArray, 'Groups', null);\n          this.loading = false;\n        } else if (this.pageTitle == 'Messages') {\n          public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n          return this.graphService.getNewMessages()\n          .then((graphArray) => {\n            var messages = this.markNew(public_key, graphArray, this.graphService.new_messages_counts);\n            var friendsWithMessagesList = this.getDistinctFriends(messages);\n            this.populateRemainingFriends(friendsWithMessagesList.friend_list, friendsWithMessagesList.used_rids);\n            this.loading = false;\n            friendsWithMessagesList.friend_list.sort(function (a, b) {\n                try {\n                  const ausername = a.relationship.identity ? a.relationship.identity.username : a.relationship.username\n                  const busername = b.relationship.identity ? b.relationship.identity.username : b.relationship.username\n                  if (ausername.toLowerCase() < busername.toLowerCase())\n                    return -1\n                  if ( ausername.toLowerCase() > busername.toLowerCase())\n                    return 1\n                  return 0\n                } catch(err) {\n                  return 0\n                }\n            });\n            return this.makeList(friendsWithMessagesList.friend_list, '', {title: 'Messages', component: ChatPage})\n            .then((pages) => {\n              this.events.publish('menu', pages);\n            });\n          }).catch((err) => {\n              console.log(err);\n          });\n        } else if (this.pageTitle == 'Notifications') {\n          public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n          const notifications = this.graphService.getNotifications()\n          this.loading = false;\n          notifications['notifications'].sort(function (a, b) {\n              try {\n                if (parseInt(a.time) < parseInt(b.time))\n                  return 1\n                if (parseInt(a.time) > parseInt(b.time))\n                  return -1\n                return 0\n              } catch(err) {\n                return 0\n              }\n          });\n          notifications['notifications'].map((item) => {\n            if (\n              item.relationship[this.settingsService.collections.MAIL] ||\n              item.relationship[this.settingsService.collections.GROUP_MAIL]\n            ) {\n              item.component = MailItemPage\n              item.item = this.graphService.prepareMailItem(item, 'Inbox')\n              const identity = this.graphService.getIdentityFromMessageTransaction(item)\n              item.label = 'Mail from ' + identity.username\n            } else if (\n              item.relationship[this.settingsService.collections.CHAT] ||\n              item.relationship[this.settingsService.collections.GROUP_CHAT]\n            ) {\n              item.component = ChatPage\n              const identity = this.graphService.getIdentityFromMessageTransaction(item);\n              item.identity = identity\n              item.label = 'Chat from ' + identity.username\n            } else if (\n              item.relationship[this.settingsService.collections.CALENDAR] ||\n              item.relationship[this.settingsService.collections.GROUP_CALENDAR]\n            ) {\n              item.component = CalendarPage\n              const identity = this.graphService.getIdentityFromMessageTransaction(item);\n              item.identity = identity\n              item.label = 'Calendar entry from ' + identity.username\n            } else if (this.graphService.graph.friend_requests.filter((fr) => {return fr.rid === item.rid}).length > 0) {\n              item.component = ListPage\n              const identity = item.relationship.identity;\n              item.identity = identity\n              item.label = 'Contact request from ' + identity.username\n              item.pageTitle = 'Contact Requests'\n              item.item = item\n            } else if (this.graphService.graph.friends.filter((f) => {return f.rid === item.rid}).length > 0) {\n              item.component = ProfilePage\n              const identity = this.graphService.getIdentityFromMessageTransaction(item);\n              item.identity = identity\n              item.label = 'Contact ' + identity.username + ' accepted your request '\n              item.pageTitle = 'Contacts'\n              item.item = item\n            } else if (item.relationship.signature_request) {\n              item.component = SignatureRequestPage\n            }\n          })\n          return this.makeList(notifications['notifications'], '', {title: 'Notifications', component: ChatPage})\n          .then((pages: Array<Object>) => {\n            pages.length > 0 && this.events.publish('menu', pages);\n          });\n        } else if (this.pageTitle == 'Community') {\n          public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n          this.loading = false;\n          this.graphService.sortTxnsByUsername(this.graphService.graph.groups)\n          let groupList = this.graphService.graph.groups.filter((item) => {\n            if(item.relationship.parent) {\n              this.subitems[item.relationship.parent.username_signature] = this.subitems[item.relationship.parent.username_signature] || [];\n              this.subitems[item.relationship.parent.username_signature].push({\n                title: 'Community',\n                label: item.relationship.username,\n                component: ChatPage,\n                count: false,\n                color: '',\n                kwargs: {\n                  item: item,\n                  identity: item.identity || item.relationship.identity || item.relationship,\n                  subitems: this.subitems\n                },\n                root: true\n              })\n            }\n            return !item.relationship.parent\n          })\n          return this.makeList(groupList, '', {title: 'Community', component: ChatPage})\n          .then((pages) => {\n            this.events.publish('menu', pages);\n            this.loading = false;\n          });\n        } else if (this.pageTitle == 'Sent') {\n          public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n          return this.graphService.getSentMessages()\n          .then((graphArray) => {\n            var messages = this.markNew(public_key, graphArray, this.graphService.new_messages_counts);\n            var friendsWithMessagesList = this.getDistinctFriends(messages);\n            this.populateRemainingFriends(friendsWithMessagesList.friend_list, friendsWithMessagesList.used_rids);\n            this.loading = false;\n            friendsWithMessagesList.friend_list.sort(function (a, b) {\n                if (a.relationship.identity.username.toLowerCase() < b.relationship.identity.username.toLowerCase())\n                  return -1\n                if ( a.relationship.identity.username.toLowerCase() > b.relationship.identity.username.toLowerCase())\n                  return 1\n                return 0\n            });\n            return this.makeList(friendsWithMessagesList.friend_list, 'Messages', null);\n          }).catch((err) => {\n              console.log(err);\n          });\n        } else if (this.pageTitle == 'Sign Ins') {\n          public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n          return this.graphService.getNewSignIns()\n          .then((graphArray) => {\n              var sign_ins = this.markNew(public_key, graphArray, this.graphService.new_sign_ins_counts);\n              var friendsWithSignInsList = this.getDistinctFriends(sign_ins);\n              this.populateRemainingFriends(friendsWithSignInsList.friend_list, friendsWithSignInsList.used_rids);\n              this.loading = false;\n              return this.makeList(friendsWithSignInsList.friend_list, 'Sing Ins', null);\n          });\n        } else if (this.pageTitle == 'Contact Requests') {\n          return this.graphService.getFriendRequests()\n          .then(() => {\n              var graphArray = this.graphService.graph.friend_requests;\n              graphArray.sort(function (a, b) {\n                  if (a.relationship.identity.username.toLowerCase() < b.relationship.identity.username.toLowerCase())\n                    return -1\n                  if ( a.relationship.identity.username.toLowerCase() > b.relationship.identity.username.toLowerCase())\n                    return 1\n                  return 0\n              });\n              this.loading = false;\n              return this.makeList(graphArray, 'Contact Requests', null);\n          });\n        } else if (this.pageTitle == 'Sent Requests') {\n          return this.graphService.getSentFriendRequests()\n          .then(() => {\n              var graphArray = this.graphService.graph.sent_friend_requests;\n              graphArray.sort(function (a, b) {\n                  if (a.relationship.identity.username.toLowerCase() < b.relationship.identity.username.toLowerCase())\n                    return -1\n                  if ( a.relationship.identity.username.toLowerCase() > b.relationship.identity.username.toLowerCase())\n                    return 1\n                  return 0\n              });\n              this.loading = false;\n              return this.makeList(graphArray, 'Sent Requests', null);\n          });\n        } else if (this.pageTitle == 'Reacts Detail') {\n          graphArray = this.navParams.get('detail');\n          this.loading = false;\n          return this.makeList(graphArray, 'Reacts Detail', null);\n        } else if (this.pageTitle == 'Comment Reacts Detail') {\n          graphArray = this.navParams.get('detail');\n          this.loading = false;\n          return this.makeList(graphArray, 'Comment Reacts Detail', null);\n        }\n      } else {\n        this.loading = false;\n        this.loadingBalance = false;\n        if (this.pageTitle == 'Sent Requests') {\n          resolve();\n        }\n        else if (this.pageTitle == 'Contact Requests') {\n          this.friend_request = this.navParams.get('item').identity;\n          resolve();\n        }\n        else if (this.pageTitle == 'Sign Ins') {\n          this.rid = this.navParams.get('item').transaction.rid;\n          this.graphService.getSignIns(this.rid)\n          .then((signIn: any) => {\n            this.signIn = signIn[0];\n            this.signInText = this.signIn.relationship.signIn;\n            resolve();\n          }).catch((e) => {\n            console.log(e);\n            reject(e);\n          });\n        }\n      }\n    });\n  }\n\n  markNew(public_key, graphArray, graphCount) {\n    var collection = [];\n    for (let i in graphArray) {\n      if(public_key !== graphArray[i]['public_key'] && graphCount[i] && graphCount[i] < graphArray[i]['height']) {\n        graphArray[i]['new'] = true;\n      }\n      collection.push(graphArray[i]);\n    }\n    return collection;\n  }\n\n  getDistinctFriends(collection) {\n    // using the rids from new items\n    // make a list of friends sorted by block height descending (most recent)\n    var friend_list = [];\n    var used_rids = [];\n    for (var i=0; i < collection.length; i++) {\n      // we could have multiple transactions per friendship\n      // so make sure we're going using the rid once\n      var item = collection[i];\n      if(!this.graphService.friends_indexed[item.rid]) {\n        continue\n      }\n      if(used_rids.indexOf(this.graphService.friends_indexed[item.rid]) === -1) {\n        friend_list.push(item);\n        used_rids.push(this.graphService.friends_indexed[item.rid]);\n      }\n    }\n    return {\n      friend_list: friend_list,\n      used_rids: used_rids\n    };\n  }\n\n  populateRemainingFriends(friend_list, used_rids) {\n    // now add everyone else\n    let friendsAndGroupsList = this.graphService.graph.friends\n    for (var i=0; i < friendsAndGroupsList.length; i++) {\n      let rid;\n      if(this.graphService.groups_indexed[friendsAndGroupsList[i].requested_rid]) {\n        rid = friendsAndGroupsList[i].requested_rid;\n      } else {\n        rid = friendsAndGroupsList[i].rid;\n      }\n      if (used_rids.indexOf(rid) === -1) {\n        friend_list.push(friendsAndGroupsList[i]);\n        used_rids.push(rid);\n      }\n    }\n  }\n\n  populateRemainingGroups(friend_list, used_rids) {\n    // now add everyone else\n    const friendsAndGroupsList = this.graphService.graph.groups\n    for (var i=0; i < friendsAndGroupsList.length; i++) {\n      let rid;\n      if(this.graphService.groups_indexed[friendsAndGroupsList[i].requested_rid]) {\n        rid = friendsAndGroupsList[i].requested_rid;\n      } else {\n        rid = friendsAndGroupsList[i].rid;\n      }\n      if (used_rids.indexOf(rid) === -1) {\n        friend_list.push(friendsAndGroupsList[i]);\n        used_rids.push(rid);\n      }\n    }\n  }\n\n  makeList(graphArray, pageTitle:any, page:any) {\n    return new Promise((resolve, reject) => {\n      const items = [];\n      this.items = [];\n      for (let i = 0; i < graphArray.length; i++) {\n        const item  = graphArray[i];\n        if (page) {\n          const component = item.component || page.component\n          const label = item.relationship.identity ? item.relationship.identity.username : item.relationship.username;\n          items.push({\n            title: page.title,\n            label: item.label || label,\n            component: component,\n            count: false,\n            color: '',\n            kwargs: {\n              item: item.item || item,\n              identity: item.identity || item.relationship.identity || item.relationship,\n              subitems: this.subitems\n            },\n            root: true\n          });\n        } else {\n          this.items.push({\n            pageTitle: pageTitle,\n            identity: item.relationship.identity ? item.relationship.identity : item.relationship\n          });\n        }\n      }\n      resolve(items);\n    })\n  }\n\n  newChat() {\n    var item = {pageTitle: {title:\"Friends\"}, context: 'newChat'};\n    this.navCtrl.push(ListPage, item);\n  }\n\n  itemTapped(event, item) {\n    if(this.pageTitle == 'Messages') {\n      this.navCtrl.push(ChatPage, {\n        ...item\n      });\n    } else if(this.pageTitle == 'Community') {\n      this.navCtrl.push(ChatPage, {\n        ...item\n      });\n    } else if(this.pageTitle == 'Groups') {\n      this.navCtrl.push(ProfilePage, {\n        ...item\n      });\n    } else if(this.pageTitle == 'Contacts') {\n      this.navCtrl.push(ProfilePage, {\n        ...item\n      });\n    } else if(this.pageTitle == 'Notifications') {\n      if (item.relationship[this.settingsService.collections.SIGNATURE_REQUEST]) {\n        this.navCtrl.push(SignatureRequestPage, item);\n      } else if (item.relationship[this.settingsService.collections.MAIL]) {\n        this.navCtrl.push(MailItemPage, item);\n      }\n    } else {\n      this.navCtrl.push(ListPage, {\n        item: item\n      });\n    }\n  }\n\n  accept() {\n    const rids = this.graphService.generateRids(this.friend_request);\n    this.loading = true;\n    return this.graphService.addFriend(\n      this.friend_request,\n      rids.rid,\n      rids.requester_rid,\n      rids.requested_rid\n    ).then((txn) => {\n      return this.graphService.refreshFriendsAndGroups();\n    })\n    .then(() => {\n      this.loading = false;\n      var alert = this.alertCtrl.create();\n      alert.setTitle('Friend Accept Sent');\n      alert.setSubTitle('Your Friend Request acceptance has been submitted successfully.');\n      alert.addButton('Ok');\n      alert.present();\n      this.navCtrl.setRoot(ListPage, {pageTitle: { title: 'Contacts', label: 'Contacts', component: ListPage, count: false, color: '' }});\n    }).catch((err) => {\n        console.log(err);\n    });\n  }\n\n  addFriend() {\n      var buttons = [];\n      buttons.push({\n          text: 'Add',\n          handler: (data) => {\n            let promise;\n            if (this.settingsService.remoteSettings.restricted) {\n              promise = this.graphService.addFriendFromSkylink(data.identity)\n            } else {\n              promise = this.graphService.addFriend(JSON.parse(data.identity))\n            }\n            promise\n            .then(() => {\n              let alert = this.alertCtrl.create();\n              alert.setTitle('Contact added');\n              alert.setSubTitle('Your contact was added successfully');\n              alert.addButton('Ok');\n              alert.present();\n              return this.choosePage()\n            });\n          }\n      });\n      let alert = this.alertCtrl.create({\n          inputs: [\n              {\n                  name: 'identity',\n                  placeholder: 'Paste identity here...'\n              }\n          ],\n          buttons: buttons\n      });\n      alert.setTitle('Request contact');\n      alert.setSubTitle('Paste the identity of your contact below');\n      alert.present();\n  }\n\n  addGroup() {\n      var buttons = [];\n      buttons.push({\n          text: 'Add',\n          handler: (data) => {\n            let promise;\n            if (this.settingsService.remoteSettings.restricted) {\n              promise = this.graphService.addGroupFromSkylink(data.identity)\n            } else {\n              promise = this.graphService.addGroup(JSON.parse(data.identity))\n            }\n            promise\n            .then((identity) => {\n              this.websocketService.joinGroup(identity);\n              let alert = this.alertCtrl.create();\n              alert.setTitle('Group added');\n              alert.setSubTitle('Your group was added successfully');\n              alert.addButton('Ok');\n              alert.present();\n              return this.choosePage()\n            });\n          }\n      });\n      let alert = this.alertCtrl.create({\n          inputs: [\n              {\n                  name: 'identity',\n                  placeholder: 'Paste identity here...'\n              }\n          ],\n          buttons: buttons\n      });\n      alert.setTitle('Add group');\n      alert.setSubTitle('Paste the identity of your contact below');\n      alert.present();\n  }\n\n  sendSignIn() {\n    let alert = this.alertCtrl.create();\n    alert.setTitle('Approve transaction');\n    alert.setSubTitle('You are about to spend 0.01 coins ( 0.01 fee)');\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Confirm',\n      handler: (data: any) => {\n        this.walletService.get().then(() => {\n            return this.graphService.getSharedSecretForRid(this.rid);\n        }).then((result) => {\n          if (result) {\n            let alert = this.alertCtrl.create();\n            alert.setTitle('Message sent');\n            alert.setSubTitle('Your message has been sent successfully');\n            alert.addButton('Ok');\n            alert.present();\n          }\n          this.navCtrl.pop();\n        });\n       }\n    });\n    alert.present();\n  }\n\n  share(code) {\n    this.socialSharing.share(code);\n  }\n\n  showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n  }\n\n  showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// buffer (ignored)\n// module id = 615\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 616\n// module chunks = 0","export default [\n  {\n    \"username\": \"Text Channels\",\n    \"username_signature\": \"MEQCIBnBj2TTVH7nNCIOsJxbhyKTKl/tMYErBwHnDVGEHlPAAiA2scfrrughyVpwfbzHXrGy0mv2yMFibthFjgqGiFwBOw==\",\n    \"public_key\": \"035d0535af1c3f419340b7ca275a804b355f91aad8984544c3ee10d0d773154496\",\n    \"collection\": \"group\"\n  },\n  {\n    \"username\": \"Yada Protocol\",\n    \"username_signature\": \"MEQCIEaKMo8CUL2gib2xj/vlIWSHPGuI2wfSXB8WLCb2saStAiAvIvALHRsRJjRfzXbkmyXNUIHF/tjcXUXtrTU1fO4bNQ==\",\n    \"public_key\": \"02c757def602fa906e4d2b776cb0bceeb59683ffb1640ffd3c9ba6fd5378fa833f\",\n    \"collection\": \"group\"\n  },\n  {\n    \"username\": \"Yada App\",\n    \"username_signature\": \"MEQCIEsBxY9EhC9SsVnaqCpckOFDRGB5yMuj6A9Lq6EhvrHBAiAZZwFZw6XIk067OFUWMMSPhLmnUowRpshlazWOSES/3w==\",\n    \"public_key\": \"03e103f6d5c43cc1d14de00710d7369dbdf7f8885f4e909b384a64bfd272dab506\",\n    \"collection\": \"group\"\n  },\n  {\n    \"username\": \"YadaCoin\",\n    \"username_signature\": \"MEQCID2Kio1OSNG2pIB/8id8G8yo+Vfuj2rAB2K3BurAyTeTAiAQ3Wmd4ayXtxrgQGRBaFfKuZGxb2DVIwy0UY0LARG4cQ==\",\n    \"public_key\": \"03cebd3b8b38d28a4d032b38e3aadc3f8a06e78c27f1fe06b73ac7bb682f03949e\",\n    \"collection\": \"group\"\n  },\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/groups.ts","import { Component } from '@angular/core';\nimport { NavParams, ViewController } from 'ionic-angular';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { OpenGraphParserService } from '../../app/opengraphparser.service'\nimport { SettingsService } from '../../app/settings.service';\nimport { Http, Headers, RequestOptions } from '@angular/http';\n\ndeclare var Base64\n\n@Component({\n    selector: 'modal-post',\n    templateUrl: 'postmodal.html'\n})\nexport class PostModal {\n\tblockchainAddress = null;\n\tpostText = null;\n\tlogicalParent = null;\n    post = {};\n    files = null;\n    selectedFile = null;\n    constructor(\n        public navParams: NavParams,\n        public viewCtrl: ViewController,\n        private walletService: WalletService,\n        private alertCtrl: AlertController,\n        private transactionService: TransactionService,\n        private openGraphParserService: OpenGraphParserService,\n        private settingsService: SettingsService,\n        private ahttp: Http\n    ) {\n        this.blockchainAddress = navParams.data.blockchainAddress;\n        this.logicalParent = navParams.data.logicalParent;\n        let headers = new Headers();\n        headers.append('Authorization', 'basic ' + Base64.encode(this.settingsService.remoteSettings['siaPassword']));\n        let options = new RequestOptions({ headers: headers, withCredentials: true });\n        this.ahttp.get(this.settingsService.remoteSettings['siaUrl'] + '/renter/files', options)\n        .subscribe((res) => {\n            this.files = res.json()['files'];\n        })\n    }\n\n    change() {\n    \tif (this.openGraphParserService.isURL(this.postText)) {\n    \t    this.openGraphParserService.parseFromUrl(this.postText).then((data) => {\n                this.post = data;\n            });\n        }\n    }\n\n    submit() {\n        this.walletService.get().then(() => {\n        \treturn new Promise((resolve, reject) => {\n                if (this.selectedFile) {\n\n                    this.ahttp.get(this.settingsService.remoteSettings['siaUrl'] + '/renter/shareascii?siapaths=' + this.selectedFile[0])\n                    .subscribe((res) => {\n                        let sharefiledata = res.json()['asciisia'];\n                        this.approveTxn(sharefiledata, resolve);\n                    })\n                } else {\n                    this.approveTxn(null, resolve);\n                }\n\t            console.log(status);\n        \t}).then(() => {\n        \t\tthis.dismiss();\n        \t});\n        });\n    }\n\n    approveTxn(sharefiledata, resolve) {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve Transaction');\n        alert.setSubTitle('You are about to spend 0.01 coins ( 0.01 fee)');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                // camera permission was granted\n                new Promise((resolve, reject) => {\n                    if (sharefiledata) {\n                        return this.transactionService.generateTransaction({\n                            relationship: {\n                                postText: this.postText,\n                                postFile: sharefiledata,\n                                postFileName: this.selectedFile[0]\n                            }\n                        })\n                        .then(() => {\n                            resolve()\n                        })\n                        .catch((err) => {\n                            reject('failed to generate transaction');\n                        });\n                    } else {\n                        return this.transactionService.generateTransaction({\n                            relationship: {\n                                postText: this.postText\n                            }\n                        })\n                        .then(() => {\n                            resolve()\n                        })\n                        .catch((err) => {\n                            reject('failed to generate transaction');\n                        });\n                    }\n                })\n                .then(() => {\n                    return this.transactionService.getFastGraphSignature();\n                })\n                .then((hash) => {\n                    return this.transactionService.sendTransaction();\n                })\n                .then(() => {\n                    this.dismiss();\n                })\n                .catch((err) => {\n                    console.log('could not generate hash');\n                });\n            }\n        });\n        alert.present();\n    }\n\n    dismiss() {\n    \tthis.logicalParent.refresh();\n    \tthis.viewCtrl.dismiss();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/postmodal.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ListPage } from '../list/list';\nimport { ProfilePage } from '../profile/profile';\nimport { SiaFiles } from '../siafiles/siafiles';\nimport { Http } from '@angular/http';\n\ndeclare var Base64;\ndeclare var foobar;\ndeclare var X25519;\n\n@Component({\n    selector: 'page-group',\n    templateUrl: 'group.html',\n    queries: {\n      content: new ViewChild('content')\n    }\n})\nexport class GroupPage {\n    groupChatText: any;\n    bulletinSecret: any;\n    blockchainAddress: any;\n    chats: any;\n    rid: any;\n    public_key: any;\n    loading: any;\n    loadingModal: any;\n    content: any;\n    wallet_mode: any;\n    username_signature: any;\n    username: any;\n    requester_rid: any;\n    requested_rid: any;\n    their_address: any;\n    extraInfo: any;\n    files: any;\n    item: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public transactionService: TransactionService,\n        public alertCtrl: AlertController,\n        public graphService: GraphService,\n        public loadingCtrl: LoadingController,\n        public bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        public ahttp: Http,\n        public modalCtrl: ModalController,\n        public toastCtrl: ToastController\n    ) {\n        this.extraInfo = {};\n        this.wallet_mode = true;\n        this.item = navParams.data.item.transaction;\n        this.rid = navParams.data.item.transaction.rid;\n        this.requester_rid = navParams.data.item.transaction.requester_rid;\n        this.requested_rid = navParams.data.item.transaction.requested_rid;\n        this.their_address = navParams.data.item.transaction.relationship.their_address;\n        this.public_key = navParams.data.item.transaction.relationship.identity.public_key;\n        this.username_signature = navParams.data.item.transaction.relationship.identity.username_signature;\n        this.username = navParams.data.item.transaction.relationship.identity.username;\n        var key = 'last_message_height-' + navParams.data.item.transaction.rid;\n        if(navParams.data.item.transaction.height) this.storage.set(key, navParams.data.item.transaction.time);\n        this.storage.get('blockchainAddress').then((blockchainAddress) => {\n            this.blockchainAddress = blockchainAddress;\n        });\n        this.refresh(null, true);\n    }\n    \n    showInvite() {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Invite');\n        alert.setSubTitle('Select a friend to invite.');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                this.walletService.get()\n                .then(() => {\n                    var dh_public_key = this.graphService.keys[data.rid].dh_public_keys[0];\n                    var dh_private_key = this.graphService.keys[data.rid].dh_private_keys[0];\n\n                    if(dh_public_key && dh_private_key) {\n                        var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                            return parseInt(h, 16)\n                        }));\n                        var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                            return parseInt(h, 16)\n                        }));\n                        var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n                    }\n                    var myAddress = this.bulletinSecretService.key.getAddress();\n                    var to = false;\n                    for (var h=0; h < data.outputs.length; h++) {\n                        if (data.outputs[h].to != myAddress) {\n                            to = data.outputs[h].to;\n                        }\n                    }\n                    const info = {\n                      relationship: {},\n                      rid: data.rid,\n                      requester_rid: data.requester_rid,\n                      requested_rid: data.requested_rid,\n                      shared_secret: shared_secret,\n                      to: to\n                    }\n                    info.relationship[this.settingsService.collections.CHAT] = Base64.encode(JSON.stringify({\n                        public_key: this.item.public_key,\n                        username_signature: this.item.relationship.identity.username_signature,\n                        username: this.item.relationship.identity.username,\n                        group: true,\n                        requested_rid: this.requested_rid\n                    }))\n                    return this.transactionService.generateTransaction(info);\n                }).then((txn) => {\n                    return this.transactionService.sendTransaction();\n                }).then(() => {\n                    const toast = this.toastCtrl.create({\n                        message: \"Group invite sent!\",\n                        duration: 2000,\n                    });\n                    toast.present();\n                    this.groupChatText = '';\n                    this.refresh(null);\n                })\n                .catch((err) => {\n                    console.log(err); \n                    let alert = this.alertCtrl.create();\n                    alert.setTitle('Message error');\n                    alert.setSubTitle(err);\n                    alert.addButton('Ok');\n                    alert.present();\n                });\n            }\n        });\n        for (var i=0; i < this.graphService.graph.friends.length; i++) {\n            var friend = this.graphService.graph.friends[i];\n            alert.addInput({\n                name: 'username',\n                type: 'radio',\n                label: friend.relationship.identity.username,\n                value: friend,\n                checked: false\n            });\n        }\n        alert.present();\n    }\n\n    parseChats() {\n        let rid_to_use = this.requested_rid || this.rid;\n        if(this.graphService.graph.messages[rid_to_use]) {\n            this.chats = this.graphService.graph.messages[rid_to_use];\n            for(var i=0; i < this.chats.length; i++) {\n                this.chats[i].time = new Date(parseInt(this.chats[i].time)*1000).toISOString().slice(0, 19).replace('T', ' ');\n            }\n        } else {\n            this.chats = [];\n        }\n    }\n\n    refresh(refresher, showLoading = true) {\n        if (showLoading) {\n            this.loading = true;\n        }\n        this.graphService.getGroupMessages(this.username_signature, this.requested_rid, this.rid)\n        .then(() => {\n            this.loading = false;\n            if(refresher) refresher.complete();\n            return this.parseChats();\n        })\n        .then(() => {\n            setTimeout(() => this.content && this.content.scrollToBottom(1000), 500);\n        })\n        .then(() => {\n            return this.getSiaFiles();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    presentModal() {\n        \n        let modal = this.modalCtrl.create(SiaFiles, {\n            mode: 'modal',\n            logicalParent: this,\n            group: {\n                username_signature: this.username_signature,\n                rid: this.rid,\n                requester_rid: this.requester_rid,\n                requested_rid: this.requested_rid\n            }\n        });\n        modal.present();\n    }\n\n    import(relationship) {\n        return this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-share-file?origin=' + encodeURIComponent(window.location.origin), relationship)\n        .subscribe((res) => {\n            var files = res.json();\n        })\n    }\n\n    getSiaFiles() {\n        return this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-files')\n        .subscribe((res) => {\n            var files = res.json();\n        })\n    }\n\n    toggleExtraInfo(pending) {\n        const toast = this.toastCtrl.create({\n            message: pending ? \"Not yet saved on the blockchain\" : \"Saved on the blockchain\",\n            duration: 2000,\n            cssClass: pending ? 'redToast' : 'greenToast',\n            position: 'top'\n        });\n        toast.present();\n    }\n\n    viewProfile(item) {\n        var username_signatures = [this.bulletinSecretService.username_signature, item.relationship.identity.username_signature].sort(function (a, b) {\n            return a.toLowerCase().localeCompare(b.toLowerCase());\n        });\n        if (username_signatures[0] === username_signatures[1]) return;\n        var rid = foobar.bitcoin.crypto.sha256(username_signatures[0] + username_signatures[1]).toString('hex');\n        for (var i=0; i < this.graphService.graph.friends.length; i++) {\n            var friend = this.graphService.graph.friends[i];\n            if (friend.rid === rid) {\n                item = friend;\n            }\n        }\n        this.navCtrl.push(ProfilePage, {\n            item: item\n        })\n    }\n\n    send() {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve transaction');\n        alert.setSubTitle('You are about to spend 0.00 coins ( 0.00 fee). Everything is free for now.');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                const info = {\n                    relationship: {\n                        username_signature: this.bulletinSecretService.generate_username_signature(),\n                        username: this.bulletinSecretService.username\n                    },\n                    username_signature: this.username_signature,\n                    rid: this.rid,\n                    requester_rid: this.requester_rid,\n                    requested_rid: this.requested_rid\n                }\n                info.relationship[this.settingsService.collections.GROUP_CHAT]\n                this.walletService.get()\n                .then(() => {\n                    return this.transactionService.generateTransaction(info);\n                }).then((hash) => {\n                    return new Promise((resolve, reject) => {\n                        if (this.wallet_mode) {\n                            return resolve();\n                        }\n                        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sign-raw-transaction', {\n                            hash: hash, \n                            username_signature: this.bulletinSecretService.username_signature,\n                            input: this.transactionService.transaction.inputs[0].id,\n                            id: this.transactionService.transaction.id,\n                            txn: this.transactionService.transaction\n                        })\n                        .subscribe((res) => {\n                            //this.loadingModal2.dismiss();\n                            try {\n                                let data = res.json();\n                                this.transactionService.transaction.signatures = [data.signature]\n                                return resolve();\n                            } catch(err) {\n                                return reject(err);\n                                //this.loadingModal.dismiss().catch(() => {});\n                            }\n                        },\n                        (err) => {\n                            return reject(err);\n                        });\n                    });\n                }).then((txn) => {\n                    return this.transactionService.sendTransaction();\n                }).then(() => {\n                    this.groupChatText = '';\n                    this.refresh(null);\n                })\n                .catch((err) => {\n                   console.log(err); \n                   let alert = this.alertCtrl.create();\n                   alert.setTitle('Message error');\n                   alert.setSubTitle(err);\n                   alert.addButton('Ok');\n                   alert.present();\n                });\n            }\n        });\n        alert.present();\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/group/group.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { ListPage } from '../list/list';\nimport { ChatPage } from '../chat/chat';\nimport { GroupPage } from '../group/group';\nimport { Http } from '@angular/http';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { SettingsService } from '../../app/settings.service';\nimport { Events } from 'ionic-angular';\nimport { ComposePage } from '../mail/compose';\n\ndeclare var Base64;\ndeclare var forge;\ndeclare var X25519;\ndeclare var foobar;\n\n@Component({\n    selector: 'page-profile',\n    templateUrl: 'profile.html'\n})\nexport class ProfilePage {\n    baseUrl: any;\n    loadingModal: any;\n    prev_name: any;\n    item: any;\n    isAdded: any;\n    group: any;\n    identity: any;\n    subgroups = [];\n    collectionName: any;\n    identityJson: any;\n    tempIdentity: any;\n    rid: any;\n    requested_rid: any;\n    requester_rid: any;\n    identitySkylink: any;\n    busy: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        private ahttp: Http,\n        public loadingCtrl: LoadingController,\n        public settingsService: SettingsService,\n        public alertCtrl: AlertController,\n        public transactionService: TransactionService,\n        public toastCtrl: ToastController,\n        public events: Events\n    ) {\n        this.identity = this.navParams.get('identity');\n        const rids = this.graphService.generateRids(this.identity);\n        this.rid = rids.rid;\n        this.requested_rid = rids.requested_rid;\n        this.requester_rid = rids.requester_rid;\n        if (this.settingsService.remoteSettings.restricted) {\n          this.busy = true;\n          this.graphService.identityToSkylink(this.identity)\n          .then((skylink) => {\n            this.identitySkylink = skylink;\n            this.busy = false;\n          })\n        } else {\n          this.identityJson = JSON.stringify(this.graphService.toIdentity(this.identity), null, 4)\n        }\n        this.isAdded = this.graphService.isAdded(this.identity)\n        this.group = this.graphService.isGroup(this.identity)\n    }\n\n    invite() {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Invite');\n        alert.setSubTitle('Select a friend to invite.');\n        alert.addButton('Confirm');\n        alert.addInput({\n            name: 'radio1',\n            type: 'radio',\n            label: 'Radio 1',\n            value: 'value1',\n            checked: true\n        });\n        this.graphService.graph.friends.map((friend) => {\n            return friend;\n        });\n        alert.present();\n    }\n\n    addFriend() {\n        let info: any;\n        var buttons = [];\n        buttons.push({\n            text: 'Add',\n            handler: (data) => {\n                return this.graphService.addFriend(this.identity)\n                .then((txn) => {\n                    var alert = this.alertCtrl.create();\n                    alert.setTitle('Contact Request Sent');\n                    alert.setSubTitle('Your Friend Request has been sent successfully.');\n                    alert.addButton('Ok');\n                    alert.present();\n                }).catch((err) => {\n                    console.log(err);\n                });\n\n            }\n        });\n        let alert = this.alertCtrl.create({\n            buttons: buttons\n        });\n        alert.setTitle('Add contact');\n        alert.setSubTitle('Do you want to add ' + this.identity.username + '?');\n        alert.present();\n    }\n\n    createSubGroup() {\n        this.graphService.getInfo()\n        .then(() => {\n            return new Promise((resolve, reject) => {\n                let alert = this.alertCtrl.create({\n                    title: 'Sub-group name',\n                    inputs: [\n                    {\n                        name: 'groupname',\n                        placeholder: 'Sub-group name'\n                    }\n                    ],\n                    buttons: [\n                        {\n                            text: 'Save',\n                            handler: data => {\n                                const toast = this.toastCtrl.create({\n                                    message: 'Sub-group created',\n                                    duration: 2000\n                                });\n                                toast.present();\n                                resolve(data.groupname);\n                            }\n                        }\n                    ]\n                });\n                alert.present();\n            });\n        })\n        .then((groupName) => {\n            return this.graphService.createGroup(groupName, this.identity);\n        })\n        .then((hash) => {\n            if (this.settingsService.remoteSettings['walletUrl']) {\n                return this.graphService.getInfo();\n            }\n        });\n    }\n\n    message() {\n        this.navCtrl.push(ChatPage, {\n          identity: this.identity\n        });\n    }\n\n    openSubGroup(subGroup) {\n        this.navCtrl.push(ProfilePage, {\n          identity: subGroup.relationship,\n          group: true\n        });\n    }\n\n    compose() {\n        this.navCtrl.push(ComposePage, {\n          item: {\n            recipient: this.identity\n          }\n        });\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import { Injectable } from '@angular/core';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { SettingsService } from './settings.service';\nimport { Http, RequestOptions, Headers } from '@angular/http';\nimport { timeout } from 'rxjs/operators';\nimport { Events, LoadingController } from 'ionic-angular';\nimport { GraphService } from './graph.service';\nimport { TransactionService } from './transaction.service';\n\n\ndeclare var uuid4;\ndeclare var X25519;\n\n@Injectable()\nexport class WebSocketService {\n  websocket: any;\n  loadingModal: any;\n  directMessageRequestResolve: any;\n  constructor(\n    private ahttp: Http,\n    private bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService,\n    private graphService: GraphService,\n    private transactionService: TransactionService,\n    private events: Events\n  ) {}\n\n  init() {\n    if (this.websocket) return;\n    this.websocket = new WebSocket(this.settingsService.remoteSettings.websocketUrl);\n    this.websocket.onopen = this.onOpen.bind(this);\n    this.websocket.onmessage = this.onMessage.bind(this);\n  }\n\n  onOpen(event) {\n    console.log(event.data);\n  }\n\n  onMessage(event) {\n    let directMessageResponseCount;\n    let directMessageResponseCounts;\n    const msg = JSON.parse(event.data);\n    console.log(msg);\n    switch (msg.method) {\n      case 'connect_confirm':\n        for (let i=0; i < this.graphService.graph.groups.length; i++) {\n          let group = this.graphService.graph.groups[i]\n          this.joinGroup(group.relationship)\n        }\n        break;\n      case 'newtxn':\n        const collection = this.getNewTxnCollection(msg)\n        if (collection) {\n          switch (collection) {\n            case this.settingsService.collections.CONTACT:\n              this.graphService.parseFriendRequests([msg.params.transaction])\n              this.graphService.refreshFriendsAndGroups()\n              .then(() => {\n                return this.graphService.addNotification(msg.params.transaction, this.settingsService.collections.CONTACT);\n              })\n              break;\n            case this.settingsService.collections.CALENDAR:\n              const calendar = this.graphService.parseCalendar([msg.params.transaction])\n              return this.graphService.addNotification(calendar, this.settingsService.collections.CALENDAR);\n              break;\n            case this.settingsService.collections.GROUP_CALENDAR:\n              const group_calendar = this.graphService.parseCalendar([msg.params.transaction])\n              return this.graphService.addNotification(group_calendar, this.settingsService.collections.GROUP_CALENDAR);\n              break;\n            case this.settingsService.collections.CHAT:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                'new_messages_counts',\n                'new_messages_count',\n                msg.params.transaction.rid,\n                this.settingsService.collections.CHAT,\n                'last_message_height'\n              )\n              .then((item) => {\n                this.settingsService.menu === 'chat' && this.events.publish('newchat')\n                return this.graphService.addNotification(item[msg.params.transaction.rid][0], this.settingsService.collections.CHAT);\n              })\n              break;\n            case this.settingsService.collections.CONTRACT:\n              break;\n            case this.settingsService.collections.CONTRACT_SIGNED:\n              break;\n            case this.settingsService.collections.GROUP_CHAT:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                'new_group_messages_counts',\n                'new_group_messages_count',\n                msg.params.transaction.rid,\n                this.settingsService.collections.GROUP_CHAT,\n                'last_group_message_height'\n              )\n              .then((item) => {\n                if (!this.graphService.graph.messages[msg.params.transaction.requested_rid]) {\n                  this.graphService.graph.messages[msg.params.transaction.requested_rid] = []\n                }\n                this.graphService.graph.messages[msg.params.transaction.requested_rid].push(item[msg.params.transaction.requested_rid][0])\n                this.settingsService.menu === 'community' && this.events.publish('newchat')\n                return this.graphService.addNotification(item[msg.params.transaction.requested_rid][0], this.settingsService.collections.GROUP_CHAT);\n              })\n              break;\n            case this.settingsService.collections.GROUP_MAIL:\n              this.graphService.parseMail(\n                [msg.params.transaction],\n                'new_sent_mail_counts',\n                'new_sent_mail_count',\n                undefined,\n                this.settingsService.collections.GROUP_MAIL,\n                'last_sent_mail_height'\n              )\n              .then((item) => {\n                this.events.publish('newmail')\n                return this.graphService.addNotification(item, this.settingsService.collections.GROUP_MAIL);\n              })\n              break;\n            case this.settingsService.collections.MAIL:\n              let mailCount;\n              let mailCounts;\n              this.graphService.parseMail(\n                [msg.params.transaction],\n                mailCount,\n                mailCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.MAIL\n              )\n              .then((item) => {\n                this.events.publish('newmail')\n                return this.graphService.addNotification(item, this.settingsService.collections.MAIL);\n              })\n              break;\n            case this.settingsService.collections.PERMISSION_REQUEST:\n              break;\n            case this.settingsService.collections.SIGNATURE_REQUEST:\n              let permissionRequestCount;\n              let permissionRequestCounts;\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                permissionRequestCount,\n                permissionRequestCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.SIGNATURE_REQUEST\n              )\n              .then((item) => {\n                return this.graphService.addNotification(item[msg.params.transaction.rid][0], this.settingsService.collections.SIGNATURE_REQUEST);\n              })\n              break;\n            case this.settingsService.collections.WEB_CHALLENGE_REQUEST:\n              let directMessageRequestCount;\n              let directMessageRequestCounts;\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                directMessageRequestCount,\n                directMessageRequestCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_CHALLENGE_REQUEST\n              )\n              .then((items: any) => {\n                this.directMessageResponse(\n                  msg.params.transaction.rid,\n                  this.settingsService.collections.WEB_CHALLENGE_RESPONSE,\n                  {\n                    challenge: uuid4(),\n                    url: this.settingsService.remoteSettings.webSignInUrl\n                  }\n                )\n              })\n              break;\n            case this.settingsService.collections.WEB_CHALLENGE_RESPONSE:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                directMessageResponseCount,\n                directMessageResponseCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_CHALLENGE_RESPONSE\n              )\n              .then((items: any) => {\n                return this.directMessageRequestResolve(items[msg.params.transaction.rid][0])\n              })\n              break;\n            case this.settingsService.collections.WEB_SIGNIN_REQUEST:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                directMessageRequestCount,\n                directMessageRequestCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_SIGNIN_REQUEST\n              )\n              .then((items: any) => {\n                this.directMessageResponse(\n                  msg.params.transaction.rid,\n                  this.settingsService.collections.WEB_SIGNIN_RESPONSE,\n                  items[msg.params.transaction.rid][0].relationship[this.settingsService.collections.WEB_SIGNIN_REQUEST]\n                )\n              })\n              break;\n            case this.settingsService.collections.WEB_SIGNIN_RESPONSE:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                directMessageResponseCount,\n                directMessageResponseCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_SIGNIN_RESPONSE\n              )\n              .then((items: any) => {\n                return this.directMessageRequestResolve(items[msg.params.transaction.rid][0])\n              })\n              break;\n            case this.settingsService.collections.WEB_PAGE:\n              const webpage = this.graphService.parseMyPages([msg.params.transaction]);\n              this.graphService.addNotification(webpage, this.settingsService.collections.WEB_PAGE);\n              break;\n            case this.settingsService.collections.WEB_PAGE_REQUEST:\n              let webRequestCount;\n              let webRequestCounts;\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                webRequestCount,\n                webRequestCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_PAGE_REQUEST\n              )\n              .then((items: any) => {\n                let myRids2 = [this.graphService.generateRid(\n                  this.bulletinSecretService.identity.username_signature,\n                  this.bulletinSecretService.identity.username_signature,\n                  this.settingsService.collections.WEB_PAGE\n                )];\n                return this.graphService.getMyPages(myRids2)\n              })\n              .then((items: any) => {\n                const request = msg.params.transaction\n                const myPages = this.graphService.graph.mypages.filter(item2 => {\n                  return item2.relationship[this.settingsService.collections.WEB_PAGE].resource === request.relationship[this.settingsService.collections.WEB_PAGE_REQUEST].resource\n                })\n                let webResponse;\n                if (myPages[0]) {\n                  webResponse = {\n                    resource: myPages[0].relationship[this.settingsService.collections.WEB_PAGE].resource,\n                    content: myPages[0].relationship[this.settingsService.collections.WEB_PAGE].content\n                  }\n                } else {\n                  webResponse = {\n                    resource: request.relationship[this.settingsService.collections.WEB_PAGE_REQUEST].resource,\n                    content: 'Page not found for resource.'\n                  }\n                }\n                this.directMessageResponse(\n                  msg.params.transaction.rid,\n                  this.settingsService.collections.WEB_PAGE_RESPONSE,\n                  webResponse\n                )\n              })\n              break;\n            case this.settingsService.collections.WEB_PAGE_RESPONSE:\n              let webResponseCount;\n              let webResponseCounts;\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                webResponseCount,\n                webResponseCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_PAGE_RESPONSE\n              )\n              .then((items: any) => {\n                return this.directMessageRequestResolve(items[msg.params.transaction.rid][0])\n              })\n              break;\n          }\n            \n        }\n        break\n    }\n  }\n\n  getNewTxnCollection(msg) {\n    for (let i=0; i < Object.keys(this.settingsService.collections).length; i++) {\n      const collection = this.settingsService.collections[Object.keys(this.settingsService.collections)[i]];\n      const rid = this.graphService.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        collection\n      )\n      if(\n        msg.params.transaction.rid === rid ||\n        msg.params.transaction.requester_rid === rid ||\n        msg.params.transaction.requested_rid === rid\n      ) {\n        return collection;\n      }\n    }\n    const collections = [\n      this.settingsService.collections.GROUP_CHAT,\n      this.settingsService.collections.GROUP_MAIL,\n      this.settingsService.collections.GROUP_CALENDAR\n    ]\n    for (let j=0; j < Object.keys(this.graphService.groups_indexed).length; j++) {\n      const group = this.graphService.groups_indexed[Object.keys(this.graphService.groups_indexed)[j]];\n      for (let i=0; i < collections.length; i++) {\n        const collection = collections[i];\n        const rid = this.graphService.generateRid(\n          group.relationship.username_signature,\n          group.relationship.username_signature,\n          collection\n        )\n        if(\n          msg.params.transaction.rid === rid ||\n          msg.params.transaction.requester_rid === rid ||\n          msg.params.transaction.requested_rid === rid\n        ) {\n          return collection;\n        }\n      }\n    }\n    return false;\n  }\n\n  connect() {\n    this.websocket.send(JSON.stringify({\n      id: '',\n      jsonrpc: 2.0,\n      method: 'connect',\n      params: {\n        identity: this.graphService.toIdentity(this.bulletinSecretService.identity)\n      }\n    }))\n  }\n\n  joinGroup(identity) {\n    return this.websocket.send(JSON.stringify({\n      id: '',\n      jsonrpc: 2.0,\n      method: 'join_group',\n      params: identity\n    }))\n  }\n\n  webpage(mypage) {\n\n    let identity = this.graphService.toIdentity(JSON.parse(this.bulletinSecretService.identityJson()))\n    identity.collection = this.settingsService.collections.WEB_PAGE;\n    const rids = this.graphService.generateRids(identity)\n\n    const request = {\n      ...rids,\n      relationship: {},\n      shared_secret: this.bulletinSecretService.identity.username_signature\n    }\n    request.relationship[this.settingsService.collections.WEB_PAGE] = mypage\n    this.transactionService.generateTransaction(request)\n    .then(() => {\n      return this.websocket.send(JSON.stringify({\n        id: '',\n        jsonrpc: 2.0,\n        method: 'newtxn',\n        params: {\n          transaction: this.transactionService.transaction\n        }\n      }))\n    })\n  }\n\n  directMessageRequest(identity, collection, relationship, resolve) {\n    this.directMessageRequestResolve = resolve\n    identity.collection = collection;\n    const rids = this.graphService.generateRids(identity)\n    var dh_public_key = this.graphService.keys[rids.rid].dh_public_keys[0];\n    var dh_private_key = this.graphService.keys[rids.rid].dh_private_keys[0];\n\n    var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16)\n    }));\n    var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16)\n    }));\n    var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n    let request = {\n      ...rids,\n      relationship: {},\n      shared_secret: shared_secret\n    }\n    request.relationship[collection] = relationship\n    this.transactionService.generateTransaction(request)\n    .then(() => {\n      this.websocket.send(JSON.stringify({\n        id: '',\n        jsonrpc: 2.0,\n        method: 'newtxn',\n        params: {\n          transaction: this.transactionService.transaction\n        }\n      }))\n    })\n  }\n\n  directMessageResponse(rid, collection, relationship) {\n    const myRids = this.graphService.generateRids(this.bulletinSecretService.identity)\n    let recipient;\n    if (this.graphService.friends_indexed[rid]) {\n      recipient = this.graphService.friends_indexed[rid].relationship.identity\n    }\n\n    if (myRids.rid == rid){\n      recipient = this.bulletinSecretService.identity\n    }\n\n    if (!recipient) return;\n\n    recipient.collection = collection;\n    const rids = this.graphService.generateRids(recipient)\n    var dh_public_key = this.graphService.keys[rids.rid].dh_public_keys[0];\n    var dh_private_key = this.graphService.keys[rids.rid].dh_private_keys[0];\n\n    var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16)\n    }));\n    var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16)\n    }));\n    var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n    let request = {\n      ...rids,\n      relationship: {},\n      shared_secret\n    }\n    request.relationship[collection] = relationship;\n    return this.transactionService.generateTransaction(request)\n    .then(() => {\n      this.websocket.send(JSON.stringify({\n        id: '',\n        jsonrpc: 2.0,\n        method: 'newtxn',\n        params: {\n          transaction: this.transactionService.transaction\n        }\n      }))\n    })\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/websocket.service.ts"],"sourceRoot":""}