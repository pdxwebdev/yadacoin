{"version":3,"sources":["../../src/app/settings.service.ts","../../src/pages/mail/compose.ts","../../src/app/autocomplete.provider.ts","../../src/app/bulletinSecret.service.ts","../../src/pages/mail/mailitem.ts","../../src/pages/markets/marketitem.ts","../../src/app/opengraphparser.service.ts","../../src/app/graph.service.ts","../../src/app/transaction.service.ts","../../src/pages/home/home.ts","../../src/app/peer.service.ts","../../src/pages/chat/chat.ts","../../src/pages/sendreceive/sendreceive.ts","../../src/pages/calendar/calendar.ts","../../src/pages/assets/assets.ts","../../src/app/firebase.service.ts","../../src/pages/mail/mail.ts","../../src/pages/web/web.ts","../../src/pages/web/buildpage.ts","../../src/app/wallet.service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/app/websocket.service.ts","../../src/pages/signaturerequest/signaturerequest.ts","../../src/pages/markets/market.ts","../../src/pages/assets/createasset.ts","../../src/pages/assets/assetitem.ts","../../src/pages/markets/createsale.ts","../../src/pages/markets/createpromo.ts","../../src/pages/settings/settings.ts","../../src/pages/siafiles/siafiles.ts","../../src/pages/stream/stream.ts","../../src/pages/web/mypages.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../util (ignored)","webpack:///util (ignored)?86d8","../../buffer (ignored)","../../crypto (ignored)","../../src/app/smartContract.service.ts","../../src/pages/list/list.ts","../../src/pages/profile/profile.ts","../../src/app/groups.ts","../../src/pages/home/postmodal.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class SettingsService {\n    remoteSettings: any = {};\n    remoteSettingsUrl = null;\n    tokens = {};\n    menu = '';\n    collections = {\n      AFFILIATE: 'affiliate',\n      ASSET: 'asset',\n      BID: 'bid',\n      CONTACT: 'contact',\n      CALENDAR: 'event_meeting',\n      CHAT: 'chat',\n      CHAT_FILE: 'chat_file',\n      CONTRACT: 'contract',\n      CONTRACT_SIGNED: 'contract_signed',\n      GROUP: 'group',\n      GROUP_CALENDAR: 'group_event_meeting',\n      GROUP_CHAT: 'group_chat',\n      GROUP_CHAT_FILE_NAME: 'group_chat_file_name',\n      GROUP_CHAT_FILE: 'group_chat_file',\n      GROUP_MAIL: 'group_mail',\n      MAIL: 'mail',\n      MARKET: 'market',\n      PERMISSION_REQUEST: 'permission_request',\n      SIGNATURE_REQUEST: 'signature_request',\n      SMART_CONTRACT: 'smart_contract',\n      WEB_CHALLENGE_REQUEST: 'web_challenge_request',\n      WEB_CHALLENGE_RESPONSE: 'web_challenge_response',\n      WEB_PAGE: 'web_page',\n      WEB_PAGE_REQUEST: 'web_page_request',\n      WEB_PAGE_RESPONSE: 'web_page_response',\n      WEB_SIGNIN_REQUEST: 'web_signin_request',\n      WEB_SIGNIN_RESPONSE: 'web_signin_response'\n    }\n    latest_block: any;\n    constructor(\n    ) {\n        this.tokens = {};\n        this.latest_block = {};\n    }\n\n    go() {\n        return new Promise((resolve, reject) => {\n\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { CompleteTestService } from '../../app/autocomplete.provider';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { AutoCompleteComponent } from 'ionic2-auto-complete';\nimport { GraphService } from '../../app/graph.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { MailPage } from './mail';\nimport { Http } from '@angular/http';\nimport { SettingsService } from '../../app/settings.service';\n\n\ndeclare var X25519\n\n\n@Component({\n  selector: 'compose-profile',\n  templateUrl: 'compose.html'\n})\nexport class ComposePage {\n  item: any;\n  mode: any;\n  recipient: any;\n  subject: any;\n  body: any;\n  thread: any;\n  prevBody: any;\n  collection: any;\n  message_type: any;\n  event_datetime: any;\n  @ViewChild('searchbar')\n  searchbar: AutoCompleteComponent;\n  group: any;\n  filepath: any;\n  filedata: any;\n  skylink: any;\n  busy: any;\n  constructor(\n    public navCtrl: NavController,\n    navParams: NavParams,\n    public completeTestService: CompleteTestService,\n    public graphService: GraphService,\n    public transactionService: TransactionService,\n    public walletService: WalletService,\n    public alertCtrl: AlertController,\n    public bulletinSecretService: BulletinSecretService,\n    public ahttp: Http,\n    public settingsService: SettingsService\n  ) {\n    this.item = navParams.data.item;\n    this.mode = navParams.data.mode || 'new';\n    this.thread = navParams.data.thread;\n    this.recipient = '';\n    this.prevBody = '';\n  }\n\n  ionViewDidEnter() {\n    if (this.mode === 'reply') {\n      this.recipient = this.item.sender\n      this.subject = this.item.subject\n      this.prevBody = this.item.body\n      this.collection = this.item.collection\n    }\n    else if (this.mode === 'replyToAll') {\n      this.recipient = this.item.group\n      this.subject = this.item.subject\n      this.prevBody = this.item.body\n      this.collection = this.item.collection\n    }\n    else if (this.mode === 'forward') {\n      this.subject = this.item.subject\n      this.body = this.item.body\n      this.collection = this.item.collection\n    } else if(this.item && this.item.recipient) {\n      this.recipient = this.item.recipient\n    }\n    if (this.recipient) {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_MAIL : this.settingsService.collections.MAIL;\n    }\n    if (this.item && this.item.message_type) {\n      this.message_type = this.item.message_type;\n    } else {\n      if (this.collection === this.settingsService.collections.MAIL || this.collection === this.settingsService.collections.GROUP_MAIL) {\n        this.message_type = 'mail'\n      } else if (this.collection === this.settingsService.collections.CALENDAR || this.collection === this.settingsService.collections.GROUP_CALENDAR) {\n        this.message_type = 'calendar'\n      }\n      this.message_type = this.message_type || 'mail'\n    }\n  }\n\n  myForm = new FormGroup({\n      searchTerm: new FormControl('', [Validators.required])\n  })\n\n  segmentChanged(e) {\n    this.message_type = e.value;\n    if (this.message_type === 'mail') {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_MAIL : this.settingsService.collections.MAIL;\n    } else if (this.message_type === 'calendar') {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_CALENDAR : this.settingsService.collections.CALENDAR;\n    }\n  }\n\n  changeListener($event) {\n      this.busy = true;\n      this.filepath = $event.target.files[0].name;\n      const reader = new FileReader();\n      reader.readAsDataURL($event.target.files[0]);\n      reader.onload = () => {\n        this.filedata = reader.result.toString().substr(22)\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-upload?filename=' + encodeURIComponent(this.filepath), {file: this.filedata})\n        .subscribe((res) => {\n            const data = res.json();\n            if (!data.skylink) return;\n            this.skylink = data.skylink;\n            this.busy = false\n        })\n      };\n      reader.onerror = () => {};\n  }\n\n  submit() {\n    if (this.message_type === 'mail') {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_MAIL : this.settingsService.collections.MAIL;\n    } else if (this.message_type === 'calendar') {\n      this.collection = this.graphService.isGroup(this.recipient) ? this.settingsService.collections.GROUP_CALENDAR : this.settingsService.collections.CALENDAR;\n    }\n    let alert = this.alertCtrl.create();\n    alert.setTitle('Send mail confirmation');\n    alert.setSubTitle('Are you sure?');\n    alert.addButton('Cancel');\n    alert.addButton({\n        text: 'Confirm',\n        handler: (data: any) => {\n            this.walletService.get()\n            .then(() => {\n                const rid = this.graphService.generateRid(\n                  this.bulletinSecretService.identity.username_signature,\n                  this.recipient.username_signature\n                )\n\n                if (this.graphService.isGroup(this.recipient)) {\n                    const requester_rid = this.graphService.generateRid(\n                      this.bulletinSecretService.identity.username_signature,\n                      this.bulletinSecretService.identity.username_signature,\n                      this.collection\n                    )\n                    const requested_rid = this.graphService.generateRid(\n                      this.recipient.username_signature,\n                      this.recipient.username_signature,\n                      this.collection\n                    )\n                    const info = {\n                        relationship: {},\n                        rid: rid,\n                        requester_rid: requester_rid,\n                        requested_rid: requested_rid,\n                        group: true,\n                        shared_secret: this.recipient.username_signature\n                    }\n                    info.relationship[this.collection] = {\n                        sender: this.bulletinSecretService.identity,\n                        subject: this.subject,\n                        body: this.body,\n                        thread: this.thread,\n                        event_datetime: this.event_datetime,\n                        skylink: this.skylink,\n                        filename: this.filepath\n                    }\n                    return this.transactionService.generateTransaction(info);\n                } else {\n                  const requester_rid = this.graphService.generateRid(\n                    this.bulletinSecretService.identity.username_signature,\n                    this.bulletinSecretService.identity.username_signature,\n                    this.collection\n                  )\n                  const requested_rid = this.graphService.generateRid(\n                    this.recipient.username_signature,\n                    this.recipient.username_signature,\n                    this.collection\n                  )\n                  var dh_public_key = this.graphService.keys[rid].dh_public_keys[0];\n                  var dh_private_key = this.graphService.keys[rid].dh_private_keys[0];\n\n                  if(dh_public_key && dh_private_key) {\n                      var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                          return parseInt(h, 16)\n                      }));\n                      var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                          return parseInt(h, 16)\n                      }));\n                      var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n                      // camera permission was granted\n                      const info = {\n                          dh_public_key: dh_public_key,\n                          dh_private_key: dh_private_key,\n                          relationship: {},\n                          shared_secret: shared_secret,\n                          rid: rid,\n                          requester_rid: requester_rid,\n                          requested_rid: requested_rid\n                      }\n                      info.relationship[this.collection] = {\n                          subject: this.subject,\n                          body: this.body,\n                          thread: this.thread,\n                          event_datetime: this.event_datetime,\n                          skylink: this.skylink,\n                          filename: this.filepath\n                      }\n                      return this.transactionService.generateTransaction(info);\n                  } else {\n                      return new Promise((resolve, reject) => {\n                          let alert = this.alertCtrl.create();\n                          alert.setTitle('Contact not yet processed');\n                          alert.setSubTitle('Please wait a few minutes and try again');\n                          alert.addButton('Ok');\n                          alert.present();\n                          return reject('failed to create friend request');\n                      });\n                  }\n\n                }\n            }).then((txn) => {\n                return this.transactionService.sendTransaction();\n            }).then(() => {\n                this.navCtrl.pop()\n            })\n            .catch((err) => {\n               console.log(err);\n               let alert = this.alertCtrl.create();\n               alert.setTitle('Message error');\n               alert.setSubTitle(err);\n               alert.addButton('Ok');\n               alert.present();\n            });\n           }\n    });\n    alert.present();\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/compose.ts","import { Injectable } from '@angular/core';\nimport { SettingsService } from './settings.service';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { AutoCompleteService } from 'ionic2-auto-complete';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { GraphService } from './graph.service';\n\n@Injectable()\nexport class CompleteTestService implements AutoCompleteService {\n  labelAttribute = \"name\";\n  formValueAttribute = \"value\";\n\n  constructor(\n      private http: Http,\n      private settingsService: SettingsService,\n      private bulletinSecretService: BulletinSecretService,\n      private graphService: GraphService\n  ) {\n  }\n\n  getResults(searchTerm:string) {\n    return this.graphService.graph.friends.concat(this.graphService.graph.groups)\n    .filter((item) => {\n      const friend = this.graphService.getIdentityFromTxn(item, this.settingsService.collections.CONTACT);\n      const group = this.graphService.getIdentityFromTxn(item, this.settingsService.collections.GROUP);\n      return (friend || group).username.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1\n    })\n    .map((item) => {\n        const friend = this.graphService.getIdentityFromTxn(item, this.settingsService.collections.CONTACT);\n        const group = this.graphService.getIdentityFromTxn(item, this.settingsService.collections.GROUP);\n        const identity = friend || group;\n        return {name: identity.username, value: this.graphService.toIdentity(identity)}\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/autocomplete.provider.ts","import { Injectable } from \"@angular/core\";\nimport { Storage } from \"@ionic/storage\";\nimport { Events } from \"ionic-angular\";\nimport { GraphService } from \"./graph.service\";\n\ndeclare var foobar;\ndeclare var forge;\n\n@Injectable()\nexport class BulletinSecretService {\n  key = null;\n  username_signature = null;\n  keyname = null;\n  keykeys = null;\n  username = null;\n  public_key = null;\n  identity: any = {\n    username: \"\",\n    username_signature: \"\",\n    public_key: \"\",\n  };\n  constructor(private storage: Storage, public events: Events) {}\n\n  shared_encrypt(shared_secret, message) {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256.create().update(shared_secret).digest().toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var cipher = forge.cipher.createCipher(\"AES-CBC\", key);\n    var iv = \"\";\n    cipher.start({ iv: iv });\n    cipher.update(forge.util.createBuffer(iv + message));\n    cipher.finish();\n    return cipher.output.toHex();\n  }\n\n  get() {\n    return this.all()\n      .then((keys: any) => {\n        return this.setKeyName(keys);\n      })\n      .then(() => {\n        return this.setKey();\n      });\n  }\n\n  setKeyName(keys) {\n    return new Promise((resolve, reject) => {\n      keys.sort(function (a, b) {\n        if (a.idx < b.idx) return -1;\n        if (a.idx > b.idx) return 1;\n        return 0;\n      });\n      if (!this.keyname) {\n        this.storage.get(\"last-keyname\").then((key) => {\n          if (key && typeof key == \"string\") {\n            this.keyname = key;\n          } else {\n            this.keyname = keys[0].idx;\n          }\n          resolve(keys);\n        });\n      } else {\n        resolve(keys);\n      }\n    });\n  }\n\n  setKey() {\n    return new Promise((resolve, reject) => {\n      this.storage.get(this.keyname).then((key) => {\n        this.key = foobar.bitcoin.ECPair.fromWIF(key);\n        this.username = this.keyname.substr(\"usernames-\".length);\n        this.public_key = this.key.getPublicKeyBuffer().toString(\"hex\");\n        this.identity = {\n          username: this.username,\n          username_signature: this.username_signature,\n          public_key: this.public_key,\n        };\n        this.username_signature = this.generate_username_signature();\n        return resolve(null);\n      });\n    });\n  }\n\n  cloneIdentity() {\n    return JSON.parse(this.identityJson());\n  }\n\n  identityJson() {\n    return JSON.stringify(this.identity, null, 4);\n  }\n\n  generate_username_signature() {\n    return foobar.base64.fromByteArray(\n      this.key.sign(foobar.bitcoin.crypto.sha256(this.username)).toDER()\n    );\n  }\n\n  set(key) {\n    return new Promise((resolve, reject) => {\n      this.keyname = key;\n      return this.storage\n        .set(\"last-keyname\", key)\n        .then(() => {\n          return this.storage.remove(\"usernames-\");\n        })\n        .then((key) => {\n          return this.get();\n        })\n        .then(() => {\n          return this.setKey();\n        })\n        .then(() => {\n          return resolve(null);\n        })\n        .catch((err) => {\n          return reject(err);\n        });\n    });\n  }\n\n  create(username) {\n    return new Promise((resolve, reject) => {\n      if (!username) return reject(\"username missing\");\n      this.keyname = \"usernames-\" + username;\n      this.storage.set(\"last-keyname\", this.keyname);\n\n      this.username = username;\n      this.key = foobar.bitcoin.ECPair.makeRandom();\n      this.storage.set(this.keyname, this.key.toWIF());\n      this.username_signature = this.generate_username_signature();\n      return this.get().then(() => {\n        return resolve(null);\n      });\n    });\n  }\n\n  import(keyWif, username) {\n    return new Promise((resolve, reject) => {\n      if (!username) return reject(\"username missing\");\n      this.keyname = \"usernames-\" + username;\n      this.storage.set(\"last-keyname\", this.keyname);\n\n      this.username = username;\n      this.storage.set(this.keyname, keyWif.trim());\n      this.key = foobar.bitcoin.ECPair.fromWIF(keyWif.trim());\n      this.username_signature = this.generate_username_signature();\n      return this.get().then(() => {\n        return resolve(null);\n      });\n    });\n  }\n\n  async keyToIdentity(key) {\n    const privkey = foobar.bitcoin.ECPair.fromWIF(key.key);\n    const username = key.idx.substr(\"usernames-\".length);\n    const public_key = privkey.getPublicKeyBuffer().toString(\"hex\");\n    return {\n      username: username,\n      username_signature: this.generate_username_signature(),\n      public_key: public_key,\n      address: await this.publicKeyToAddress(public_key),\n      wif: key.key,\n    };\n  }\n\n  all() {\n    return new Promise((resolve, reject) => {\n      var keykeys = [];\n      this.storage\n        .forEach((value, key) => {\n          if (key.substr(0, \"usernames-\".length) === \"usernames-\") {\n            keykeys.push({ key: value, idx: key });\n          }\n        })\n        .then(() => {\n          this.keykeys = keykeys;\n          resolve(keykeys);\n        });\n    });\n  }\n\n  unset() {\n    this.key = null;\n    this.username_signature = null;\n    this.keyname = null;\n    this.keykeys = null;\n    this.username = null;\n    this.public_key = null;\n    this.identity = {\n      username: \"\",\n      username_signature: \"\",\n      public_key: \"\",\n    };\n  }\n\n  async publicKeyToAddress(public_key) {\n    return await foobar.bitcoin.ECPair.fromPublicKeyBuffer(\n      foobar.Buffer.Buffer.from(public_key, \"hex\")\n    ).getAddress();\n  }\n\n  decrypt(message) {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256.create().update(this.key.toWIF()).digest().toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var decipher = forge.cipher.createDecipher(\"AES-CBC\", key);\n    var enc = this.hexToBytes(message);\n    decipher.start({ iv: enc.slice(0, 16) });\n    decipher.update(forge.util.createBuffer(enc.slice(16)));\n    decipher.finish();\n    return decipher.output;\n  }\n\n  hexToBytes(s) {\n    var arr = [];\n    for (var i = 0; i < s.length; i += 2) {\n      var c = s.substr(i, 2);\n      arr.push(parseInt(c, 16));\n    }\n    return String.fromCharCode.apply(null, arr);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/bulletinSecret.service.ts","import { Component } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { ComposePage } from './compose';\nimport { ProfilePage } from '../profile/profile';\nimport { SettingsService } from '../../app/settings.service';\n\n\ndeclare var X25519;\n\n\n@Component({\n  selector: 'mail-item',\n  templateUrl: 'mailitem.html'\n})\nexport class MailItemPage {\n  item: any;\n  constructor(\n    public navCtrl: NavController,\n    private navParams: NavParams,\n    private walletService: WalletService,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private alertCtrl: AlertController,\n    private transactionService: TransactionService,\n    private settingsService: SettingsService\n  ) {\n    this.item = navParams.data.item\n  }\n\n  replyMail(item) {\n    this.navCtrl.push(ComposePage, {\n      item: item,\n      mode: 'reply',\n      thread: item.thread || item.id,\n      message_type: item.message_type\n    });\n  }\n\n  replyToAllMail(item) {\n    this.navCtrl.push(ComposePage, {\n      item: item,\n      mode: 'replyToAll',\n      thread: item.thread || item.id,\n      message_type: item.message_type\n    });\n  }\n\n  forwardMail(item) {\n    this.navCtrl.push(ComposePage, {\n      item: item,\n      mode: 'forward'\n    });\n  }\n\n  signMail(item) {\n    this.navCtrl.push(ComposePage, {\n      item: item,\n      mode: 'sign',\n      thread: item.thread || item.id\n    });\n  }\n\n  addFriend() {\n      let info: any;\n      var buttons = [];\n      buttons.push({\n          text: 'Add',\n          handler: (data) => {\n              return this.graphService.addFriend(this.item.sender)\n              .then((txn) => {\n                  var alert = this.alertCtrl.create();\n                  alert.setTitle('Contact Request Sent');\n                  alert.setSubTitle('Your Friend Request has been sent successfully.');\n                  alert.addButton('Ok');\n                  alert.present();\n              }).catch((err) => {\n                  console.log(err);\n              });\n\n          }\n      });\n      let alert = this.alertCtrl.create({\n          buttons: buttons\n      });\n      alert.setTitle('Add contact');\n      alert.setSubTitle('Do you want to add ' + this.item.sender.username + '?');\n      alert.present();\n  }\n\n  viewProfile(identity) {\n    this.navCtrl.push(ProfilePage, {\n      identity: identity\n    });\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mailitem.ts","import { Component } from \"@angular/core\";\nimport { AlertController, NavController, NavParams } from \"ionic-angular\";\nimport { BulletinSecretService } from \"../../app/bulletinSecret.service\";\nimport { GraphService } from \"../../app/graph.service\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport { CreateSalePage } from \"./createsale\";\nimport { ProfilePage } from \"../profile/profile\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { SmartContractService } from \"../../app/smartContract.service\";\nimport { WebSocketService } from \"../../app/websocket.service\";\nimport { Http, RequestOptions } from \"@angular/http\";\n\ndeclare var X25519;\ndeclare var foobar;\n\n@Component({\n  selector: \"market-item\",\n  templateUrl: \"marketitem.html\",\n})\nexport class MarketItemPage {\n  item: any;\n  smartContract: any;\n  bids: any;\n  affiliates: any;\n  market: any;\n  smartContractAddress: any;\n  price: any;\n  minPrice: any;\n  balance: any;\n  prevHeight: any;\n  past_sent_transactions: any;\n  sentPage: any;\n  past_sent_page_cache: any;\n  constructor(\n    public navCtrl: NavController,\n    private navParams: NavParams,\n    private walletService: WalletService,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private alertCtrl: AlertController,\n    private transactionService: TransactionService,\n    private settingsService: SettingsService,\n    private smartContractService: SmartContractService,\n    private websocketService: WebSocketService,\n    private ahttp: Http\n  ) {\n    this.item = navParams.get(\"item\");\n    this.smartContract =\n      this.item.relationship[this.settingsService.collections.SMART_CONTRACT];\n    this.market =\n      navParams.get(\"market\").relationship[\n        this.settingsService.collections.MARKET\n      ];\n    this.bids = [];\n    this.affiliates = [];\n    this.sentPage = 1;\n    this.past_sent_page_cache = {};\n    this.past_sent_transactions = [];\n    this.refresh();\n    this.price = this.smartContract.price;\n    this.minPrice = this.smartContract.price;\n    this.graphService.getBlockHeight().then((data) => {\n      this.settingsService.latest_block = data;\n    });\n    this.prevHeight = this.settingsService.latest_block.height;\n    setInterval(() => {\n      if (this.prevHeight < this.settingsService.latest_block.height) {\n        this.prevHeight = this.settingsService.latest_block.height;\n        this.graphService\n          .getSmartContracts(this.market)\n          .then((smartContracts: any) => {\n            const item = smartContracts.filter((item) => {\n              return item.id === this.item.id;\n            })[0];\n            this.item = item || this.item;\n          });\n        this.refresh();\n      }\n    }, 1000);\n  }\n\n  async refresh(e = null) {\n    const identity = JSON.parse(JSON.stringify(this.smartContract.identity));\n    if (\n      this.smartContract.contract_type ===\n      this.smartContractService.contractTypes.CHANGE_OWNERSHIP\n    ) {\n      identity.collection = this.settingsService.collections.BID;\n    } else {\n      identity.collection = this.settingsService.collections.AFFILIATE;\n    }\n    const rids = this.graphService.generateRids(identity);\n\n    const scAddress = await this.bulletinSecretService.publicKeyToAddress(\n      this.smartContract.identity.public_key\n    );\n    this.walletService\n      .get(this.price, scAddress)\n      .then((wallet: any) => {\n        this.balance = this.item.pending\n          ? wallet.pending_balance\n          : wallet.balance;\n        return this.graphService.getBids(rids.requested_rid, this.market);\n      })\n      .then((bids) => {\n        this.bids = bids.sort((a, b) => {\n          const aamount = this.getAmount(a);\n          const bamount = this.getAmount(b);\n\n          if (aamount < bamount) return 1;\n          if (aamount > bamount) return -1;\n          if (aamount === bamount) return 0;\n        });\n        if (this.bids.slice(0).length > 0) {\n          this.price = this.getAmount(this.bids[0]);\n          this.minPrice = this.price;\n        }\n      });\n    this.graphService\n      .getAffiliates(rids.requested_rid, this.market)\n      .then((affiliates) => {\n        this.affiliates = affiliates.filter((item) => {\n          if (\n            item.public_key ===\n              this.bulletinSecretService.identity.public_key ||\n            this.item.public_key ===\n              this.bulletinSecretService.identity.public_key\n          )\n            return true;\n        });\n      });\n    this.smartContractAddress = foobar.bitcoin.ECPair.fromPublicKeyBuffer(\n      foobar.Buffer.Buffer.from(this.smartContract.identity.public_key, \"hex\")\n    ).getAddress();\n    this.getSentHistory();\n    setTimeout(() => {\n      e && e.complete();\n    }, 1000);\n  }\n\n  getSentHistory(public_key = null) {\n    return new Promise((resolve, reject) => {\n      let options = new RequestOptions({ withCredentials: true });\n      this.ahttp\n        .get(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/get-past-sent-txns?page=\" +\n            this.sentPage +\n            \"&public_key=\" +\n            this.smartContract.identity.public_key +\n            \"&origin=\" +\n            encodeURIComponent(window.location.origin),\n          options\n        )\n        .subscribe(\n          (res) => {\n            this.past_sent_transactions = res\n              .json()\n              [\"past_transactions\"].sort(this.sortFunc);\n            this.past_sent_transactions = this.breakApartByOutput();\n            this.getSentOutputValue(this.past_sent_transactions);\n            this.past_sent_page_cache[this.sentPage] =\n              this.past_sent_transactions;\n            resolve(res);\n          },\n          (err) => {\n            return reject(\"cannot unlock wallet\");\n          }\n        );\n    });\n  }\n\n  breakApartByOutput() {\n    const new_array = [];\n    this.past_sent_transactions.map((item) => {\n      item.outputs.map((output) => {\n        if (this.smartContractAddress === output.to) return;\n        const new_item = JSON.parse(JSON.stringify(item));\n        new_item.outputs = [output];\n        new_array.push(new_item);\n      });\n    });\n    return new_array;\n  }\n\n  prevSentPage() {\n    this.sentPage--;\n    var result = (this.past_sent_transactions =\n      this.past_sent_page_cache[this.sentPage] || []);\n    if (result.length > 0) {\n      this.past_sent_transactions = result;\n      return;\n    }\n    return this.getSentHistory();\n  }\n\n  nextSentPage() {\n    this.sentPage++;\n    var result = this.past_sent_page_cache[this.sentPage] || [];\n    if (result.length > 0) {\n      this.past_sent_transactions = result;\n      return;\n    }\n    return this.getSentHistory();\n  }\n\n  getSentOutputValue(array) {\n    for (var i = 0; i < array.length; i++) {\n      var txn = array[i];\n      if (!array[i][\"value\"]) {\n        array[i][\"value\"] = 0;\n      }\n      for (var j = 0; j < txn[\"outputs\"].length; j++) {\n        var output = txn[\"outputs\"][j];\n        if (this.smartContractAddress !== output.to) {\n          array[i][\"value\"] += parseFloat(output.value);\n          if (output.to) array[i][\"to\"] = output.to;\n        } else {\n          if (output.to) array[i][\"from\"] = output.to;\n        }\n      }\n      array[i][\"value\"] = array[i][\"value\"].toFixed(8);\n    }\n  }\n\n  sortFunc(a, b) {\n    if (parseInt(a.time) < parseInt(b.time)) return 1;\n    if (parseInt(a.time) > parseInt(b.time)) return -1;\n    return 0;\n  }\n\n  convertDateTime(timestamp) {\n    var a = new Date(timestamp * 1000);\n    var months = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hour = \"0\" + a.getHours();\n    var min = \"0\" + a.getMinutes();\n    var time =\n      date +\n      \"-\" +\n      month +\n      \"-\" +\n      year +\n      \" \" +\n      hour.substr(-2) +\n      \":\" +\n      min.substr(-2);\n    return time;\n  }\n\n  getAmount(bid) {\n    let total = 0;\n\n    for (let i = 0; i < bid.outputs.length; i++) {\n      if (bid.outputs[i].to === this.smartContractAddress)\n        total += bid.outputs[i].value;\n    }\n    return total.toFixed(8);\n  }\n\n  openProfile(identity) {\n    this.navCtrl.push(ProfilePage, {\n      identity: identity,\n    });\n  }\n\n  buy(e) {\n    // generate purchase txn\n    let alert = this.alertCtrl.create();\n    let buttonText = \"\";\n    if (\n      this.smartContract.proof_type ===\n      this.smartContractService.assetProofTypes.FIRST_COME\n    ) {\n      alert.setTitle(\"Buy Asset\");\n      alert.setSubTitle(\"Are you sure you want to buy this asset?\");\n      buttonText = \"Buy\";\n    } else if (\n      this.smartContract.proof_type ===\n      this.smartContractService.assetProofTypes.AUCTION\n    ) {\n      alert.setTitle(\"Bid on Asset\");\n      alert.setSubTitle(\"Are you sure you want to place a bid for this asset?\");\n      buttonText = \"Bid\";\n    }\n    alert.addButton({\n      text: \"Cancel\",\n    });\n    alert.addButton({\n      text: buttonText,\n      handler: (data: any) => {\n        this.walletService\n          .get(this.price)\n          .then(() => {\n            return this.bulletinSecretService.publicKeyToAddress(\n              this.smartContract.identity.public_key\n            );\n          })\n          .then((scAddress) => {\n            const rids = this.graphService.generateRids(\n              this.smartContract.identity,\n              this.smartContract.identity,\n              this.settingsService.collections.BID\n            );\n            return this.websocketService.newtxn(\n              this.graphService.toIdentity(this.bulletinSecretService.identity),\n              rids,\n              this.settingsService.collections.BID,\n              this.market.username_signature,\n              {\n                to: scAddress,\n                value: this.price,\n              }\n            );\n          })\n          .then(() => {\n            return this.refresh();\n          })\n          .catch((err) => {\n            let alert = this.alertCtrl.create();\n            alert.setTitle(\"Transaction failed\");\n            alert.setSubTitle(err);\n            alert.addButton({\n              text: \"Ok\",\n            });\n            alert.present();\n          });\n      },\n    });\n    alert.present();\n  }\n\n  joinPromotion(e) {\n    // generate purchase txn\n    let alert = this.alertCtrl.create();\n    let buttonText = \"\";\n    alert.setTitle(\"Join promotion\");\n    alert.setSubTitle(\"Are you sure you want to join this promotion?\");\n    buttonText = \"Join\";\n    alert.addButton({\n      text: \"Cancel\",\n    });\n    alert.addButton({\n      text: buttonText,\n      handler: (data: any) => {\n        const rids = this.graphService.generateRids(\n          this.smartContract.identity,\n          this.smartContract.identity,\n          this.settingsService.collections.AFFILIATE\n        );\n        const rid = this.graphService.generateRid(\n          this.smartContract.identity.username_signature,\n          this.bulletinSecretService.username_signature\n        );\n        rids.rid = rid;\n        this.websocketService\n          .newtxn(\n            {\n              referrer: this.graphService.toIdentity(\n                this.bulletinSecretService.identity\n              ),\n              target: this.smartContract.target,\n              contract: this.graphService.toIdentity(\n                this.smartContract.identity\n              ),\n            },\n            rids,\n            this.settingsService.collections.AFFILIATE,\n            this.market.username_signature\n          )\n          .then(() => {\n            return this.refresh();\n          })\n          .catch((err) => {\n            let alert = this.alertCtrl.create();\n            alert.setTitle(\"Transaction failed\");\n            alert.setSubTitle(err);\n            alert.addButton({\n              text: \"Ok\",\n            });\n            alert.present();\n          });\n      },\n    });\n    alert.present();\n  }\n\n  toHex(byteArray) {\n    var callback = function (byte) {\n      return (\"0\" + (byte & 0xff).toString(16)).slice(-2);\n    };\n    return Array.from(byteArray, callback).join(\"\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/markets/marketitem.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\n@Injectable()\nexport class OpenGraphParserService {\n    html = null\n    attrs = null;\n    constructor(\n        private ahttp: Http\n    ) {\n        this.attrs = {\n            \"title\": \"title\",\n            \"document.title\": \"title\",\n        \t\"description\": \"description\",\n            \"twitter:title\": \"title\",\n            \"twitter:image\": \"image\",\n            \"twitter:description\": \"description\",\n            \"og:title\": \"title\",\n            \"og:image\": \"image\",\n            \"og:image:url\": \"image\",\n            \"og:description\": \"description\"\n        }\n    }\n\n    parseFromUrl(url) {\n        var output = {url: url};\n    \tthis.html = '';\n        return new Promise((resolve, reject) => {\n            if (this.isURL(url)) {\n                this.ahttp.get(url)\n                .subscribe((res) => {\n                    this.html = res['_body'];\n                    if (this.isYouTubeURL(url)) {\n                        var YTID = this.getYouTubeID(url);\n                        output['image'] = 'https://img.youtube.com/vi/' + YTID + '/0.jpg'\n                    }\n\n                    for (var key in this.attrs) {\n                        var attr = this.getAttr(key);\n\n                        if (attr) {\n                            var escape = document.createElement('textarea');\n                            escape.innerHTML = attr;\n                            output[this.attrs[key]] = escape.textContent;\n                        }\n                    }\n                    resolve(output);\n                });\n            } else {\n                resolve(false);\n            }\n        });\n    }\n\n    isURL(str) {\n      var pattern = new RegExp('^(https?:\\\\/\\\\/)'+ // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|'+ // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n      '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n      return pattern.test(str);\n    }\n\n    getYouTubeID(url) {\n        var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\n        var match = url.match(regExp);\n        return (match&&match[7].length==11)? match[7] : false;\n    }\n\n    isYouTubeURL(str) {\n    \treturn str.indexOf('youtube.com') > -1 || str.indexOf('youtu.be') > -1 || str.indexOf('youtube-nocookie.com') > -1 ? true : false;\n    }\n\n    getAttr(attr) {\n        var attrLocation = this.html.indexOf(attr);\n        var beginningToAttr = this.html.substr(0, attrLocation);\n        if (attr === 'title' || attr === 'description') {\n            var tagBodyWithRemainder = this.html.substr(attrLocation + attr.length + 1);\n            var closingTagStart = tagBodyWithRemainder.indexOf('</' + attr);\n            var content = tagBodyWithRemainder.substr(0, closingTagStart);\n            return content;\n        } else {\n            var reversed = beginningToAttr.split('').reverse().join('');\n        \tvar find = 'atem<';\n            var tagStart = reversed.indexOf(find);\n            var tagWithRemainder = this.html.substr(beginningToAttr.length - tagStart - 5);\n            var tagEnd = tagWithRemainder.indexOf('>');\n            var tag = tagWithRemainder.substr(0, tagEnd + 1);\n            var contentAttrStart = tag.indexOf('content');\n            if (contentAttrStart < 0) {\n                contentAttrStart = tag.indexOf('value');\n            }\n            var contentAttrSub = tag.substr(contentAttrStart);\n            var contentAttrStartQuote = contentAttrSub.indexOf('\"');\n            var contentWithRemainder = contentAttrSub.substr(contentAttrStartQuote + 1);\n            var contentEnd = contentWithRemainder.indexOf('\"');\n            content = contentWithRemainder.substr(0, contentEnd);\n            return content;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/opengraphparser.service.ts","import { Injectable } from \"@angular/core\";\nimport { Storage } from \"@ionic/storage\";\nimport { BulletinSecretService } from \"./bulletinSecret.service\";\nimport { TransactionService } from \"./transaction.service\";\nimport { SettingsService } from \"./settings.service\";\nimport { Badge } from \"@ionic-native/badge\";\nimport { Http, RequestOptions, Headers } from \"@angular/http\";\nimport { Events, Item, Platform } from \"ionic-angular\";\nimport { timeout } from \"rxjs/operators\";\nimport { WalletService } from \"./wallet.service\";\nimport { encrypt, decrypt, PrivateKey } from \"eciesjs\";\nimport { identity } from \"rxjs\";\n\ndeclare var forge;\ndeclare var X25519;\ndeclare var Base64;\ndeclare var foobar;\n\n@Injectable()\nexport class GraphService {\n  graph: any = {\n    messages: [],\n    friends: [],\n    groups: [],\n    files: [],\n    mail: [],\n    markets: [],\n    smart_contracts: [],\n    mypages: [],\n  };\n  // online = {};\n  // onlineNav = [];\n  notifications = {};\n  graphproviderAddress: any;\n  xhr: any;\n  key: any;\n  rid: any;\n  stored_secrets: any;\n  stored_secrets_by_rid: any;\n  accepted_friend_requests: any;\n  keys: any;\n  storingSecretsModal: any;\n  new_messages_count: any; //total new messages\n  new_messages_counts: any; //new messages by rid\n  new_group_messages_count: any; //total new group messages\n  new_group_messages_counts: any; //new group messages by rid\n  new_sign_ins_count: any; //total new sign ins\n  new_sign_ins_counts: any; //new sign ins by rid\n  friend_request_count: any; //total friend requests\n  friends_indexed: any;\n  sent_friend_requests_indexed: any;\n  getGraphError = false;\n  getSentFriendRequestsError = false;\n  getGroupsRequestsError = false;\n  getFriendRequestsError = false;\n  getFriendsError = false;\n  getMessagesError = false;\n  getMailError = false;\n  getNewMessagesError = false;\n  getSignInsError = false;\n  getNewSignInsError = false;\n  getPostsError = false;\n  getReactsError = false;\n  getCommentsError = false;\n  getcommentReactsError = false;\n  getcommentRepliesError = false;\n  getCalendarError = false;\n  getMyPagesError = false;\n  usernames = {};\n  username_signature = \"\";\n  groups_indexed: any;\n  counts: any;\n  constructor(\n    private storage: Storage,\n    private bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService,\n    private badge: Badge,\n    private platform: Platform,\n    private ahttp: Http,\n    private transactionService: TransactionService,\n    private walletService: WalletService,\n    private events: Events\n  ) {\n    this.stored_secrets = {};\n    this.stored_secrets_by_rid = {};\n    this.accepted_friend_requests = [];\n    this.keys = {};\n    this.new_messages_count = 0;\n    this.new_messages_counts = {};\n    this.new_group_messages_count = 0;\n    this.new_group_messages_counts = {};\n    this.new_sign_ins_count = this.new_sign_ins_count || 0;\n    this.new_sign_ins_counts = {};\n    this.friend_request_count = this.friend_request_count || 0;\n    this.friends_indexed = {};\n    this.groups_indexed = {};\n    this.counts = {};\n  }\n\n  resetGraph() {\n    this.graph = {\n      messages: {},\n      friends: [],\n      groups: [],\n      files: [],\n      mail: [],\n      markets: [],\n      smart_contracts: [],\n      mypages: [],\n    };\n    this.groups_indexed = {};\n    this.friends_indexed = {};\n    this.notifications = {};\n    for (\n      let i = 0;\n      i < Object.keys(this.settingsService.collections).length;\n      i++\n    ) {\n      let collectionKey = Object.keys(this.settingsService.collections)[i];\n      if (!this.notifications[this.settingsService.collections[collectionKey]])\n        this.notifications[this.settingsService.collections[collectionKey]] =\n          [];\n    }\n    if (!this.notifications[\"notifications\"])\n      this.notifications[\"notifications\"] = [];\n  }\n\n  refreshFriendsAndGroups() {\n    this.resetGraph();\n    return (\n      this.getGroups()\n        .then((results) => {\n          return this.getGroups(null, \"file\");\n        })\n        .then((results) => {\n          return this.getGroups(null, this.settingsService.collections.MARKET);\n        })\n        .then((results) => {\n          const promises = this.graph.markets.map((market) => {\n            return this.getGroups(\n              this.generateRid(\n                market.relationship[this.settingsService.collections.MARKET]\n                  .username_signature,\n                market.relationship[this.settingsService.collections.MARKET]\n                  .username_signature,\n                this.settingsService.collections.SMART_CONTRACT\n              ),\n              this.settingsService.collections.SMART_CONTRACT\n            );\n          });\n          return Promise.all(promises);\n        })\n        .then(() => {\n          return this.getFriendRequests();\n        })\n        // .then(() => {\n        //   const promises = this.graph.smart_contracts.map((smart_contract) => {\n        //     return this.getFriendRequests(\n        //       this.generateRid(\n        //         smart_contract.relationship[this.settingsService.collections.SMART_CONTRACT].identity.username_signature,\n        //         smart_contract.relationship[this.settingsService.collections.SMART_CONTRACT].identity.username_signature,\n        //         this.settingsService.collections.SMART_CONTRACT\n        //       )\n        //     )\n        //   });\n        //   return Promise.all(promises)\n        // })\n        .then(() => {\n          return this.getSharedSecrets();\n        })\n    );\n  }\n\n  getMessagesForAllFriendsAndGroups() {\n    const promises = [];\n    for (let i = 0; i < this.graph.friends.length; i++) {\n      promises.push(\n        this.getMessages(\n          [this.graph.friends[i].rid],\n          this.settingsService.collections.CHAT,\n          false\n        )\n      );\n    }\n    for (let i = 0; i < this.graph.groups.length; i++) {\n      let group = this.getIdentityFromTxn(this.graph.groups[i]);\n      let rid = this.generateRid(\n        group.username_signature,\n        group.username_signature,\n        this.settingsService.collections.GROUP_CHAT\n      );\n      promises.push(\n        this.getMessages(\n          [rid],\n          this.settingsService.collections.GROUP_CHAT,\n          false\n        )\n      );\n    }\n    return Promise.all(promises);\n  }\n\n  endpointRequest(\n    endpoint,\n    ids = null,\n    rids = null,\n    post_data = null,\n    updateLastCollectionTime = false\n  ) {\n    return new Promise((resolve, reject) => {\n      if (endpoint.substr(0, 1) !== \"/\") {\n        endpoint = \"/\" + endpoint;\n      }\n      let headers = new Headers();\n      headers.append(\n        \"Authorization\",\n        \"Bearer \" +\n          this.settingsService.tokens[this.bulletinSecretService.keyname]\n      );\n      let options = new RequestOptions({\n        headers: headers,\n        withCredentials: true,\n      });\n      var promise = null;\n      if (ids) {\n        promise = this.ahttp.post(\n          this.settingsService.remoteSettings[\"graphUrl\"] +\n            endpoint +\n            \"?origin=\" +\n            encodeURIComponent(window.location.origin) +\n            \"&username_signature=\" +\n            encodeURIComponent(this.bulletinSecretService.username_signature),\n          { ids: ids, update_last_collection_time: updateLastCollectionTime },\n          options\n        );\n      } else if (rids) {\n        promise = this.ahttp.post(\n          this.settingsService.remoteSettings[\"graphUrl\"] +\n            endpoint +\n            \"?origin=\" +\n            encodeURIComponent(window.location.origin) +\n            \"&username_signature=\" +\n            encodeURIComponent(this.bulletinSecretService.username_signature),\n          { rids: rids, update_last_collection_time: updateLastCollectionTime },\n          options\n        );\n      } else if (post_data) {\n        promise = this.ahttp.post(\n          this.settingsService.remoteSettings[\"graphUrl\"] +\n            endpoint +\n            \"?origin=\" +\n            encodeURIComponent(window.location.origin) +\n            \"&username_signature=\" +\n            encodeURIComponent(this.bulletinSecretService.username_signature),\n          post_data,\n          options\n        );\n      } else {\n        promise = this.ahttp.get(\n          this.settingsService.remoteSettings[\"graphUrl\"] +\n            endpoint +\n            \"?origin=\" +\n            encodeURIComponent(window.location.origin) +\n            \"&username_signature=\" +\n            encodeURIComponent(this.bulletinSecretService.username_signature),\n          options\n        );\n      }\n\n      promise.pipe(timeout(30000)).subscribe(\n        (data) => {\n          try {\n            var info = data.json();\n            this.graph.rid = info.rid;\n            this.graph.username_signature = info.username_signature;\n            this.graph.registered = info.registered;\n            this.graph.pending_registration = info.pending_registration;\n            return resolve(info);\n          } catch (err) {\n            console.log(err);\n          }\n        },\n        (err) => {\n          reject(err);\n        }\n      );\n    });\n  }\n\n  getInfo() {\n    return new Promise((resolve, reject) => {\n      if (!this.settingsService.remoteSettings[\"walletUrl\"])\n        return resolve(null);\n      this.endpointRequest(\"get-graph-info\")\n        .then((data: any) => {\n          this.getGraphError = false;\n          return resolve(data);\n        })\n        .catch((err) => {\n          this.getGraphError = true;\n          reject(null);\n        });\n    });\n  }\n\n  getBlockHeight(): any {\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-height\").then((data: any) => {\n        return resolve(data);\n      });\n    });\n  }\n\n  addNotification(item, collection) {\n    if (!this.notifications[collection]) this.notifications[collection] = [];\n    if (Array.isArray(item)) {\n      this.notifications[collection] =\n        this.notifications[collection].concat(item);\n    } else {\n      this.notifications[collection].push(item);\n    }\n    if (!this.notifications[\"notifications\"])\n      this.notifications[\"notifications\"] = [];\n    if (Array.isArray(item)) {\n      this.notifications[\"notifications\"] =\n        this.notifications[\"notifications\"].concat(item);\n    } else {\n      this.notifications[\"notifications\"].push(item);\n    }\n    this.events.publish(\"notification\");\n  }\n\n  getNotifications() {\n    return this.notifications;\n  }\n\n  getSentFriendRequests() {\n    return new Promise((resolve, reject) => {\n      const rids = [\n        this.generateRid(\n          this.bulletinSecretService.identity.username_signature,\n          this.bulletinSecretService.identity.username_signature\n        ),\n      ];\n\n      this.endpointRequest(\"get-graph-sent-friend-requests\", null, rids)\n        .then((data: any) => {\n          this.graph.sent_friend_requests = this.parseSentFriendRequests(\n            data.sent_friend_requests\n          );\n          this.getSentFriendRequestsError = false;\n          return resolve(null);\n        })\n        .catch((err) => {\n          this.getSentFriendRequestsError = true;\n          reject(null);\n        });\n    });\n  }\n\n  getFriendRequests(rid = null) {\n    return new Promise((resolve, reject) => {\n      const rids = [\n        rid ||\n          this.generateRid(\n            this.bulletinSecretService.identity.username_signature,\n            this.bulletinSecretService.identity.username_signature,\n            this.settingsService.collections.CONTACT\n          ),\n      ];\n\n      this.endpointRequest(\"get-graph-collection\", null, rids)\n        .then((data: any) => {\n          this.parseFriendRequests(data.collection);\n          this.getFriendRequestsError = false;\n          return resolve(null);\n        })\n        .catch((err) => {\n          this.getFriendRequestsError = true;\n          reject(err);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  getFriends(ignoreCache = false): Promise<null | void> {\n    if (this.graph.friends && this.graph.friends.length > 0 && !ignoreCache) {\n      return new Promise((resolve, reject) => {\n        return resolve(null);\n      });\n    }\n    return this.getSentFriendRequests()\n      .then(() => {\n        return this.getFriendRequests();\n      })\n      .then(() => {\n        return this.endpointRequest(\"get-graph-friends\");\n      })\n      .then((data: any) => {\n        return this.parseFriends(data.friends);\n      })\n      .then((friends: any) => {\n        //sort list alphabetically by username\n        this.sortAlpha(friends, \"username\");\n        this.graph.friends = friends;\n      });\n  }\n\n  getGroups(\n    rid = null,\n    collectionName = \"group\",\n    ignoreCache = false\n  ): Promise<null | void> {\n    const root = !rid;\n    rid =\n      rid ||\n      this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        collectionName\n      );\n    if (\n      this.graph[collectionName + \"s\"] &&\n      this.graph[collectionName + \"s\"].length > 0 &&\n      !ignoreCache\n    ) {\n      return new Promise((resolve, reject) => {\n        return resolve(null);\n      });\n    }\n    return this.endpointRequest(\"get-graph-collection\", null, rid)\n      .then((data: any) => {\n        return this.parseGroups(data.collection, root, collectionName);\n      })\n      .then((groups): any => {\n        this.getGroupsRequestsError = false;\n        return groups;\n      });\n  }\n\n  getMail(rid, collection = this.settingsService.collections.MAIL) {\n    //get messages for a specific friend\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-collection\", null, rid)\n        .then((data: any) => {\n          return this.parseMail(\n            data.collection,\n            \"new_mail_counts\",\n            \"new_mail_count\",\n            undefined,\n            collection,\n            \"last_mail_height\"\n          );\n        })\n        .then((mail: any) => {\n          this.graph.mail = this.graph.mail.concat(mail);\n          this.graph.mail = this.toDistinct(this.graph.mail, \"id\");\n          this.sortInt(this.graph.mail, \"time\");\n          this.getMailError = false;\n          return resolve(mail);\n        })\n        .catch((err) => {\n          this.getMailError = true;\n          reject(err);\n        });\n    });\n  }\n\n  getSentMail(rid) {\n    //get messages for a specific friend\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-collection\", null, [rid])\n        .then((data: any) => {\n          return this.parseMail(\n            data.collection,\n            \"new_sent_mail_counts\",\n            \"new_sent_mail_count\",\n            undefined,\n            this.settingsService.collections.MAIL,\n            \"last_sent_mail_height\"\n          );\n        })\n        .then((mail: any) => {\n          this.graph.mail = mail;\n          this.sortInt(this.graph.mail, \"time\");\n          this.getMailError = false;\n          return resolve(mail);\n        })\n        .catch((err) => {\n          this.getMailError = true;\n          reject(err);\n        });\n    });\n  }\n\n  getAssets(rids) {\n    const collection = this.settingsService.collections.ASSET;\n    return this.endpointRequest(\"get-graph-collection\", null, rids).then(\n      (data: any) => {\n        return this.parseAssets(data.collection);\n      }\n    );\n  }\n\n  getSmartContracts(\n    market,\n    rid = null,\n    collectionName = this.settingsService.collections.SMART_CONTRACT\n  ): Promise<null | void> {\n    const root = !rid;\n    rid =\n      rid ||\n      this.generateRid(\n        market.username_signature,\n        market.username_signature,\n        collectionName\n      );\n    return this.endpointRequest(\"get-graph-collection\", null, rid)\n      .then((data: any) => {\n        return this.parseSmartContracts(data.collection, market);\n      })\n      .then((groups): any => {\n        this.getGroupsRequestsError = false;\n        return groups;\n      });\n  }\n\n  getBids(requested_rid, market) {\n    return this.endpointRequest(\n      \"get-graph-collection\",\n      null,\n      requested_rid\n    ).then((data: any) => {\n      return this.parseBids(data.collection, market);\n    });\n  }\n\n  getAffiliates(requested_rid, market) {\n    return this.endpointRequest(\n      \"get-graph-collection\",\n      null,\n      requested_rid\n    ).then((data: any) => {\n      return this.parseAffiliates(data.collection, market);\n    });\n  }\n\n  prepareMailItems(label) {\n    return this.graph.mail\n      .filter((item) => {\n        if (\n          label === \"Sent\" &&\n          item.public_key === this.bulletinSecretService.identity.public_key\n        )\n          return true;\n        if (\n          label === \"Inbox\" &&\n          item.public_key !== this.bulletinSecretService.identity.public_key\n        )\n          return true;\n      })\n      .map((item) => {\n        return this.prepareMailItem(item, label);\n      });\n  }\n\n  prepareMailItem(item, label) {\n    const group = this.getIdentityFromTxn(\n      this.groups_indexed[item.requested_rid],\n      this.settingsService.collections.GROUP\n    );\n    const friend = this.getIdentityFromTxn(\n      this.friends_indexed[item.rid],\n      this.settingsService.collections.CONTACT\n    );\n    const identity = group || friend;\n    const collection = group\n      ? this.settingsService.collections.GROUP_MAIL\n      : this.settingsService.collections.MAIL;\n    let sender;\n    if (item.relationship[collection].sender) {\n      sender = item.relationship[collection].sender;\n    } else if (\n      item.public_key === this.bulletinSecretService.identity.public_key &&\n      label === \"Inbox\"\n    ) {\n      sender = this.bulletinSecretService.identity;\n    } else {\n      sender = {\n        username: identity.username,\n        username_signature: identity.username_signature,\n        public_key: identity.public_key,\n      };\n    }\n    const datetime = new Date(parseInt(item.time) * 1000);\n    return {\n      sender: sender,\n      group: group || null,\n      subject: item.relationship[collection].subject,\n      body: item.relationship[collection].body,\n      datetime:\n        datetime.toLocaleDateString() + \" \" + datetime.toLocaleTimeString(),\n      id: item.id,\n      thread: item.relationship.thread,\n      message_type: item.relationship[collection].message_type,\n      event_datetime: item.relationship[collection].event_datetime,\n      skylink: item.relationship[collection].skylink,\n      filename: item.relationship[collection].filename,\n      rid: item.rid,\n    };\n  }\n\n  getMessages(\n    rid,\n    collection = this.settingsService.collections.CHAT,\n    updateLastCollectionTime = false\n  ) {\n    if (typeof rid === \"string\") rid = [rid];\n    //get messages for a specific friend\n\n    return this.endpointRequest(\n      \"get-graph-collection\",\n      null,\n      rid,\n      null,\n      updateLastCollectionTime\n    )\n      .then((data: any) => {\n        return this.parseMessages(\n          data.collection,\n          data.new_count,\n          \"new_messages_count\",\n          rid,\n          collection,\n          \"last_message_height\"\n        );\n      })\n      .then((chats: any) => {\n        return new Promise((resolve, reject) => {\n          this.graph.messages[rid] = chats;\n          this.getMessagesError = false;\n          return resolve(chats);\n        });\n      });\n  }\n\n  getNewMessages() {\n    //get the latest message for each friend\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-new-messages\")\n        .then((data: any) => {\n          return this.parseNewMessages(\n            data.new_messages,\n            \"new_messages_counts\",\n            \"new_messages_count\",\n            \"last_message_height\"\n          );\n        })\n        .then((newChats: any) => {\n          this.graph.newMessages = newChats;\n          this.getNewMessagesError = false;\n          return resolve(newChats);\n        })\n        .catch((err) => {\n          this.getNewMessagesError = true;\n          reject(err);\n        });\n    });\n  }\n\n  getSentMessages() {\n    //get sent messages\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-sent-messages\", null, [])\n        .then((data: any) => {\n          return this.parseMessages(\n            data.messages,\n            \"sent_messages_counts\",\n            \"sent_messages_count\",\n            null,\n            this.settingsService.collections.CHAT,\n            \"last_message_height\"\n          );\n        })\n        .then((chats: any) => {\n          // if (!this.graph.messages) {\n          //     this.graph.messages = {};\n          // }\n          // if (chats[rid]){\n          //     this.graph.messages[rid] = chats[rid];\n          //     this.graph.messages[rid].sort(function (a, b) {\n          //         if (parseInt(a.time) > parseInt(b.time))\n          //         return 1\n          //         if ( parseInt(a.time) < parseInt(b.time))\n          //         return -1\n          //         return 0\n          //     });\n          // }\n          // this.getMessagesError = false;\n          // return resolve(chats[rid]);\n        })\n        .catch((err) => {\n          this.getMessagesError = true;\n          reject(err);\n        });\n    });\n  }\n\n  getGroupMessages(key, requested_rid, rid) {\n    //get messages for a specific friend\n    var choice_rid = requested_rid || rid;\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-collection\", null, [choice_rid])\n        .then((data: any) => {\n          return this.parseGroupMessages(\n            key,\n            data.messages,\n            \"new_group_messages_counts\",\n            \"new_group_messages_count\",\n            rid,\n            [\n              this.settingsService.collections.GROUP_CHAT,\n              this.settingsService.collections.GROUP_CHAT_FILE_NAME,\n            ],\n            \"last_group_message_height\"\n          );\n        })\n        .then((chats: any) => {\n          if (!this.graph.messages) {\n            this.graph.messages = {};\n          }\n          if (choice_rid && chats[choice_rid]) {\n            this.graph.messages[choice_rid] = chats[choice_rid];\n            this.sortInt(this.graph.messages[choice_rid], \"time\", true);\n          }\n          this.getMessagesError = false;\n          return resolve(chats[choice_rid]);\n        })\n        .catch((err) => {\n          this.getMessagesError = true;\n          reject(err);\n        });\n    });\n  }\n\n  getNewGroupMessages() {\n    //get the latest message for each friend\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-new-messages\")\n        .then((data: any) => {\n          return this.parseNewMessages(\n            data.new_messages,\n            \"new_group_messages_counts\",\n            \"new_group_messages_count\",\n            \"last_group_message_height\"\n          );\n        })\n        .then((newChats: any) => {\n          this.graph.newGroupMessages = newChats;\n          this.getNewMessagesError = false;\n          return resolve(newChats);\n        })\n        .catch((err) => {\n          this.getNewMessagesError = true;\n          reject(err);\n        });\n    });\n  }\n\n  getSignIns(rids) {\n    return this.endpointRequest(\"get-graph-collection\", undefined, rids).then(\n      (data: any) => {\n        this.graph.signins = this.parseMessages(\n          data.collection,\n          \"new_sign_ins_counts\",\n          \"new_sign_ins_count\",\n          rids,\n          this.settingsService.collections.WEB_CHALLENGE_RESPONSE,\n          \"last_sign_in_height\"\n        );\n        this.getSignInsError = false;\n      }\n    );\n  }\n\n  getNewSignIns() {\n    //get the latest sign ins for a specific friend\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-new-messages\")\n        .then((data: any) => {\n          return this.parseNewMessages(\n            data.new_messages,\n            \"new_sign_ins_counts\",\n            \"new_sign_ins_count\",\n            \"last_sign_in_height\"\n          );\n        })\n        .then((newSignIns: any) => {\n          this.graph.newSignIns = newSignIns;\n          this.getNewSignInsError = false;\n          return resolve(newSignIns);\n        })\n        .catch((err) => {\n          this.getNewSignInsError = true;\n          reject(err);\n        });\n    });\n  }\n\n  getReacts(ids, rid = null) {\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-reacts\", ids)\n        .then((data: any) => {\n          this.graph.reacts = this.parseMessages(\n            data.reacts,\n            \"new_reacts_counts\",\n            \"new_reacts_count\",\n            rid,\n            this.settingsService.collections.CHAT,\n            \"last_react_height\"\n          );\n          this.getReactsError = false;\n          return resolve(data.reacts);\n        })\n        .catch(() => {\n          this.getReactsError = true;\n          reject(null);\n        });\n    });\n  }\n\n  getComments(ids, rid = null) {\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-comments\", ids)\n        .then((data: any) => {\n          this.graph.comments = this.parseMessages(\n            data.reacts,\n            \"new_comments_counts\",\n            \"new_comments_count\",\n            rid,\n            this.settingsService.collections.CHAT,\n            \"last_comment_height\"\n          );\n          this.getCommentsError = false;\n          return resolve(data.comments);\n        })\n        .catch(() => {\n          this.getCommentsError = true;\n          reject(null);\n        });\n    });\n  }\n\n  getCommentReacts(ids, rid = null) {\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-reacts\", ids)\n        .then((data: any) => {\n          this.graph.commentReacts = this.parseMessages(\n            data.reacts,\n            \"new_comment_reacts_counts\",\n            \"new_comment_reacts_count\",\n            rid,\n            this.settingsService.collections.CHAT,\n            \"last_comment_react_height\"\n          );\n          this.getcommentReactsError = false;\n          return resolve(data.comment_reacts);\n        })\n        .catch(() => {\n          this.getcommentReactsError = true;\n          reject(null);\n        });\n    });\n  }\n\n  getCommentReplies(ids, rid = null) {\n    return new Promise((resolve, reject) => {\n      this.endpointRequest(\"get-graph-comments\", ids)\n        .then((data: any) => {\n          this.graph.commentReplies = this.parseMessages(\n            data.reacts,\n            \"new_comment_comments_counts\",\n            \"new_comment_comments_count\",\n            rid,\n            this.settingsService.collections.CHAT,\n            \"last_comment_comment_height\"\n          );\n          this.getcommentRepliesError = false;\n          return resolve(data.comments);\n        })\n        .catch(() => {\n          this.getcommentRepliesError = true;\n          reject(null);\n        });\n    });\n  }\n\n  getCalendar(rids) {\n    return this.endpointRequest(\"get-graph-collection\", undefined, rids).then(\n      (data: any) => {\n        this.graph.calendar = this.parseCalendar(data.collection);\n        this.getCalendarError = false;\n      }\n    );\n  }\n\n  getMyPages(rids) {\n    return this.endpointRequest(\"get-graph-collection\", undefined, rids).then(\n      (data: any) => {\n        this.graph.mypages = this.parseMyPages(data.collection);\n        this.getMyPagesError = false;\n      }\n    );\n  }\n\n  parseSentFriendRequests(sent_friend_requests) {\n    var sent_friend_requestsObj = {};\n    let sent_friend_request: any;\n    if (!this.graph.friends) this.graph.friends = [];\n    for (var i = 0; i < sent_friend_requests.length; i++) {\n      sent_friend_request = sent_friend_requests[i];\n      if (!this.keys[sent_friend_request.rid]) {\n        this.keys[sent_friend_request.rid] = {\n          dh_private_keys: [],\n          dh_public_keys: [],\n        };\n      }\n      try {\n        var decrypted = this.publicDecrypt(sent_friend_request[\"relationship\"]);\n        var relationship = JSON.parse(decrypted);\n        sent_friend_requestsObj[sent_friend_request.rid] = sent_friend_request;\n        //not sure how this affects the friends list yet, since we can't return friends from here\n        //friends[sent_friend_request.rid] = sent_friend_request;\n        sent_friend_request[\"relationship\"] = relationship;\n        this.friends_indexed[sent_friend_request.rid] = sent_friend_request;\n        if (\n          this.keys[sent_friend_request.rid].dh_private_keys.indexOf(\n            relationship.dh_private_key\n          ) === -1 &&\n          relationship.dh_private_key\n        ) {\n          this.keys[sent_friend_request.rid].dh_private_keys.push(\n            relationship.dh_private_key\n          );\n        }\n      } catch (err) {\n        delete sent_friend_requestsObj[sent_friend_request.rid];\n        if (\n          this.keys[sent_friend_request.rid].dh_public_keys.indexOf(\n            sent_friend_request.dh_public_key\n          ) === -1 &&\n          sent_friend_request.dh_public_key\n        ) {\n          this.keys[sent_friend_request.rid].dh_public_keys.push(\n            sent_friend_request.dh_public_key\n          );\n        }\n      }\n    }\n    for (var j = 0; j < sent_friend_requests.length; j++) {\n      sent_friend_request = sent_friend_requests[j];\n      if (typeof sent_friend_request[\"relationship\"] != \"object\") {\n        //TODO: VERIFY THE BULLETIN SECRET!\n        if (sent_friend_requestsObj[sent_friend_request.rid]) {\n          this.graph.friends.push(\n            sent_friend_requestsObj[sent_friend_request.rid]\n          );\n          delete sent_friend_requestsObj[sent_friend_request.rid];\n        }\n      }\n    }\n\n    var arr_sent_friend_requests = [];\n    for (let i in sent_friend_requestsObj) {\n      arr_sent_friend_requests.push(sent_friend_requestsObj[i].rid);\n    }\n\n    let sent_friend_requests_diff = new Set(arr_sent_friend_requests);\n\n    sent_friend_requests = [];\n    let arr_sent_friend_request_keys = Array.from(\n      sent_friend_requests_diff.keys()\n    );\n    for (i = 0; i < arr_sent_friend_request_keys.length; i++) {\n      sent_friend_requests.push(\n        sent_friend_requestsObj[arr_sent_friend_request_keys[i]]\n      );\n    }\n\n    return sent_friend_requests;\n  }\n\n  parseFriendRequests(friend_requests) {\n    let friend_requestsObj = {};\n    var sent_friend_requestsObj = {};\n    if (!this.graph.friends) this.graph.friends = [];\n    for (var i = 0; i < friend_requests.length; i++) {\n      var friend_request = friend_requests[i];\n      if (!this.keys[friend_request.rid]) {\n        this.keys[friend_request.rid] = {\n          dh_private_keys: [],\n          dh_public_keys: [],\n        };\n      }\n      try {\n        var decrypted = this.publicDecrypt(friend_request.relationship);\n        var relationship = JSON.parse(decrypted);\n        if (!relationship[this.settingsService.collections.CONTACT]) continue;\n        friend_request.relationship = relationship;\n        if (sent_friend_requestsObj[friend_request.rid]) {\n          delete friend_requestsObj[friend_request.rid];\n          delete sent_friend_requestsObj[friend_request.rid];\n          this.graph.friends.push(friend_request);\n          this.friends_indexed[friend_request.rid] = friend_request;\n        } else {\n          friend_requestsObj[friend_request.rid] = friend_request;\n        }\n        if (\n          this.keys[friend_request.rid].dh_private_keys.indexOf(\n            relationship.dh_private_key\n          ) === -1 &&\n          relationship.dh_private_key\n        ) {\n          this.keys[friend_request.rid].dh_private_keys.push(\n            relationship.dh_private_key\n          );\n        }\n      } catch (err) {\n        if (friend_requestsObj[friend_request.rid]) {\n          this.graph.friends.push(friend_requestsObj[friend_request.rid]);\n          this.friends_indexed[friend_request.rid] =\n            friend_requestsObj[friend_request.rid];\n          delete friend_requestsObj[friend_request.rid];\n          delete sent_friend_requestsObj[friend_request.rid];\n        } else {\n          sent_friend_requestsObj[friend_request.rid] = friend_request;\n        }\n        if (\n          this.keys[friend_request.rid].dh_public_keys.indexOf(\n            friend_request.dh_public_key\n          ) === -1 &&\n          friend_request.dh_public_key\n        ) {\n          this.keys[friend_request.rid].dh_public_keys.push(\n            friend_request.dh_public_key\n          );\n        }\n      }\n    }\n\n    var arr_sent_friend_requests = [];\n    for (let i in sent_friend_requestsObj) {\n      arr_sent_friend_requests.push(sent_friend_requestsObj[i].rid);\n    }\n\n    this.sent_friend_requests_indexed = {};\n    const sent_friend_requests = [];\n    let sent_friend_requests_diff = new Set(arr_sent_friend_requests);\n    if (arr_sent_friend_requests.length > 0) {\n      let arr_sent_friend_request_keys = Array.from(\n        sent_friend_requests_diff.keys()\n      );\n      for (i = 0; i < arr_sent_friend_request_keys.length; i++) {\n        sent_friend_requests.push(\n          sent_friend_requestsObj[arr_sent_friend_request_keys[i]]\n        );\n        this.sent_friend_requests_indexed[arr_sent_friend_request_keys[i]] =\n          sent_friend_requestsObj[arr_sent_friend_request_keys[i]];\n      }\n    }\n\n    var arr_friend_requests = [];\n    for (let i in friend_requestsObj) {\n      arr_friend_requests.push(friend_requestsObj[i].rid);\n    }\n\n    friend_requests = [];\n    let friend_requests_diff = new Set(arr_friend_requests);\n    if (arr_friend_requests.length > 0) {\n      let arr_friend_request_keys = Array.from(friend_requests_diff.keys());\n      for (i = 0; i < arr_friend_request_keys.length; i++) {\n        friend_requests.push(friend_requestsObj[arr_friend_request_keys[i]]);\n      }\n    }\n\n    this.friend_request_count = friend_requests.length;\n    if (this.platform.is(\"android\") || this.platform.is(\"ios\")) {\n      this.badge.set(friend_requests.length);\n    }\n\n    this.graph.friend_requests = friend_requests;\n    this.graph.sent_friend_requests = sent_friend_requests;\n    return friend_requests;\n  }\n\n  parseFriends(friends) {\n    // we must call getSentFriendRequests and getFriendRequests before getting here\n    // because we need this.keys to be populated with the dh_public_keys and dh_private_keys from the requests\n    // though friends really should be cached\n    // should be key: shared-secret_rid|pub_key[:26]priv_key[:26], value: {shared_secret: <shared_secret>, friend: [transaction.dh_public_key, transaction.dh_private_key]}\n    return new Promise((resolve, reject) => {\n      //start \"just do dedup yada server because yada server adds itself to the friends array automatically straight from the api\"\n      var friendsObj = {};\n      if (!this.graph.friends) this.graph.friends = [];\n      friends = friends.concat(this.graph.friends);\n      for (var i = 0; i < friends.length; i++) {\n        var friend = friends[i];\n        if (!this.keys[friend.rid]) {\n          this.keys[friend.rid] = {\n            dh_private_keys: [],\n            dh_public_keys: [],\n          };\n        }\n        var decrypted;\n        var bypassDecrypt = false;\n        if (typeof friend.relationship == \"object\") {\n          bypassDecrypt = true;\n        } else {\n          decrypted = this.decrypt(friend.relationship);\n        }\n        try {\n          var relationship;\n          if (!bypassDecrypt) {\n            relationship = JSON.parse(decrypted);\n            friend[\"relationship\"] = relationship;\n          }\n          friendsObj[friend.rid] = { friend: friend };\n          if (\n            this.keys[friend.rid].dh_private_keys.indexOf(\n              relationship.dh_private_key\n            ) === -1 &&\n            relationship.dh_private_key\n          ) {\n            this.keys[friend.rid].dh_private_keys.push(\n              relationship.dh_private_key\n            );\n          }\n        } catch (err) {\n          if (\n            this.keys[friend.rid].dh_public_keys.indexOf(\n              friend.dh_public_key\n            ) === -1 &&\n            friend.dh_public_key\n          ) {\n            this.keys[friend.rid].dh_public_keys.push(friend.dh_public_key);\n          }\n        }\n      }\n\n      var secrets_rids = [];\n      var stored_secrets_keys = Object.keys(this.stored_secrets);\n      for (i = 0; i < stored_secrets_keys.length; i++) {\n        var rid = stored_secrets_keys[i].slice(\n          \"shared_secret-\".length,\n          stored_secrets_keys[i].indexOf(\"|\")\n        );\n        secrets_rids.push(rid);\n      }\n\n      for (i = 0; i < this.graph.sent_friend_requests.length; i++) {\n        var sent_friend_request = this.graph.sent_friend_requests[i];\n        delete friendsObj[sent_friend_request.rid];\n        if (secrets_rids.indexOf(sent_friend_request.rid) >= 0) {\n          if (!friendsObj[sent_friend_request.rid])\n            friendsObj[sent_friend_request.rid] = {};\n          friendsObj[sent_friend_request.rid].sent_friend_request =\n            sent_friend_request;\n        }\n      }\n\n      for (i = 0; i < this.graph.friend_requests.length; i++) {\n        var friend_request = this.graph.friend_requests[i];\n        delete friendsObj[friend_request.rid];\n        if (secrets_rids.indexOf(friend_request.rid) >= 0) {\n          if (!friendsObj[friend_request.rid])\n            friendsObj[friend_request.rid] = {};\n          friendsObj[friend_request.rid] = friend_request;\n        }\n      }\n\n      var arr_friends = Object.keys(friendsObj);\n\n      friends = [];\n      let friends_diff = new Set(arr_friends);\n      if (arr_friends.length > 0) {\n        let arr_friends_keys = Array.from(friends_diff.keys());\n        for (i = 0; i < arr_friends_keys.length; i++) {\n          friends.push(\n            friendsObj[arr_friends_keys[i]].friend_request ||\n              friendsObj[arr_friends_keys[i]].friend\n          );\n        }\n      }\n\n      return resolve(friends);\n    });\n  }\n\n  parseGroups(groups, root = true, collection = \"group\") {\n    // we must call getSentFriendRequests and getFriendRequests before getting here\n    // because we need this.keys to be populated with the dh_public_keys and dh_private_keys from the requests\n    // though friends really should be cached\n    // should be key: shared-secret_rid|pub_key[:26]priv_key[:26], value: {shared_secret: <shared_secret>, friend: [transaction.dh_public_key, transaction.dh_private_key]}\n    return new Promise((resolve, reject) => {\n      //start \"just do dedup yada server because yada server adds itself to the friends array automatically straight from the api\"\n      let promises = [];\n      for (var i = 0; i < groups.length; i++) {\n        var group = groups[i];\n        if (!this.keys[group.rid]) {\n          this.keys[group.rid] = {\n            dh_private_keys: [],\n            dh_public_keys: [],\n          };\n        }\n        var decrypted;\n        var bypassDecrypt = false;\n        let failed = false;\n        try {\n          if (typeof group.relationship == \"object\") {\n            bypassDecrypt = true;\n          } else {\n            decrypted = this.decrypt(group.relationship);\n          }\n          var relationship;\n          if (bypassDecrypt) {\n            relationship = group.relationship[collection];\n          } else {\n            relationship = JSON.parse(decrypted);\n            if (!relationship[collection]) continue;\n            if (relationship[collection].collection !== collection) continue;\n            group[\"relationship\"] = relationship;\n          }\n        } catch (err) {\n          console.log(err);\n          failed = true;\n        }\n        if (failed && this.groups_indexed[group.requester_rid]) {\n          try {\n            let parentGroup = this.getIdentityFromTxn(\n              this.groups_indexed[group.requester_rid],\n              collection\n            );\n            if (parentGroup.public_key !== group.public_key) continue;\n            if (typeof group.relationship == \"object\") {\n              bypassDecrypt = true;\n            } else {\n              decrypted = this.shared_decrypt(\n                parentGroup.username_signature,\n                group.relationship\n              );\n            }\n            var relationship;\n            if (bypassDecrypt) {\n              relationship = group.relationship[collection];\n            } else {\n              relationship = JSON.parse(decrypted);\n              if (!relationship[collection]) continue;\n              if (!relationship[collection].parent) continue;\n              if (relationship[collection].collection !== collection) continue;\n              group[\"relationship\"] = relationship;\n            }\n          } catch (err) {\n            console.log(err);\n            continue;\n          }\n        } else if (failed && !this.groups_indexed[group.requester_rid]) {\n          continue;\n        }\n\n        if (!this.groups_indexed[group.requested_rid]) {\n          this.graph[collection + \"s\"].push(group);\n        }\n\n        this.groups_indexed[group.requested_rid] = group;\n        let group_username_signature;\n        if (\n          group.relationship[this.settingsService.collections.SMART_CONTRACT]\n        ) {\n          group_username_signature =\n            group.relationship[collection].identity.username_signature;\n        } else {\n          group_username_signature =\n            group.relationship[collection].username_signature;\n        }\n\n        if (collection === this.settingsService.collections.GROUP) {\n          this.groups_indexed[\n            this.generateRid(\n              group_username_signature,\n              group_username_signature,\n              this.settingsService.collections.GROUP_CHAT\n            )\n          ] = group;\n\n          this.groups_indexed[\n            this.generateRid(\n              group_username_signature,\n              group_username_signature,\n              this.settingsService.collections.GROUP_MAIL\n            )\n          ] = group;\n\n          this.groups_indexed[\n            this.generateRid(\n              group_username_signature,\n              group_username_signature,\n              this.settingsService.collections.CALENDAR\n            )\n          ] = group;\n\n          this.groups_indexed[\n            this.generateRid(\n              group_username_signature,\n              group_username_signature,\n              this.settingsService.collections.GROUP_CALENDAR\n            )\n          ] = group;\n        }\n\n        this.groups_indexed[\n          this.generateRid(\n            group_username_signature,\n            group_username_signature,\n            group_username_signature\n          )\n        ] = group;\n\n        try {\n          if (\n            !relationship.parent &&\n            !relationship[this.settingsService.collections.SMART_CONTRACT]\n          ) {\n            promises.push(\n              this.getGroups(\n                this.generateRid(\n                  group_username_signature,\n                  group_username_signature,\n                  group_username_signature\n                ),\n                collection,\n                true\n              )\n            );\n          }\n        } catch (err) {\n          console.log(err);\n        }\n      }\n\n      var arr_friends = Object.keys(this.groups_indexed);\n      groups = [];\n      let friends_diff = new Set(arr_friends);\n      if (arr_friends.length > 0) {\n        let used_username_signatures = [];\n        let arr_friends_keys = Array.from(friends_diff.keys());\n        for (i = 0; i < arr_friends_keys.length; i++) {\n          if (\n            !this.groups_indexed[arr_friends_keys[i]].relationship[\n              this.settingsService.collections.GROUP\n            ] ||\n            used_username_signatures.indexOf(\n              this.groups_indexed[arr_friends_keys[i]].relationship[\n                this.settingsService.collections.GROUP\n              ].username_signature\n            ) > -1\n          ) {\n            continue;\n          } else {\n            groups.push(this.groups_indexed[arr_friends_keys[i]]);\n            used_username_signatures.push(\n              this.groups_indexed[arr_friends_keys[i]].relationship[\n                this.settingsService.collections.GROUP\n              ].username_signature\n            );\n          }\n        }\n      }\n\n      return Promise.all(promises).then((results) => {\n        return resolve(groups);\n      });\n    });\n  }\n\n  parseMail(\n    messages,\n    graphCounts,\n    graphCount,\n    rid = null,\n    messageType = null,\n    messageHeightType = null\n  ) {\n    this[graphCount] = 0;\n    return new Promise((resolve, reject) => {\n      var chats = [];\n      dance: for (var i = 0; i < messages.length; i++) {\n        var message = messages[i];\n        if (!rid && chats[message.rid]) continue;\n        if (!message.rid) continue;\n        if (message.dh_public_key) continue;\n        //hopefully we've prepared the stored_secrets option before getting here\n        //by calling getSentFriendRequests and getFriendRequests\n        if (this.groups_indexed[message.requested_rid]) {\n          try {\n            let identity = this.getIdentityFromTxn(\n              this.groups_indexed[message.requested_rid],\n              this.settingsService.collections.GROUP\n            );\n            var decrypted = this.shared_decrypt(\n              identity.username_signature,\n              message.relationship\n            );\n          } catch (error) {\n            continue;\n          }\n          try {\n            var messageJson = JSON.parse(decrypted);\n          } catch (err) {\n            continue;\n          }\n          if (messageJson[messageType]) {\n            message.relationship = messageJson;\n            messages[message.requested_rid] = message;\n            try {\n              message.relationship[messageType] = JSON.parse(\n                Base64.decode(messageJson[messageType])\n              );\n              message.relationship.isInvite = true;\n            } catch (err) {\n              //not an invite, do nothing\n            }\n            chats.push(message);\n          }\n          continue dance;\n        } else {\n          if (!this.stored_secrets[message.rid]) continue;\n          for (var j = 0; j < this.stored_secrets[message.rid].length; j++) {\n            var shared_secret = this.stored_secrets[message.rid][j];\n            try {\n              var decrypted = this.shared_decrypt(\n                shared_secret.shared_secret,\n                message.relationship\n              );\n            } catch (error) {\n              continue;\n            }\n            try {\n              var messageJson = JSON.parse(decrypted);\n            } catch (err) {\n              continue;\n            }\n            if (messageJson[messageType]) {\n              message.relationship = messageJson;\n              message.shared_secret = shared_secret.shared_secret;\n              message.dh_public_key = shared_secret.dh_public_key;\n              message.dh_private_key = shared_secret.dh_private_key;\n              messages[message.rid] = message;\n              try {\n                message.relationship[messageType] = JSON.parse(\n                  Base64.decode(messageJson[messageType])\n                );\n                message.relationship.isInvite = true;\n              } catch (err) {\n                //not an invite, do nothing\n              }\n              chats.push(message);\n            }\n            continue dance;\n          }\n        }\n      }\n      return resolve(chats);\n    });\n  }\n\n  parseMessages(\n    messages,\n    newCount,\n    graphCount,\n    rid = null,\n    messageType = null,\n    messageHeightType = null\n  ) {\n    this[graphCount] = 0;\n    return new Promise((resolve, reject) => {\n      var chats = [];\n      dance: for (var i = 0; i < messages.length; i++) {\n        var message = messages[i];\n        if (\n          rid &&\n          message.rid !== rid &&\n          rid.indexOf(message.rid) === -1 &&\n          rid.indexOf(message.requested_rid) === -1\n        )\n          continue;\n        if (!message.rid && !message.requested_rid) continue;\n        if (message.dh_public_key) continue;\n        if (this.groups_indexed[message.requested_rid]) {\n          let group = this.getIdentityFromTxn(\n            this.groups_indexed[message.requested_rid],\n            this.settingsService.collections.GROUP\n          );\n          if (i === 0) this.counts[group.username_signature] = newCount;\n          try {\n            this.counts[group.username_signature] =\n              typeof this.counts[group.username_signature] === \"number\" &&\n              this.counts[group.username_signature] > 0\n                ? this.counts[group.username_signature]\n                : newCount;\n            var decrypted = this.shared_decrypt(\n              group.username_signature,\n              message.relationship\n            );\n          } catch (error) {\n            this.counts[group.username_signature]--;\n            continue;\n          }\n          try {\n            var messageJson = JSON.parse(decrypted);\n          } catch (err) {\n            this.counts[group.username_signature]--;\n            continue;\n          }\n          if (messageJson[messageType]) {\n            message.relationship = messageJson;\n            messages[message.requested_rid] = message;\n            try {\n              message.relationship[messageType] = JSON.parse(\n                Base64.decode(messageJson[messageType])\n              );\n              message.relationship.isInvite = true;\n              if (typeof message.relationship[messageType] !== \"string\")\n                continue dance;\n            } catch (err) {\n              //not an invite, do nothing\n            }\n            chats.push(message);\n          }\n          continue dance;\n        } else {\n          const friend = this.getIdentityFromMessageTransaction(message);\n          if (i === 0) this.counts[friend.username_signature] = newCount;\n          if (!this.stored_secrets[message.rid]) continue;\n          var shared_secret = this.stored_secrets[message.rid][j];\n          //hopefully we've prepared the stored_secrets option before getting here\n          //by calling getSentFriendRequests and getFriendRequests\n          for (var j = 0; j < this.stored_secrets[message.rid].length; j++) {\n            var shared_secret = this.stored_secrets[message.rid][j];\n            try {\n              this.counts[friend.username_signature] =\n                typeof this.counts[friend.username_signature] === \"number\" &&\n                this.counts[friend.username_signature] > 0\n                  ? this.counts[friend.username_signature]\n                  : newCount;\n              var decrypted = this.shared_decrypt(\n                shared_secret.shared_secret,\n                message.relationship\n              );\n            } catch (error) {\n              friend && this.counts[friend.username_signature]--;\n              continue;\n            }\n            try {\n              var messageJson = JSON.parse(decrypted);\n            } catch (err) {\n              friend && this.counts[friend.username_signature]--;\n              continue;\n            }\n            if (messageJson[messageType]) {\n              message.relationship = messageJson;\n              message.shared_secret = shared_secret.shared_secret;\n              message.dh_public_key = shared_secret.dh_public_key;\n              message.dh_private_key = shared_secret.dh_private_key;\n              messages[message.rid] = message;\n              try {\n                message.relationship[messageType] = JSON.parse(\n                  Base64.decode(messageJson[messageType])\n                );\n                message.relationship.isInvite = true;\n              } catch (err) {\n                //not an invite, do nothing\n              }\n              chats.push(message);\n            }\n            continue dance;\n          }\n        }\n      }\n      return resolve(chats);\n    });\n  }\n\n  parseNewMessages(messages, graphCounts, graphCount, heightType) {\n    this[graphCount] = 0;\n    this[graphCounts] = {};\n    var public_key = this.bulletinSecretService.key\n      .getPublicKeyBuffer()\n      .toString(\"hex\");\n    return new Promise((resolve, reject) => {\n      var new_messages = [];\n      for (var i = 0; i < messages.length; i++) {\n        var message = messages[i];\n        if (message.public_key != public_key) {\n          new_messages.push(message);\n        }\n      }\n      return resolve(new_messages);\n    });\n  }\n\n  parseGroupMessages(\n    key,\n    messages,\n    graphCounts,\n    graphCount,\n    rid = null,\n    messageType = null,\n    messageHeightType = null\n  ) {\n    this[graphCount] = 0;\n    return new Promise((resolve, reject) => {\n      var chats = {};\n      for (var i = 0; i < messages.length; i++) {\n        var message = messages[i];\n        //hopefully we've prepared the stored_secrets option before getting here\n        //by calling getSentFriendRequests and getFriendRequests\n        try {\n          var decrypted = this.shared_decrypt(key, message.relationship);\n          console.log(decrypted);\n        } catch (error) {\n          continue;\n        }\n        try {\n          var messageJson = JSON.parse(decrypted);\n        } catch (err) {\n          continue;\n        }\n\n        var group_message_rid = message.requested_rid || message.rid;\n        if (messageJson[messageType[0]] || messageJson[messageType[1]]) {\n          message.relationship = messageJson;\n          messages[group_message_rid] = message;\n          if (!chats[group_message_rid]) {\n            chats[group_message_rid] = [];\n          }\n          chats[group_message_rid].push(message);\n        }\n      }\n      return resolve(chats);\n    });\n  }\n\n  parseCalendar(events) {\n    let eventsOut = [];\n    for (var i = 0; i < events.length; i++) {\n      //hopefully we've prepared the stored_secrets option before getting here\n      //by calling getSentFriendRequests and getFriendRequests\n      const event = events[i];\n      let decrypted;\n      try {\n        const group = this.getIdentityFromTxn(\n          this.groups_indexed[event.requested_rid],\n          this.settingsService.collections.GROUP\n        );\n        if (group) {\n          decrypted = this.shared_decrypt(\n            group.username_signature,\n            event.relationship\n          );\n        } else if (this.friends_indexed[event.rid]) {\n          if (!this.stored_secrets[event.rid]) continue;\n          var shared_secret = this.stored_secrets[event.rid][0].shared_secret;\n          decrypted = this.shared_decrypt(shared_secret, event.relationship);\n        } else {\n          decrypted = this.decrypt(event.relationship);\n        }\n      } catch (error) {\n        continue;\n      }\n      try {\n        var messageJson = JSON.parse(decrypted);\n      } catch (err) {\n        continue;\n      }\n      if (messageJson[this.settingsService.collections.CALENDAR]) {\n        event.relationship = messageJson;\n        event.relationship[\n          this.settingsService.collections.CALENDAR\n        ].event_datetime = new Date(\n          event.relationship[\n            this.settingsService.collections.CALENDAR\n          ].event_datetime\n        );\n        eventsOut.push(event);\n      } else if (messageJson[this.settingsService.collections.GROUP_CALENDAR]) {\n        event.relationship = messageJson;\n        event.relationship[\n          this.settingsService.collections.GROUP_CALENDAR\n        ].event_datetime = new Date(\n          event.relationship[\n            this.settingsService.collections.GROUP_CALENDAR\n          ].event_datetime\n        );\n        eventsOut.push(event);\n      } else if (messageJson.event) {\n        event.relationship = messageJson;\n        event.relationship.event.event_datetime = new Date(\n          event.relationship.event.event_datetime\n        );\n        eventsOut.push(event);\n      }\n    }\n    return eventsOut;\n  }\n\n  parseMyPages(mypages) {\n    let mypagesOut = [];\n    const myRids = this.generateRids(this.bulletinSecretService.identity);\n    for (var i = 0; i < mypages.length; i++) {\n      //hopefully we've prepared the stored_secrets option before getting here\n      //by calling getSentFriendRequests and getFriendRequests\n      const mypage = mypages[i];\n      let decrypted;\n\n      try {\n        decrypted = this.decrypt(mypage.relationship);\n      } catch (error) {\n        continue;\n      }\n      try {\n        var messageJson = JSON.parse(decrypted);\n      } catch (err) {\n        continue;\n      }\n      if (messageJson[this.settingsService.collections.WEB_PAGE]) {\n        mypage.relationship = messageJson;\n        mypagesOut.push(mypage);\n      }\n    }\n    return mypagesOut;\n  }\n\n  parseAssets(assets) {\n    let assetsOut = [];\n    for (var i = 0; i < assets.length; i++) {\n      //hopefully we've prepared the stored_secrets option before getting here\n      //by calling getSentFriendRequests and getFriendRequests\n      const asset = assets[i];\n      let decrypted;\n\n      try {\n        decrypted = this.decrypt(asset.relationship);\n      } catch (error) {\n        continue;\n      }\n      try {\n        var messageJson = JSON.parse(decrypted);\n      } catch (err) {\n        continue;\n      }\n      if (messageJson[this.settingsService.collections.ASSET]) {\n        asset.relationship = messageJson;\n        assetsOut.push(asset);\n      }\n    }\n    return assetsOut;\n  }\n\n  parseSmartContracts(smartContracts, market) {\n    let smartContractsOut = [];\n    for (var i = 0; i < smartContracts.length; i++) {\n      try {\n        let smartContractTxn = smartContracts[i];\n        let smartContract =\n          smartContractTxn.relationship[\n            this.settingsService.collections.SMART_CONTRACT\n          ];\n        if (!smartContract) continue;\n        if (smartContract.asset) {\n          let asset = this.shared_decrypt(\n            market.username_signature,\n            smartContract.asset\n          );\n          smartContract.asset = JSON.parse(asset);\n        }\n\n        if (smartContract.target) {\n          let target = this.shared_decrypt(\n            market.username_signature,\n            smartContract.target\n          );\n          smartContract.target = JSON.parse(target);\n        }\n        let creator = this.shared_decrypt(\n          market.username_signature,\n          smartContract.creator\n        );\n        smartContract.creator = JSON.parse(creator);\n        smartContractTxn.relationship[\n          this.settingsService.collections.SMART_CONTRACT\n        ] = smartContract;\n        smartContractsOut.push(smartContractTxn);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    return smartContractsOut;\n  }\n\n  parsePromotion(promotionTxn, market) {\n    try {\n      let target = this.shared_decrypt(\n        market.username_signature,\n        promotionTxn.relationship\n      );\n      promotionTxn.relationship = JSON.parse(target);\n    } catch (err) {\n      console.log(err);\n    }\n    return promotionTxn;\n  }\n\n  parseBids(bids, market) {\n    let bidsOut = [];\n    for (var i = 0; i < bids.length; i++) {\n      try {\n        let bid = bids[i];\n        bid.relationship = this.shared_decrypt(\n          market.username_signature,\n          bid.relationship\n        );\n        bid.relationship = JSON.parse(bid.relationship);\n        bidsOut.push(bid);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    return bidsOut;\n  }\n\n  parseAffiliates(affiliates, market) {\n    let affiliatesOut = [];\n    for (var i = 0; i < affiliates.length; i++) {\n      try {\n        let affiliate = affiliates[i];\n        affiliate.relationship = this.shared_decrypt(\n          market.username_signature,\n          affiliate.relationship\n        );\n        affiliate.relationship = JSON.parse(affiliate.relationship);\n        affiliatesOut.push(affiliate);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    return affiliatesOut;\n  }\n\n  getSharedSecrets() {\n    return new Promise((resolve, reject) => {\n      for (let i in this.keys) {\n        if (!this.stored_secrets[i]) {\n          this.stored_secrets[i] = [];\n        }\n        var stored_secrets_by_dh_public_key = {};\n        for (var ss = 0; ss < this.stored_secrets[i].length; ss++) {\n          stored_secrets_by_dh_public_key[\n            this.stored_secrets[i][ss].dh_public_key +\n              this.stored_secrets[i][ss].dh_private_key\n          ] = this.stored_secrets[i][ss];\n        }\n        for (var j = 0; j < this.keys[i].dh_private_keys.length; j++) {\n          var dh_private_key = this.keys[i].dh_private_keys[j];\n          if (!dh_private_key) continue;\n          for (var k = 0; k < this.keys[i].dh_public_keys.length; k++) {\n            var dh_public_key = this.keys[i].dh_public_keys[k];\n            if (!dh_public_key) continue;\n            if (\n              stored_secrets_by_dh_public_key[dh_public_key + dh_private_key]\n            ) {\n              continue;\n            }\n            var privk = new Uint8Array(\n              dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                return parseInt(h, 16);\n              })\n            );\n            var pubk = new Uint8Array(\n              dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                return parseInt(h, 16);\n              })\n            );\n            var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n            this.stored_secrets[i].push({\n              shared_secret: shared_secret,\n              dh_public_key: dh_public_key,\n              dh_private_key: dh_private_key,\n              rid: i,\n            });\n          }\n        }\n      }\n      return resolve(null);\n    });\n  }\n\n  getSharedSecretForRid(rid) {\n    return new Promise((resolve, reject) => {\n      this.getSharedSecrets().then(() => {\n        if (this.stored_secrets[rid] && this.stored_secrets[rid].length > 0) {\n          return resolve(this.stored_secrets[rid][0]);\n        } else {\n          reject(\"no shared secret found for rid: \" + rid);\n        }\n      });\n    });\n  }\n\n  async createGroup(\n    groupname,\n    parentGroup = null,\n    extraData = {},\n    collectionName = \"group\"\n  ): Promise<null | void> {\n    const parentIdentity = this.getIdentityFromTxn(parentGroup);\n    if (!groupname)\n      return new Promise((resolve, reject) => {\n        reject(\"username missing\");\n      });\n    if (\n      parentIdentity &&\n      parentIdentity.public_key !==\n        this.bulletinSecretService.identity.public_key\n    )\n      return new Promise((resolve, reject) => {\n        reject(\n          \"you cannot create a subgroup unless you are the owner of the group.\"\n        );\n      });\n    if (parentIdentity && parentIdentity.username === groupname)\n      return new Promise((resolve, reject) => {\n        reject(\n          \"you cannot create a subgroup with the same name as the parent group.\"\n        );\n      });\n    let username_signature = foobar.base64.fromByteArray(\n      this.bulletinSecretService.key\n        .sign(foobar.bitcoin.crypto.sha256(groupname))\n        .toDER()\n    );\n    let relationship: any = {\n      username: groupname,\n      username_signature: username_signature,\n      public_key: this.bulletinSecretService.identity.public_key,\n      collection: this.settingsService.collections.GROUP,\n    };\n    let info = { ...extraData };\n    info[collectionName] = relationship;\n    if (parentIdentity) {\n      relationship.parent = {\n        username: parentIdentity.username,\n        username_signature: parentIdentity.username_signature,\n        public_key: parentIdentity.public_key,\n        collection: this.settingsService.collections.GROUP,\n      };\n    }\n    return this.transactionService\n      .generateTransaction({\n        relationship: info,\n        to: await this.bulletinSecretService.publicKeyToAddress(\n          this.bulletinSecretService.identity.public_key\n        ),\n        requester_rid: this.generateRid(\n          parentIdentity\n            ? parentIdentity.username_signature\n            : this.bulletinSecretService.identity.username_signature,\n          parentIdentity\n            ? parentIdentity.username_signature\n            : this.bulletinSecretService.identity.username_signature,\n          parentIdentity ? parentIdentity.username_signature : collectionName\n        ),\n        requested_rid: this.generateRid(\n          username_signature,\n          username_signature,\n          parentIdentity ? parentIdentity.username_signature : collectionName\n        ),\n        rid: this.generateRid(\n          this.bulletinSecretService.identity.username_signature,\n          username_signature\n        ),\n        group: true,\n      })\n      .then((txn) => {\n        return this.transactionService.sendTransaction();\n      })\n      .then(() => {\n        return this.getGroups(null, relationship.collection, true);\n      })\n      .then(() => {\n        return new Promise<any>((resolve, reject) => {\n          return resolve({\n            username: groupname,\n            username_signature: username_signature,\n            public_key: this.bulletinSecretService.identity.public_key,\n          });\n        });\n      });\n  }\n\n  checkInvite(identity) {\n    return this.endpointRequest(\"check-invite\", null, null, {\n      identity: identity,\n    });\n  }\n\n  getUserType(identifier) {\n    return this.endpointRequest(\"get-user-type\", null, null, {\n      identifier: identifier,\n    });\n  }\n\n  // generateRecovery(username) {\n  //   return new Promise((resolve, reject) => {\n  //     return this.geolocation\n  //       .getCurrentPosition()\n  //       .then((resp) => {\n  //         let result =\n  //           resp.coords.longitude + (resp.coords.latitude + username);\n  //         let target = 0x00000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff;\n  //         let rid;\n  //         let password;\n  //         for (var i = 0; i === i; i++) {\n  //           result = forge.sha256.create().update(result).digest().toHex();\n  //           if (parseInt(result, 16) < target && password) {\n  //             result = forge.sha256.create().update(result).digest().toHex();\n  //             rid = result;\n  //             break;\n  //           }\n  //           if (parseInt(result, 16) < target && !password) {\n  //             result = forge.sha256.create().update(result).digest().toHex();\n  //             password = result;\n  //           }\n  //         }\n  //         return resolve([rid, password, username]);\n  //       })\n  //       .catch((error) => {\n  //         console.log(\"Error getting location\", error);\n  //       });\n  //   });\n  // }\n\n  // createRecovery(username) {\n  //   this.generateRecovery(username)\n  //     .then((args) => {\n  //       let rid = args[0];\n  //       let shared_secret = args[1];\n  //       return new Promise((resolve, reject) => {\n  //         if (!username) return reject(\"username missing\");\n\n  //         return this.storage\n  //           .get(this.bulletinSecretService.keyname)\n  //           .then((wif) => {\n  //             let key = foobar.bitcoin.ECPair.fromWIF(wif);\n  //             let pubKey = key.getPublicKeyBuffer().toString(\"hex\");\n  //             let address = key.getAddress();\n  //             let username_signature = foobar.base64.fromByteArray(\n  //               key.sign(foobar.bitcoin.crypto.sha256(username)).toDER()\n  //             );\n  //             return resolve({\n  //               public_key: pubKey,\n  //               username_signature: username_signature,\n  //               username: username,\n  //               wif: wif,\n  //               rid: rid,\n  //               shared_key: shared_secret,\n  //             });\n  //           });\n  //       });\n  //     })\n  //     .then((info: any) => {\n  //       return this.transactionService.generateTransaction({\n  //         relationship: {\n  //           username_signature: info.username_signature,\n  //           public_key: info.public_key,\n  //           username: info.username,\n  //           identity: this.bulletinSecretService.identity,\n  //           wif: info.wif,\n  //         },\n  //         to: this.bulletinSecretService.publicKeyToAddress(info.public_key),\n  //         rid: info.rid,\n  //         shared_secret: info.shared_key,\n  //       });\n  //     })\n  //     .then((txn) => {\n  //       return this.transactionService.sendTransaction();\n  //     });\n  // }\n\n  generateRid(username_signature1, username_signature2, extra = \"\") {\n    const username_signatures = [username_signature1, username_signature2].sort(\n      function (a, b) {\n        return a.toLowerCase().localeCompare(b.toLowerCase());\n      }\n    );\n    return forge.sha256\n      .create()\n      .update(username_signatures[0] + username_signatures[1] + extra)\n      .digest()\n      .toHex();\n  }\n\n  addFriendFromSkylink(skylink) {\n    return this.identityFromSkylink(skylink).then((identity) => {\n      return this.addFriend(identity);\n    });\n  }\n\n  async addFriend(identity, rid = \"\", requester_rid = \"\", requested_rid = \"\") {\n    rid =\n      rid ||\n      this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        identity.username_signature\n      );\n    requester_rid =\n      requester_rid ||\n      this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        this.settingsService.collections.CONTACT\n      );\n    requested_rid =\n      requested_rid ||\n      this.generateRid(\n        identity.username_signature,\n        identity.username_signature,\n        this.settingsService.collections.CONTACT\n      );\n    if (requester_rid && requested_rid) {\n      // get rid from bulletin secrets\n    } else {\n      requester_rid = \"\";\n      requested_rid = \"\";\n    }\n    var raw_dh_private_key = foobar.bitcoin.crypto.sha256(\n      this.bulletinSecretService.key.toWIF() + identity.username_signature\n    );\n    var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n    var dh_private_key = this.toHex(raw_dh_private_key);\n    var dh_public_key = this.toHex(raw_dh_public_key);\n    let myIdentity = this.bulletinSecretService.cloneIdentity();\n    myIdentity.collection = this.settingsService.collections.CONTACT;\n    let info = {\n      dh_private_key: dh_private_key,\n    };\n    info[this.settingsService.collections.CONTACT] = myIdentity;\n    return this.transactionService\n      .generateTransaction({\n        relationship: info,\n        dh_public_key: dh_public_key,\n        requested_rid: requested_rid,\n        requester_rid: requester_rid,\n        rid: rid,\n        to: await this.bulletinSecretService.publicKeyToAddress(\n          identity.public_key\n        ),\n        recipient_identity: identity,\n      })\n      .then((hash) => {\n        return this.transactionService.sendTransaction();\n      })\n      .then(() => {\n        return this.getFriends();\n      });\n  }\n\n  addGroupFromSkylink(skylink) {\n    return this.identityFromSkylink(skylink).then((identity) => {\n      return this.addGroup(identity);\n    });\n  }\n\n  async addGroup(\n    identity,\n    rid = \"\",\n    requester_rid = \"\",\n    requested_rid = \"\",\n    refresh = true\n  ) {\n    identity.collection = identity.parent\n      ? identity.parent.username_signature\n      : identity.collection || this.settingsService.collections.GROUP;\n    rid =\n      rid ||\n      this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        identity.username_signature\n      );\n    requester_rid =\n      requester_rid ||\n      this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        identity.collection\n      );\n    requested_rid =\n      requested_rid ||\n      this.generateRid(\n        identity.parent ? identity.collection : identity.username_signature,\n        identity.parent ? identity.collection : identity.username_signature,\n        identity.collection\n      );\n    if (requester_rid && requested_rid) {\n      // get rid from bulletin secrets\n    } else {\n      requester_rid = \"\";\n      requested_rid = \"\";\n    }\n    if (this.groups_indexed[requested_rid]) {\n      return new Promise((resolve, reject) => {\n        return resolve(identity);\n      });\n    }\n    let info = {};\n    info[identity.collection] = identity;\n    return this.transactionService\n      .generateTransaction({\n        rid: rid,\n        relationship: info,\n        requested_rid: requested_rid,\n        requester_rid: requester_rid,\n        to: await this.bulletinSecretService.publicKeyToAddress(\n          identity.public_key\n        ),\n      })\n      .then((txn) => {\n        return this.transactionService.sendTransaction(txn);\n      })\n      .then(() => {\n        return refresh ? this.getGroups(null, identity.collection, true) : null;\n      })\n      .then(() => {\n        return new Promise((resolve, reject) => {\n          return resolve(identity);\n        });\n      });\n  }\n\n  getPromotion(promo_code) {\n    let promotion;\n    return this.endpointRequest(\"get-graph-collection\", null, [promo_code]) //get promotion\n      .then((data: any) => {\n        if (!data.collection[0]) throw Error(\"promotion does not exist\");\n        promotion = data.collection[0];\n        return this.endpointRequest(\"get-graph-collection\", null, [\n          data.collection[0].requested_rid,\n        ]); // get smart contract\n      })\n      .then((data: any) => {\n        if (!data.collection[0]) throw Error(\"smart contract does not exist\");\n        let smart_contracts = data.collection.filter((item) => {\n          return !!item.relationship[\n            this.settingsService.collections.SMART_CONTRACT\n          ];\n        });\n        if (!smart_contracts[0]) throw Error(\"smart contract does not exist\");\n        const market_rid =\n          smart_contracts[0].relationship[\n            this.settingsService.collections.SMART_CONTRACT\n          ].market;\n        const market =\n          this.groups_indexed[market_rid].relationship[\n            this.settingsService.collections.MARKET\n          ];\n        return this.parsePromotion(promotion, market);\n      })\n      .then((promotion: any) => {\n        return promotion;\n      });\n  }\n\n  publicDecrypt(message) {\n    const decrypted = decrypt(\n      this.bulletinSecretService.key.d.toHex(),\n      Buffer.from(this.hexToByteArray(message))\n    ).toString();\n    return decrypted;\n  }\n\n  generateRids(identity, identity2 = null, collection = null) {\n    identity2 = identity2 || this.bulletinSecretService.identity;\n    const rid = this.generateRid(\n      identity.username_signature,\n      identity2.username_signature\n    );\n\n    const requested_rid = this.generateRid(\n      identity.username_signature,\n      identity.username_signature,\n      identity.collection\n    );\n\n    const requester_rid = this.generateRid(\n      identity2.username_signature,\n      identity2.username_signature,\n      collection || identity2.collection\n    );\n\n    return {\n      rid,\n      requested_rid,\n      requester_rid,\n    };\n  }\n\n  isMe(identity: any) {\n    if (!identity) return false;\n    return (\n      identity.username_signature ===\n      this.bulletinSecretService.identity.username_signature\n    );\n  }\n\n  isAdded(identity) {\n    if (!identity) return false;\n    const rids = this.generateRids(identity);\n    const addedToGroups = this.isChild(identity)\n      ? !!(\n          this.groups_indexed[rids.rid] ||\n          this.groups_indexed[rids.requested_rid] ||\n          this.groups_indexed[\n            this.generateRid(\n              identity.parent\n                ? identity.parent.username_signature\n                : identity.username_signature,\n              identity.parent\n                ? identity.parent.username_signature\n                : identity.username_signature,\n              identity.parent.username_signature\n            )\n          ]\n        )\n      : !!(\n          this.groups_indexed[rids.rid] ||\n          this.groups_indexed[rids.requested_rid]\n        );\n\n    const friend_requested_rid = this.generateRid(\n      identity.username_signature,\n      identity.username_signature\n    );\n    const friend_rid = this.generateRid(\n      identity.username_signature,\n      this.bulletinSecretService.identity.username_signature\n    );\n    const addedToFriends = !!(\n      this.friends_indexed[friend_rid] ||\n      this.friends_indexed[friend_requested_rid]\n    );\n\n    return !!(addedToFriends || addedToGroups);\n  }\n\n  isRequested(identity) {\n    if (!identity) return false;\n    const friend_rid = this.generateRid(\n      identity.username_signature,\n      this.bulletinSecretService.identity.username_signature\n    );\n    return !!this.sent_friend_requests_indexed[friend_rid];\n  }\n\n  isGroup(identity) {\n    if (!identity) return false;\n    return (\n      identity.collection &&\n      identity.collection !== this.settingsService.collections.CONTACT\n    );\n  }\n\n  isChild(identity) {\n    if (!identity) return false;\n    return !!identity.parent;\n  }\n\n  sortInt(list, key, reverse = false) {\n    list.sort((a, b) => {\n      if (parseInt(a[key]) > parseInt(b[key])) return reverse ? 1 : -1;\n      if (parseInt(a[key]) < parseInt(b[key])) return reverse ? -1 : 1;\n      return 0;\n    });\n  }\n\n  sortAlpha(list, key, reverse = false) {\n    list.sort((a, b) => {\n      if (a[key] < b[key]) return reverse ? 1 : -1;\n      if (a[key] > b[key]) return reverse ? -1 : 1;\n      return 0;\n    });\n  }\n\n  sortTxnsByUsername(list, reverse = false, collection = null) {\n    list.sort((a, b) => {\n      let ausername = this.getIdentityFromTxn(a, collection);\n      let busername = this.getIdentityFromTxn(b, collection);\n      if (ausername < busername) return reverse ? 1 : -1;\n      if (ausername > busername) return reverse ? -1 : 1;\n      return 0;\n    });\n  }\n\n  toDistinct(list, key) {\n    const hashMap = {};\n    for (let i = 0; i < list.length; i++) {\n      hashMap[list[i][key]] = list[i];\n    }\n    const newList = [];\n    for (let i = 0; i < Object.keys(hashMap).length; i++) {\n      newList.push(hashMap[Object.keys(hashMap)[i]]);\n    }\n    return newList;\n  }\n\n  toIdentity(identity) {\n    if (!identity) return {};\n    let iden: any = {\n      username: identity.username,\n      username_signature: identity.username_signature,\n      public_key: identity.public_key,\n    };\n    if (identity.parent) {\n      iden.parent = identity.parent;\n    }\n    if (identity.collection) {\n      iden.collection = identity.collection;\n    }\n    if (identity.skylink) {\n      iden.skylink = identity.skylink;\n    }\n    return iden;\n  }\n\n  getIdentityFromMessageTransaction(item) {\n    if (!item) return;\n    let group = this.groups_indexed[item.requested_rid];\n    if (group) {\n      return this.getIdentityFromTxn(\n        group,\n        this.settingsService.collections.GROUP\n      );\n    }\n    let friend = this.friends_indexed[item.rid];\n    if (friend) {\n      return this.getIdentityFromTxn(\n        friend,\n        this.settingsService.collections.CONTACT\n      );\n    }\n  }\n\n  getIdentityFromTxn(item, collection = null) {\n    if (!item) return;\n    let col = collection || this.getNewTxnCollection(item);\n    return item.relationship[col];\n  }\n\n  getParentIdentityFromTxn(item, collection = null) {\n    if (!item) return;\n    let identity = this.getIdentityFromTxn(item, collection);\n    return identity && identity.parent;\n  }\n\n  getNewTxnCollection(txn) {\n    for (\n      let i = 0;\n      i < Object.keys(this.settingsService.collections).length;\n      i++\n    ) {\n      const collection =\n        this.settingsService.collections[\n          Object.keys(this.settingsService.collections)[i]\n        ];\n      const rid = this.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        collection\n      );\n      if (\n        txn.rid === rid ||\n        txn.requester_rid === rid ||\n        txn.requested_rid === rid\n      ) {\n        return collection;\n      }\n      if (txn.relationship[collection]) return collection;\n    }\n    const collections = [\n      this.settingsService.collections.GROUP_CHAT,\n      this.settingsService.collections.GROUP_MAIL,\n      this.settingsService.collections.GROUP_CALENDAR,\n    ];\n    for (let j = 0; j < Object.keys(this.groups_indexed).length; j++) {\n      const group = this.getIdentityFromTxn(\n        this.groups_indexed[Object.keys(this.groups_indexed)[j]],\n        this.settingsService.collections.GROUP\n      );\n      for (let i = 0; i < collections.length; i++) {\n        const collection = collections[i];\n        const rid = this.generateRid(\n          group.username_signature,\n          group.username_signature,\n          collection\n        );\n        if (\n          txn.rid === rid ||\n          txn.requester_rid === rid ||\n          txn.requested_rid === rid\n        ) {\n          return collection;\n        }\n      }\n    }\n    return false;\n  }\n\n  identityToSkylink(identity) {\n    return new Promise((resolve, reject) => {\n      const identityJson = JSON.stringify(this.toIdentity(identity), null, 4);\n      this.ahttp\n        .post(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/sia-upload?filename=\" +\n            encodeURIComponent(identity.username_signature),\n          { file: btoa(identityJson) }\n        )\n        .subscribe((res) => {\n          const data = res.json();\n          if (!data.skylink) return reject(data);\n          return resolve(data.skylink);\n        });\n    });\n  }\n\n  inviteToSkylink(invite) {\n    return new Promise((resolve, reject) => {\n      const identityJson = JSON.stringify(invite, null, 4);\n      this.ahttp\n        .post(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/sia-upload?filename=\" +\n            encodeURIComponent(invite.invite_signature),\n          { file: btoa(identityJson) }\n        )\n        .subscribe((res) => {\n          const data = res.json();\n          if (!data.skylink) return reject(data);\n          return resolve(data.skylink);\n        });\n    });\n  }\n\n  identityFromSkylink(skylink) {\n    return new Promise((resolve, reject) => {\n      this.ahttp\n        .get(\"https://centeridentity.com/sia-download?skylink=\" + skylink)\n        .subscribe((res) => {\n          try {\n            return resolve(JSON.parse(res.text()));\n          } catch (err) {\n            return reject(err);\n          }\n        });\n    });\n  }\n\n  registrationStatus() {\n    if (\n      this.settingsService.remoteSettings.restricted &&\n      !this.isAdded(this.settingsService.remoteSettings.identity) &&\n      !this.isAdded(this.bulletinSecretService.identity.parent) &&\n      !this.isRequested(this.settingsService.remoteSettings.identity) &&\n      !this.isRequested(this.bulletinSecretService.identity.parent) &&\n      this.settingsService.remoteSettings.identity.username_signature !==\n        this.bulletinSecretService.identity.username_signature\n    ) {\n      return \"error\";\n    }\n\n    if (\n      this.settingsService.remoteSettings.restricted &&\n      !this.isAdded(this.settingsService.remoteSettings.identity) &&\n      !this.isAdded(this.bulletinSecretService.identity.parent) &&\n      (this.isRequested(this.settingsService.remoteSettings.identity) ||\n        this.isRequested(this.bulletinSecretService.identity.parent)) &&\n      this.settingsService.remoteSettings.identity.username_signature !==\n        this.bulletinSecretService.identity.username_signature\n    ) {\n      return \"pending\";\n    }\n\n    if (\n      this.settingsService.remoteSettings.restricted &&\n      (this.isAdded(this.settingsService.remoteSettings.identity) ||\n        this.isAdded(this.bulletinSecretService.identity.parent)) &&\n      !this.isRequested(this.settingsService.remoteSettings.identity) &&\n      !this.isRequested(this.bulletinSecretService.identity.parent) &&\n      this.settingsService.remoteSettings.identity.username_signature !==\n        this.bulletinSecretService.identity.username_signature\n    ) {\n      return \"complete\";\n    }\n  }\n\n  decrypt(message) {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256\n        .create()\n        .update(this.bulletinSecretService.key.toWIF())\n        .digest()\n        .toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var decipher = forge.cipher.createDecipher(\"AES-CBC\", key);\n    var enc = this.hexToBytes(message);\n    decipher.start({ iv: enc.slice(0, 16) });\n    decipher.update(forge.util.createBuffer(enc.slice(16)));\n    decipher.finish();\n    return decipher.output.data;\n  }\n\n  shared_decrypt(shared_secret, message) {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256.create().update(shared_secret).digest().toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var decipher = forge.cipher.createDecipher(\"AES-CBC\", key);\n    var enc = this.hexToBytes(message);\n    decipher.start({ iv: enc.slice(0, 16) });\n    decipher.update(forge.util.createBuffer(enc.slice(16)));\n    decipher.finish();\n    return Base64.decode(decipher.output.data);\n  }\n\n  hexToByteArray(str) {\n    if (!str) {\n      return new Uint8Array([]);\n    }\n\n    var a = [];\n    for (var i = 0, len = str.length; i < len; i += 2) {\n      a.push(parseInt(str.substr(i, 2), 16));\n    }\n\n    return new Uint8Array(a);\n  }\n\n  hexToBytes(s) {\n    var arr = [];\n    for (var i = 0; i < s.length; i += 2) {\n      var c = s.substr(i, 2);\n      arr.push(parseInt(c, 16));\n    }\n    return String.fromCharCode.apply(null, arr);\n  }\n\n  toHex(byteArray) {\n    var callback = function (byte) {\n      return (\"0\" + (byte & 0xff).toString(16)).slice(-2);\n    };\n    return Array.from(byteArray, callback).join(\"\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/graph.service.ts","import { Injectable } from \"@angular/core\";\nimport { BulletinSecretService } from \"./bulletinSecret.service\";\nimport { WalletService } from \"./wallet.service\";\nimport { SettingsService } from \"./settings.service\";\nimport { Http } from \"@angular/http\";\nimport { encrypt, decrypt, PrivateKey } from \"eciesjs\";\nimport { SmartContractService } from \"./smartContract.service\";\n\ndeclare var foobar;\ndeclare var forge;\ndeclare var Base64;\n\n@Injectable()\nexport class TransactionService {\n  info = null;\n  transaction = null;\n  key = null;\n  xhr = null;\n  rid = null;\n  callbackurl = null;\n  blockchainurl = null;\n  shared_secret = null;\n  to = null;\n  txnattempts = null;\n  cbattempts = null;\n  prevTxn = null;\n  txns = null;\n  resolve = null;\n  unspent_transaction_override = null;\n  value = null;\n  username = null;\n  signatures = null;\n  recipient_identity = null;\n  isCrossChain = null;\n  bscAddress = null;\n  constructor(\n    private walletService: WalletService,\n    private bulletinSecretService: BulletinSecretService,\n    private ahttp: Http,\n    private settingsService: SettingsService,\n    private smartContractService: SmartContractService\n  ) {}\n\n  generateTransaction(info) {\n    return new Promise((resolve, reject) => {\n      const version = 5;\n      this.key = this.bulletinSecretService.key;\n      this.username = this.bulletinSecretService.username;\n      this.recipient_identity = info.recipient_identity;\n      this.txnattempts = [12, 5, 4];\n      this.cbattempts = [12, 5, 4];\n      this.info = info;\n      this.unspent_transaction_override = this.info.unspent_transaction;\n      this.blockchainurl = this.info.blockchainurl;\n      this.callbackurl = this.info.callbackurl;\n      this.to = this.info.to;\n      this.value = parseFloat(this.info.value);\n      this.isCrossChain = info.isCrossChain;\n      this.bscAddress = info.bscAddress;\n\n      this.transaction = {\n        version: version,\n        rid: this.info.rid,\n        fee: this.info.fee ? parseFloat(this.info.fee) : 0.0,\n        masternode_fee: this.info.masternode_fee\n          ? parseFloat(this.info.masternode_fee)\n          : 0.0,\n        outputs: [],\n        requester_rid:\n          typeof this.info.requester_rid == \"undefined\"\n            ? \"\"\n            : this.info.requester_rid,\n        requested_rid:\n          typeof this.info.requested_rid == \"undefined\"\n            ? \"\"\n            : this.info.requested_rid,\n        time: parseInt((+new Date() / 1000).toString()).toString(),\n        public_key: this.key.getPublicKeyBuffer().toString(\"hex\"),\n      };\n      if (this.info.outputs) {\n        this.transaction.outputs = this.info.outputs;\n      }\n      if (this.info.dh_public_key && this.info.relationship.dh_private_key) {\n        this.transaction.dh_public_key = this.info.dh_public_key;\n      }\n      if (this.to) {\n        this.transaction.outputs.push({\n          to: this.to,\n          value: this.value || 0,\n        });\n      }\n      let transaction_total = 0;\n      if (this.transaction.outputs.length > 0) {\n        for (let i = 0; i < this.transaction.outputs.length; i++) {\n          transaction_total += parseFloat(this.transaction.outputs[i].value);\n        }\n        transaction_total += parseFloat(this.transaction.fee);\n        transaction_total += parseFloat(this.transaction.masternode_fee);\n      } else {\n        transaction_total += parseFloat(this.transaction.fee);\n        transaction_total += parseFloat(this.transaction.masternode_fee);\n      }\n      let inputs_hashes_concat = \"\";\n      if (\n        this.info.relationship &&\n        this.info.relationship.dh_private_key &&\n        this.walletService.wallet.balance <\n          transaction_total /* || this.walletService.wallet.unspent_transactions.length == 0*/\n      ) {\n        reject(\"not enough money\");\n        return;\n      } else {\n        if (transaction_total > 0) {\n          var inputs = [];\n          var input_sum = 0;\n          let unspent_transactions: any;\n          if (this.unspent_transaction_override) {\n            unspent_transactions = [this.unspent_transaction_override];\n          } else {\n            this.info.relationship = this.info.relationship || {};\n            unspent_transactions =\n              this.walletService.wallet.unspent_transactions;\n            unspent_transactions.sort(function (a, b) {\n              if (a.height < b.height) return -1;\n              if (a.height > b.height) return 1;\n              return 0;\n            });\n          }\n          let already_added = [];\n          for (var i = 0; i < unspent_transactions.length; i++) {\n            var unspent_transaction = unspent_transactions[i];\n            for (var j = 0; j < unspent_transaction.outputs.length; j++) {\n              var unspent_output = unspent_transaction.outputs[j];\n              if (unspent_output.to === this.key.getAddress()) {\n                if (\n                  j === 0 &&\n                  already_added.indexOf(unspent_transaction.id) === -1\n                ) {\n                  already_added.push(unspent_transaction.id);\n                  inputs.push({ id: unspent_transaction.id });\n                }\n                input_sum += parseFloat(unspent_output.value);\n                console.log(parseFloat(unspent_output.value));\n              }\n            }\n          }\n          this.transaction.outputs.push({\n            to: this.key.getAddress(),\n            value: input_sum - transaction_total,\n          });\n\n          if (input_sum < transaction_total) {\n            return reject(\n              \"You do not have enough individual inputs with values greater than 1 YDA. This means you need to sweep your wallet. This can be done automatically by downloading a full node and replacing the .\"\n            );\n          }\n          this.transaction.inputs = inputs;\n\n          var inputs_hashes = [];\n          for (i = 0; i < inputs.length; i++) {\n            inputs_hashes.push(inputs[i].id);\n          }\n\n          var inputs_hashes_arr = inputs_hashes.sort(function (a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n          });\n\n          inputs_hashes_concat = inputs_hashes_arr.join(\"\");\n        }\n      }\n      var myAddress = this.key.getAddress();\n      var found = false;\n      for (var h = 0; h < this.transaction.outputs.length; h++) {\n        if (this.transaction.outputs[h].to == myAddress) {\n          found = true;\n        }\n      }\n      if (!found) {\n        this.transaction.outputs.push({\n          to: this.key.getAddress(),\n          value: 0,\n        });\n      }\n\n      var outputs_hashes = [];\n      for (i = 0; i < this.transaction.outputs.length; i++) {\n        outputs_hashes.push(\n          this.transaction.outputs[i].to +\n            this.transaction.outputs[i].value.toFixed(8)\n        );\n      }\n\n      var outputs_hashes_arr = outputs_hashes.sort(function (a, b) {\n        if (a.toLowerCase() < b.toLowerCase()) return -1;\n        if (a.toLowerCase() > b.toLowerCase()) return 1;\n        return 0;\n      });\n      var outputs_hashes_concat = outputs_hashes_arr.join(\"\");\n\n      if (\n        this.info.masternode_fee > 0 &&\n        this.info.masternode_fee_delegate.length > 0\n      ) {\n        this.info.relationship = this.info.masternode_fee_delegate;\n        this.info.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.info.relationship)\n          .toString(\"hex\");\n      }\n\n      if (this.isCrossChain === true && this.bscAddress) {\n        this.info.relationship = this.bscAddress;\n        this.info.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.info.relationship)\n          .toString(\"hex\");\n      }\n\n      if (typeof this.info.relationship === \"string\") {\n        this.transaction.relationship = this.info.relationship;\n      }\n      if (typeof this.info.relationship_hash === \"string\") {\n        this.transaction.relationship_hash = this.info.relationship_hash;\n      }\n\n      if (this.info.dh_public_key && this.info.relationship.dh_private_key) {\n        // creating new relationship\n        this.transaction.relationship = this.publicEncrypt(\n          JSON.stringify(this.info.relationship),\n          this.recipient_identity.public_key\n        );\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        var hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.dh_public_key +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else if (\n        this.info.relationship[this.settingsService.collections.SMART_CONTRACT]\n      ) {\n        //creating smart contract instance\n        this.transaction.relationship = this.info.relationship;\n\n        let smart_contract =\n          this.info.relationship[\n            this.settingsService.collections.SMART_CONTRACT\n          ];\n        if (smart_contract.asset) {\n          smart_contract.asset = this.shared_encrypt(\n            this.info.shared_secret,\n            JSON.stringify(smart_contract.asset)\n          );\n        }\n\n        if (smart_contract.target) {\n          smart_contract.target = this.shared_encrypt(\n            this.info.shared_secret,\n            JSON.stringify(smart_contract.target)\n          );\n        }\n        this.transaction.relationship[\n          this.settingsService.collections.SMART_CONTRACT\n        ].creator = this.shared_encrypt(\n          this.info.shared_secret,\n          JSON.stringify(\n            this.transaction.relationship[\n              this.settingsService.collections.SMART_CONTRACT\n            ].creator\n          )\n        );\n\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        var hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else if (\n        this.info.relationship[this.settingsService.collections.CALENDAR] ||\n        this.info.relationship[this.settingsService.collections.CHAT] ||\n        this.info.relationship[\n          this.settingsService.collections.GROUP_CALENDAR\n        ] ||\n        this.info.relationship[this.settingsService.collections.GROUP_CHAT] ||\n        this.info.relationship[this.settingsService.collections.GROUP_MAIL] ||\n        this.info.relationship[this.settingsService.collections.MAIL]\n      ) {\n        // chat\n        this.transaction.relationship = this.shared_encrypt(\n          this.info.shared_secret,\n          JSON.stringify(this.info.relationship)\n        );\n\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else if (\n        this.info.relationship[\n          this.settingsService.collections.WEB_PAGE_REQUEST\n        ]\n      ) {\n        // sign in\n        this.transaction.relationship = this.shared_encrypt(\n          this.info.shared_secret,\n          JSON.stringify(this.info.relationship)\n        );\n\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else if (this.info.relationship.wif) {\n        // recovery\n        this.transaction.relationship = this.shared_encrypt(\n          this.info.shared_secret,\n          JSON.stringify(this.info.relationship)\n        );\n\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else if (\n        this.info.relationship[this.settingsService.collections.GROUP]\n      ) {\n        // join or create group\n        if (\n          this.info.relationship[this.settingsService.collections.GROUP].parent\n        ) {\n          this.transaction.relationship = this.shared_encrypt(\n            this.info.relationship[this.settingsService.collections.GROUP]\n              .parent.username_signature,\n            JSON.stringify(this.info.relationship)\n          );\n        } else {\n          this.transaction.relationship = this.encrypt();\n        }\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else if (\n        this.info.relationship[this.settingsService.collections.MARKET]\n      ) {\n        // join or create market\n        this.transaction.relationship = this.encrypt();\n\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else if (\n        this.info.relationship[this.settingsService.collections.AFFILIATE] ||\n        this.info.relationship[this.settingsService.collections.BID] ||\n        this.info.relationship[\n          this.settingsService.collections.WEB_CHALLENGE_REQUEST\n        ] ||\n        this.info.relationship[\n          this.settingsService.collections.WEB_CHALLENGE_RESPONSE\n        ] ||\n        this.info.relationship[\n          this.settingsService.collections.WEB_PAGE_REQUEST\n        ] ||\n        this.info.relationship[\n          this.settingsService.collections.WEB_PAGE_RESPONSE\n        ] ||\n        this.info.relationship[\n          this.settingsService.collections.WEB_SIGNIN_REQUEST\n        ] ||\n        this.info.relationship[\n          this.settingsService.collections.WEB_SIGNIN_RESPONSE\n        ]\n      ) {\n        this.transaction.relationship = this.shared_encrypt(\n          this.info.shared_secret,\n          JSON.stringify(this.info.relationship)\n        );\n\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else if (\n        this.info.relationship[this.settingsService.collections.WEB_PAGE] ||\n        this.info.relationship[this.settingsService.collections.ASSET]\n      ) {\n        // mypage\n        this.transaction.relationship = this.encrypt();\n\n        this.transaction.relationship_hash = foobar.bitcoin.crypto\n          .sha256(this.transaction.relationship)\n          .toString(\"hex\");\n        hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              this.transaction.rid +\n              this.transaction.relationship_hash +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              this.transaction.requester_rid +\n              this.transaction.requested_rid +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      } else {\n        //straight transaction\n        hash = foobar.bitcoin.crypto\n          .sha256(\n            this.transaction.public_key +\n              this.transaction.time +\n              (this.transaction.rid || \"\") +\n              (this.transaction.relationship_hash || \"\") +\n              this.transaction.fee.toFixed(8) +\n              this.transaction.masternode_fee.toFixed(8) +\n              (this.transaction.requester_rid || \"\") +\n              (this.transaction.requested_rid || \"\") +\n              inputs_hashes_concat +\n              outputs_hashes_concat +\n              version\n          )\n          .toString(\"hex\");\n      }\n\n      this.transaction.hash = hash;\n      var attempt = this.txnattempts.pop();\n      attempt = this.cbattempts.pop();\n      this.transaction.id = this.get_transaction_id(\n        this.transaction.hash,\n        attempt\n      );\n      if (hash) {\n        resolve(this.transaction);\n      } else {\n        reject(false);\n      }\n    });\n  }\n\n  getFastGraphSignature() {\n    return new Promise((resolve, reject) => {\n      this.ahttp\n        .post(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/sign-raw-transaction\",\n          {\n            hash: this.transaction.hash,\n            username_signature:\n              this.bulletinSecretService.generate_username_signature(),\n            input: this.transaction.inputs[0].id,\n            id: this.transaction.id,\n            txn: this.transaction,\n          }\n        )\n        .subscribe(\n          (res) => {\n            try {\n              let data = res.json();\n              this.transaction.signatures = [data.signature];\n              return resolve(data);\n            } catch (err) {\n              return reject(err);\n            }\n          },\n          (err) => {\n            reject(err);\n          }\n        );\n    });\n  }\n\n  sendTransaction(txn = null, transactionUrlOverride = undefined) {\n    return new Promise((resolve, reject) => {\n      var url = \"\";\n      url =\n        (transactionUrlOverride ||\n          this.settingsService.remoteSettings[\"transactionUrl\"]) +\n        \"?username_signature=\" +\n        this.bulletinSecretService.username_signature +\n        \"&to=\" +\n        this.key.getAddress() +\n        \"&username=\" +\n        this.username;\n\n      this.ahttp.post(url, txn || this.transaction).subscribe(\n        (data) => {\n          try {\n            resolve(JSON.parse(data[\"_body\"]));\n          } catch (err) {\n            reject(err);\n          }\n        },\n        (error) => {\n          if (this.txnattempts.length > 0) {\n            reject(error);\n          }\n        }\n      );\n    });\n  }\n\n  get_transaction_id(hash, trynum) {\n    var combine = new Uint8Array(hash.length);\n    //combine[0] = 0;\n    //combine[1] = 64;\n    for (var i = 0; i < hash.length; i++) {\n      combine[i] = hash.charCodeAt(i);\n    }\n    var shaMessage = foobar.bitcoin.crypto.sha256(combine);\n    var signature = this.key.sign(shaMessage);\n    var der = signature.toDER();\n    return foobar.base64.fromByteArray(der);\n  }\n\n  direct_message(data) {\n    //placeholder\n  }\n\n  hexToBytes(s) {\n    var arr = [];\n    for (var i = 0; i < s.length; i += 2) {\n      var c = s.substr(i, 2);\n      arr.push(parseInt(c, 16));\n    }\n    return String.fromCharCode.apply(null, arr);\n  }\n\n  hexToByteArray(str) {\n    if (!str) {\n      return new Uint8Array([]);\n    }\n\n    var a = [];\n    for (var i = 0, len = str.length; i < len; i += 2) {\n      a.push(parseInt(str.substr(i, 2), 16));\n    }\n\n    return new Uint8Array(a);\n  }\n\n  byteArrayToHexString(byteArray) {\n    var callback = function (byte) {\n      return (\"0\" + (byte & 0xff).toString(16)).slice(-2);\n    };\n    return Array.from(byteArray, callback).join(\"\");\n  }\n\n  encrypt() {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256.create().update(this.key.toWIF()).digest().toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var cipher = forge.cipher.createCipher(\"AES-CBC\", key);\n    var iv = forge.random.getBytesSync(16);\n    cipher.start({ iv: iv });\n    cipher.update(\n      forge.util.createBuffer(iv + JSON.stringify(this.info.relationship))\n    );\n    cipher.finish();\n    return cipher.output.toHex();\n  }\n\n  publicEncrypt(message, public_key) {\n    const data = Buffer.from(message);\n    return encrypt(public_key, data).toString(\"hex\");\n  }\n\n  shared_encrypt(shared_secret, message) {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256.create().update(shared_secret).digest().toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var cipher = forge.cipher.createCipher(\"AES-CBC\", key);\n    var iv = forge.random.getBytesSync(16);\n    cipher.start({ iv: iv });\n    cipher.update(forge.util.createBuffer(iv + Base64.encode(message)));\n    cipher.finish();\n    return cipher.output.toHex();\n  }\n\n  decrypt(message) {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256.create().update(this.key.toWIF()).digest().toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var decipher = forge.cipher.createDecipher(\"AES-CBC\", key);\n    var enc = this.hexToBytes(message);\n    decipher.start({ iv: enc.slice(0, 16) });\n    decipher.update(forge.util.createBuffer(enc.slice(16)));\n    decipher.finish();\n    return decipher.output;\n  }\n\n  publicDecrypt(message) {\n    const decrypted = decrypt(\n      this.key.d.toHex(),\n      Buffer.from(this.hexToByteArray(message))\n    ).toString();\n    return decrypted;\n  }\n\n  shared_decrypt(shared_secret, message) {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256.create().update(shared_secret).digest().toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var decipher = forge.cipher.createDecipher(\"AES-CBC\", key);\n    var enc = this.hexToBytes(message);\n    decipher.start({ iv: enc.slice(0, 16) });\n    decipher.update(forge.util.createBuffer(enc.slice(16)));\n    decipher.finish();\n    return decipher.output;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/transaction.service.ts","import { Component, ViewChild } from \"@angular/core\";\nimport { FormGroup, FormControl, Validators } from \"@angular/forms\";\nimport { NavController, NavParams, ModalController } from \"ionic-angular\";\nimport {\n  AlertController,\n  LoadingController,\n  ToastController,\n} from \"ionic-angular\";\nimport { Storage } from \"@ionic/storage\";\nimport { BulletinSecretService } from \"../../app/bulletinSecret.service\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport { GraphService } from \"../../app/graph.service\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { PeerService } from \"../../app/peer.service\";\nimport { ListPage } from \"../list/list\";\nimport { ProfilePage } from \"../profile/profile\";\nimport { PostModal } from \"./postmodal\";\nimport { OpenGraphParserService } from \"../../app/opengraphparser.service\";\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { FirebaseService } from \"../../app/firebase.service\";\nimport { Http, Headers, RequestOptions } from \"@angular/http\";\nimport { Events } from \"ionic-angular\";\nimport { CompleteTestService } from \"../../app/autocomplete.provider\";\n\ndeclare var forge;\ndeclare var X25519;\ndeclare var firebase;\ndeclare var foobar;\ndeclare var Base64;\ndeclare var shortid;\n\n@Component({\n  selector: \"page-home\",\n  templateUrl: \"home.html\",\n})\nexport class HomePage {\n  postText = null;\n  createdCode = null;\n  scannedCode = null;\n  key = null;\n  blockchainAddress = null;\n  balance = null;\n  items = [];\n  loading = false;\n  loadingBalance = true;\n  loadingModal = null;\n  loadingModal2 = null;\n  phrase = null;\n  color = null;\n  isCordova = null;\n  toggled = {};\n  reacts = {};\n  comments = {};\n  commentInputs = {};\n  ids_to_get = [];\n  comment_ids_to_get = [];\n  commentReacts = {};\n  chatColor: any;\n  friendRequestColor: any;\n  registrationLink: any;\n  signInCode: any;\n  signInColor: any;\n  prefix: any;\n  signedIn: any;\n  txnId: any;\n  location: any;\n  searchResults: any;\n  searchTerm: any;\n  origin: any;\n  identitySkylink: any;\n  invites: any;\n  memberIdentifier: any;\n  busy: any;\n  inviteBusy: any;\n  organizationIdentifier: any;\n  contactIdentifier: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public modalCtrl: ModalController,\n    private storage: Storage,\n    private bulletinSecretService: BulletinSecretService,\n    private alertCtrl: AlertController,\n    private walletService: WalletService,\n    private graphService: GraphService,\n    private transactionService: TransactionService,\n    private openGraphParserService: OpenGraphParserService,\n    private socialSharing: SocialSharing,\n    private settingsService: SettingsService,\n    public loadingCtrl: LoadingController,\n    private ahttp: Http,\n    private firebaseService: FirebaseService,\n    public events: Events,\n    public toastCtrl: ToastController,\n    public peerService: PeerService,\n    public completeTestService: CompleteTestService\n  ) {\n    this.location = window.location;\n    this.origin = encodeURIComponent(this.location.origin);\n    this.prefix = \"usernames-\";\n    this.createdCode = this.bulletinSecretService.identityJson();\n    this.refresh(null);\n    if (this.settingsService.remoteSettings.restricted) {\n      this.busy = true;\n      this.graphService\n        .identityToSkylink(this.bulletinSecretService.identity)\n        .then((skylink) => {\n          this.identitySkylink = skylink;\n          this.busy = false;\n        });\n    }\n  }\n\n  myForm = new FormGroup({\n    searchTerm: new FormControl(\"\", [Validators.required]),\n  });\n\n  submit() {\n    if (!this.myForm.valid) return false;\n    this.navCtrl.push(ProfilePage, { item: this.myForm.value.searchTerm });\n    console.log(this.myForm.value.searchTerm);\n  }\n\n  react(e, item) {\n    this.toggled[item.id] = false;\n    return this.walletService\n      .get()\n      .then(() => {\n        return this.transactionService.generateTransaction({\n          relationship: {\n            react: e.char,\n            id: item.id,\n            username_signature: this.bulletinSecretService.username_signature,\n          },\n        });\n      })\n      .then(() => {\n        return this.transactionService.getFastGraphSignature();\n      })\n      .then((hash) => {\n        return this.transactionService.sendTransaction();\n      })\n      .then(() => {\n        const toast = this.toastCtrl.create({\n          message: \"React sent\",\n          duration: 2000,\n        });\n        return toast.present();\n      })\n      .then(() => {\n        this.graphService.getReacts([item.id]);\n      })\n      .catch((err) => {\n        const toast = this.toastCtrl.create({\n          message: \"Something went wrong with your react!\",\n          duration: 2000,\n        });\n        toast.present();\n      });\n  }\n\n  addOrganization() {\n    console.log(\"submitted\");\n    this.inviteBusy = true;\n    const username_signature = foobar.base64.fromByteArray(\n      this.bulletinSecretService.key\n        .sign(foobar.bitcoin.crypto.sha256(this.organizationIdentifier))\n        .toDER()\n    );\n    let invite: any = {\n      identifier: this.organizationIdentifier,\n      invite_signature: username_signature,\n      parent: this.graphService.toIdentity(this.bulletinSecretService.identity),\n    };\n    this.graphService\n      .inviteToSkylink(invite)\n      .then((skylink) => {\n        invite.skylink = skylink;\n        return fetch(\"/invite-organization\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(invite),\n        });\n      })\n      .then(async (res) => {\n        console.log(await res.json());\n        this.getOrganizations();\n        this.organizationIdentifier = null;\n        this.inviteBusy = false;\n      });\n    return false;\n  }\n\n  getOrganizations() {\n    return fetch(\n      \"/invite-organization?username_signature=\" +\n        encodeURIComponent(\n          this.bulletinSecretService.identity.username_signature\n        )\n    ).then(async (res) => {\n      const result = await res.json();\n      this.invites = [];\n      const users = result.users;\n      users.sort(function (a, b) {\n        try {\n          const ausername = a.user.username;\n          const busername = b.user.username;\n          if (ausername.toLowerCase() < busername.toLowerCase()) return -1;\n          if (ausername.toLowerCase() > busername.toLowerCase()) return 1;\n          return 0;\n        } catch (err) {\n          return 0;\n        }\n      });\n      for (let i = 0; i < users.length; i++) {\n        let user = users[i];\n        this.invites.push(user);\n      }\n    });\n  }\n\n  addOrganizationMember() {\n    console.log(\"submitted\");\n    this.inviteBusy = true;\n    const username_signature = foobar.base64.fromByteArray(\n      this.bulletinSecretService.key\n        .sign(foobar.bitcoin.crypto.sha256(this.memberIdentifier))\n        .toDER()\n    );\n    let invite: any = {\n      identifier: this.memberIdentifier,\n      invite_signature: username_signature,\n      parent: this.graphService.toIdentity(this.bulletinSecretService.identity),\n    };\n    this.graphService\n      .inviteToSkylink(invite)\n      .then((skylink) => {\n        invite.skylink = skylink;\n        return fetch(\"/invite-organization-user\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(invite),\n        });\n      })\n      .then(async (res) => {\n        console.log(await res.json());\n        this.getOrganizationMembers();\n        this.memberIdentifier = null;\n        this.inviteBusy = false;\n      });\n    return false;\n  }\n\n  getOrganizationMembers() {\n    return fetch(\n      \"/invite-organization-user?username_signature=\" +\n        encodeURIComponent(\n          this.bulletinSecretService.identity.username_signature\n        )\n    ).then(async (res) => {\n      const result = await res.json();\n      this.invites = [];\n      const users = result.users;\n      users.sort(function (a, b) {\n        try {\n          const ausername = a.user.username;\n          const busername = b.user.username;\n          if (ausername.toLowerCase() < busername.toLowerCase()) return -1;\n          if (ausername.toLowerCase() > busername.toLowerCase()) return 1;\n          return 0;\n        } catch (err) {\n          return 0;\n        }\n      });\n      for (let i = 0; i < users.length; i++) {\n        let user = users[i];\n        this.invites.push(user);\n      }\n    });\n  }\n\n  addMemberContact() {\n    console.log(\"submitted\");\n    this.inviteBusy = true;\n    const username_signature = foobar.base64.fromByteArray(\n      this.bulletinSecretService.key\n        .sign(foobar.bitcoin.crypto.sha256(this.contactIdentifier))\n        .toDER()\n    );\n    let invite: any = {\n      identifier: this.contactIdentifier,\n      invite_signature: username_signature,\n      parent: this.graphService.toIdentity(this.bulletinSecretService.identity),\n    };\n    this.graphService\n      .inviteToSkylink(invite)\n      .then((skylink) => {\n        invite.skylink = skylink;\n        return fetch(\"/invite-member-contact\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(invite),\n        });\n      })\n      .then(async (res) => {\n        console.log(await res.json());\n        this.getMemberContacts();\n        this.contactIdentifier = null;\n        this.inviteBusy = false;\n      });\n    return false;\n  }\n\n  getMemberContacts() {\n    return fetch(\n      \"/invite-member-contact?username_signature=\" +\n        encodeURIComponent(\n          this.bulletinSecretService.identity.username_signature\n        )\n    ).then(async (res) => {\n      const result = await res.json();\n      this.invites = [];\n      const users = result.users;\n      users.sort(function (a, b) {\n        try {\n          const ausername = a.user.username;\n          const busername = b.user.username;\n          if (ausername.toLowerCase() < busername.toLowerCase()) return -1;\n          if (ausername.toLowerCase() > busername.toLowerCase()) return 1;\n          return 0;\n        } catch (err) {\n          return 0;\n        }\n      });\n      for (let i = 0; i < users.length; i++) {\n        let user = users[i];\n        this.invites.push(user);\n      }\n    });\n  }\n\n  showChat() {\n    var item = { pageTitle: { title: \"Chat\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  showFriendRequests() {\n    var item = { pageTitle: { title: \"Friend Requests\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  refresh(refresher) {\n    this.loading = false;\n    if (this.bulletinSecretService.identity.type === \"admin\") {\n      this.getOrganizations();\n    } else if (this.bulletinSecretService.identity.type === \"organization\") {\n      this.getOrganizationMembers();\n    } else if (\n      this.bulletinSecretService.identity.type === \"organization_member\"\n    ) {\n      this.getMemberContacts();\n    }\n  }\n\n  search() {\n    return this.ahttp\n      .get(\n        this.settingsService.remoteSettings[\"baseUrl\"] +\n          \"/search?searchTerm=\" +\n          this.searchTerm\n      )\n      .subscribe(\n        (res) => {\n          this.searchResults = res.json();\n        },\n        () => {}\n      );\n  }\n\n  // createGeoWallet() {\n  //   return new Promise((resolve, reject) => {\n  //     this.loadingModal = this.loadingCtrl.create({\n  //       content: \"Burying treasure at this location...\",\n  //     });\n  //     return this.loadingModal.present().then(() => {\n  //       return resolve(null);\n  //     });\n  //   })\n  //     .then(() => {\n  //       return this.graphService.createRecovery(\n  //         this.bulletinSecretService.username\n  //       );\n  //     })\n  //     .then(() => {\n  //       return this.loadingModal.dismiss();\n  //     });\n  // }\n\n  createGroup() {\n    return new Promise((resolve, reject) => {\n      let alert = this.alertCtrl.create({\n        title: \"Set group name\",\n        inputs: [\n          {\n            name: \"groupname\",\n            placeholder: \"Group name\",\n          },\n        ],\n        buttons: [\n          {\n            text: \"Save\",\n            handler: (data) => {\n              const toast = this.toastCtrl.create({\n                message: \"Group created\",\n                duration: 2000,\n              });\n              toast.present();\n              resolve(data.groupname);\n            },\n          },\n        ],\n      });\n      alert.present();\n    })\n      .then((groupName) => {\n        return this.graphService.createGroup(groupName);\n      })\n      .then(() => {\n        return this.refresh(null);\n      })\n      .catch((err) => {\n        console.log(err);\n        this.events.publish(\"pages\");\n      });\n  }\n\n  signInToDashboard() {\n    fetch(\"/generate-session-uuid\")\n      .then((res) => {\n        return res.json();\n      })\n      .then((data: any) => {\n        const session_id_signature = foobar.base64.fromByteArray(\n          this.bulletinSecretService.key\n            .sign(foobar.bitcoin.crypto.sha256(data.session_uuid))\n            .toDER()\n        );\n        return fetch(\"/organization-sign-in\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            user: {\n              username_signature:\n                this.bulletinSecretService.identity.username_signature,\n            },\n            session_id_signature: session_id_signature,\n          }),\n        });\n      })\n      .then((res) => {\n        open(\"/dashboard\", \"_blank\");\n      });\n  }\n\n  itemTapped(event, item) {\n    item.pageTitle = \"Posts\";\n    this.navCtrl.push(ListPage, {\n      item: item,\n    });\n  }\n\n  decrypt(message) {\n    var key = forge.pkcs5.pbkdf2(\n      forge.sha256\n        .create()\n        .update(this.bulletinSecretService.key.toWIF())\n        .digest()\n        .toHex(),\n      \"salt\",\n      400,\n      32\n    );\n    var decipher = forge.cipher.createDecipher(\"AES-CBC\", key);\n    var enc = this.hexToBytes(message);\n    decipher.start({ iv: enc.slice(0, 16) });\n    decipher.update(forge.util.createBuffer(enc.slice(16)));\n    decipher.finish();\n    return decipher.output;\n  }\n\n  hexToBytes(s) {\n    var arr = [];\n    for (var i = 0; i < s.length; i += 2) {\n      var c = s.substr(i, 2);\n      arr.push(parseInt(c, 16));\n    }\n    return String.fromCharCode.apply(null, arr);\n  }\n\n  toHex(byteArray) {\n    var callback = function (byte) {\n      return (\"0\" + (byte & 0xff).toString(16)).slice(-2);\n    };\n    return Array.from(byteArray, callback).join(\"\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from \"@angular/core\";\nimport { Storage } from \"@ionic/storage\";\nimport { Http } from \"@angular/http\";\nimport { timeout } from \"rxjs/operators\";\nimport { BulletinSecretService } from \"./bulletinSecret.service\";\nimport { WalletService } from \"./wallet.service\";\nimport { TransactionService } from \"./transaction.service\";\nimport { SettingsService } from \"./settings.service\";\n\ndeclare var X25519;\n\n@Injectable()\nexport class PeerService {\n  loading = false;\n  mode: any;\n  failedSeedPeers: any;\n  peerLocked: any;\n  failedConfigPeers: any;\n  constructor(\n    private ahttp: Http,\n    public walletService: WalletService,\n    public transactionService: TransactionService,\n    public bulletinSecretService: BulletinSecretService,\n    public settingsService: SettingsService,\n    public storage: Storage\n  ) {\n    this.mode = true;\n    this.failedSeedPeers = new Set();\n    this.failedConfigPeers = new Set();\n  }\n\n  go() {\n    if (this.peerLocked)\n      return new Promise((resolve, reject) => {\n        return resolve(null);\n      });\n    return new Promise((resolve, reject) => {\n      var domain =\n        window.location.origin === \"http://localhost:8100\"\n          ? `http://${window.location.hostname}:8005`\n          : window.location.origin;\n      this.settingsService.remoteSettingsUrl = domain;\n      this.settingsService.remoteSettings = {\n        baseUrl: domain,\n        transactionUrl: domain + \"/transaction\",\n        fastgraphUrl: domain + \"/post-fastgraph-transaction\",\n        graphUrl: domain,\n        walletUrl: domain + \"/get-graph-wallet\",\n        websocketUrl: domain + \"/websocket\",\n        loginUrl: domain + \"/login\",\n        registerUrl: domain + \"/create-relationship\",\n        authenticatedUrl: domain + \"/authenticated\",\n        logoData: \"\",\n        identity: {},\n      };\n      return resolve(null);\n    })\n      .then(() => {\n        return this.getConfig();\n      })\n      .then(() => {\n        this.peerLocked = true;\n        return this.storage.set(\"node\", this.settingsService.remoteSettingsUrl);\n      });\n  }\n\n  getConfig() {\n    return new Promise((resolve, reject) => {\n      this.ahttp\n        .get(this.settingsService.remoteSettingsUrl + \"/yada-config\")\n        .pipe(timeout(1000))\n        .subscribe(\n          (res) => {\n            this.loading = false;\n            const remoteSettings = res.json();\n            for (let i = 0; i < Object.keys(remoteSettings).length; i++) {\n              try {\n                let url = new URL(\n                  remoteSettings[Object.keys(remoteSettings)[i]]\n                );\n\n                remoteSettings[Object.keys(remoteSettings)[i]] =\n                  url.protocol +\n                  \"//\" +\n                  (window.location.origin === \"http://localhost:8100\"\n                    ? `${window.location.hostname}:8005`\n                    : window.location.host) +\n                  (url.pathname === \"/\" ? \"\" : url.pathname);\n              } catch (e) {\n                continue;\n              }\n            }\n            this.settingsService.remoteSettings = remoteSettings;\n            resolve(null);\n          },\n          (err) => {\n            this.failedConfigPeers.add(this.settingsService.remoteSettingsUrl);\n            this.loading = false;\n            return reject(\"config\");\n          }\n        );\n    });\n  }\n\n  hexToBytes(s) {\n    var arr = [];\n    for (var i = 0; i < s.length; i += 2) {\n      var c = s.substr(i, 2);\n      arr.push(parseInt(c, 16));\n    }\n    return String.fromCharCode.apply(null, arr);\n  }\n\n  toHex(byteArray) {\n    var callback = function (byte) {\n      return (\"0\" + (byte & 0xff).toString(16)).slice(-2);\n    };\n    return Array.from(byteArray, callback).join(\"\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/peer.service.ts","import { Component, ViewChild } from \"@angular/core\";\nimport { Events, NavController, NavParams } from \"ionic-angular\";\nimport { Storage } from \"@ionic/storage\";\nimport { GraphService } from \"../../app/graph.service\";\nimport { BulletinSecretService } from \"../../app/bulletinSecret.service\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport {\n  AlertController,\n  LoadingController,\n  ToastController,\n} from \"ionic-angular\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { ListPage } from \"../list/list\";\nimport { ProfilePage } from \"../profile/profile\";\nimport { Http } from \"@angular/http\";\nimport { WebSocketService } from \"../../app/websocket.service\";\n\ndeclare var X25519;\ndeclare var foobar;\ndeclare var Base64;\n\n@Component({\n  selector: \"page-chat\",\n  templateUrl: \"chat.html\",\n  queries: {\n    content: new ViewChild(\"content\"),\n    input: new ViewChild(\"input\"),\n  },\n})\nexport class ChatPage {\n  chatText: any;\n  bulletinSecret: any;\n  blockchainAddress: any;\n  chats: any;\n  rid: any;\n  requester_rid: any;\n  requested_rid: any;\n  public_key: any;\n  loading: any;\n  loadingModal: any;\n  content: any;\n  input: any;\n  transaction: any;\n  identity: any;\n  page: any;\n  label: any;\n  busy: any;\n  filepath: any;\n  filedata: any;\n  skylink: any;\n  recipient: any;\n  amount: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public storage: Storage,\n    public walletService: WalletService,\n    public transactionService: TransactionService,\n    public alertCtrl: AlertController,\n    public graphService: GraphService,\n    public loadingCtrl: LoadingController,\n    public bulletinSecretService: BulletinSecretService,\n    public settingsService: SettingsService,\n    public ahttp: Http,\n    public toastCtrl: ToastController,\n    public events: Events,\n    public websocketService: WebSocketService\n  ) {\n    this.identity = this.navParams.get(\"identity\");\n    this.label = this.identity.username;\n    const identity = JSON.parse(\n      JSON.stringify(this.graphService.toIdentity(this.identity))\n    ); //deep copy\n    if (this.graphService.isGroup(identity)) {\n      identity.collection = this.settingsService.collections.GROUP_CHAT;\n    } else {\n      identity.collection = this.settingsService.collections.CHAT;\n    }\n    const rids = this.graphService.generateRids(identity);\n    this.rid = rids.rid;\n    this.requested_rid = rids.requested_rid;\n    this.requester_rid = rids.requester_rid;\n    this.storage.get(\"blockchainAddress\").then((blockchainAddress) => {\n      this.blockchainAddress = blockchainAddress;\n    });\n    this.refresh(null, true);\n    this.events.subscribe(\"newchat\", () => {\n      this.navCtrl.getActive().component.name === \"ChatPage\" &&\n        this.refresh(null);\n    });\n  }\n\n  setRecipient(identity) {\n    this.recipient = identity;\n  }\n\n  removeRecipient() {\n    this.recipient = undefined;\n  }\n\n  parseChats() {\n    const group = this.graphService.isGroup(this.identity);\n    const rid = group ? this.requested_rid : this.rid;\n    if (this.graphService.graph.messages[rid]) {\n      this.chats = this.graphService.graph.messages[rid];\n      this.graphService.sortInt(this.chats, \"time\", true);\n      for (var i = 0; i < this.chats.length; i++) {\n        if (!group) {\n          this.chats[i].relationship.identity =\n            this.chats[i].public_key ===\n            this.bulletinSecretService.identity.public_key\n              ? this.bulletinSecretService.identity\n              : this.graphService.getIdentityFromTxn(\n                  this.graphService.friends_indexed[rid],\n                  this.settingsService.collections.CONTACT\n                );\n        }\n        let datetime = new Date(parseInt(this.chats[i].time) * 1000);\n        this.chats[i].time =\n          datetime.toLocaleDateString() + \" \" + datetime.toLocaleTimeString();\n      }\n    } else {\n      this.chats = [];\n    }\n  }\n\n  refresh(refresher, showLoading = true) {\n    if (showLoading) {\n      this.loading = true;\n    }\n    let collection;\n    if (this.graphService.isGroup(this.identity)) {\n      collection = this.settingsService.collections.GROUP_CHAT;\n    } else {\n      collection = this.settingsService.collections.CHAT;\n    }\n    return this.graphService\n      .getMessages(\n        [\n          this.graphService.groups_indexed[this.requested_rid]\n            ? this.requested_rid\n            : this.rid,\n        ],\n        collection,\n        true\n      )\n      .then(() => {\n        this.loading = false;\n        if (refresher) refresher.complete();\n        return this.parseChats();\n      })\n      .then(() => {\n        setTimeout(() => {\n          this.content && this.content.scrollToBottom(400);\n          this.input.setFocus();\n        }, 500);\n      });\n  }\n\n  changeListener($event) {\n    this.busy = true;\n    this.filepath = $event.target.files[0].name;\n    const reader = new FileReader();\n    reader.readAsDataURL($event.target.files[0]);\n    reader.onload = () => {\n      this.filedata = reader.result.toString().substr(22);\n      this.ahttp\n        .post(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/sia-upload?filename=\" +\n            encodeURIComponent(this.filepath),\n          { file: this.filedata }\n        )\n        .subscribe((res) => {\n          const data = res.json();\n          if (!data.skylink) return;\n          this.skylink = data.skylink;\n          this.busy = false;\n          $event.target.value = null;\n        });\n    };\n    reader.onerror = () => {};\n  }\n\n  viewProfile(item) {\n    let identity = item.relationship.identity;\n    const rid = this.graphService.generateRid(\n      identity.username_signature,\n      this.bulletinSecretService.identity.username_signature\n    );\n    const cached_identity = this.graphService.friends_indexed[rid];\n    this.navCtrl.push(ProfilePage, {\n      identity:\n        this.graphService.getIdentityFromTxn(cached_identity) || identity,\n    });\n  }\n\n  send() {\n    if (this.busy || (!this.chatText && !this.recipient && !this.amount))\n      return;\n    this.busy = true;\n    return this.sendMessagePromise();\n  }\n\n  sendMessagePromise() {\n    return this.walletService\n      .get(this.amount || 0)\n      .then(async () => {\n        if (this.graphService.isGroup(this.identity)) {\n          const group = this.graphService.getIdentityFromTxn(\n            this.graphService.groups_indexed[this.requested_rid],\n            this.settingsService.collections.GROUP\n          );\n          const info: any = {\n            relationship: {\n              identity: this.bulletinSecretService.identity,\n              skylink: this.skylink,\n              filename: this.filepath,\n            },\n            rid: this.rid,\n            requester_rid: this.requester_rid,\n            requested_rid: this.requested_rid,\n            group: true,\n            shared_secret: group.username_signature,\n            outputs: [],\n          };\n          if (this.recipient && this.amount) {\n            info.to = await this.bulletinSecretService.publicKeyToAddress(\n              this.recipient.public_key\n            );\n            info.value = this.amount;\n            info.relationship.recipient = this.recipient;\n          }\n          info.relationship[this.settingsService.collections.GROUP_CHAT] =\n            this.recipient && this.amount\n              ? \"Sent \" + this.amount + \" YDA to \" + this.recipient.username\n              : this.chatText;\n          return this.transactionService.generateTransaction(info);\n        } else {\n          var dh_public_key =\n            this.graphService.keys[this.rid].dh_public_keys[0];\n          var dh_private_key =\n            this.graphService.keys[this.rid].dh_private_keys[0];\n\n          if (dh_public_key && dh_private_key) {\n            var privk = new Uint8Array(\n              dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                return parseInt(h, 16);\n              })\n            );\n            var pubk = new Uint8Array(\n              dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                return parseInt(h, 16);\n              })\n            );\n            var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n            // camera permission was granted\n            const info: any = {\n              dh_public_key: dh_public_key,\n              dh_private_key: dh_private_key,\n              relationship: {\n                skylink: this.skylink,\n                filename: this.filepath,\n              },\n              shared_secret: shared_secret,\n              rid: this.rid,\n              requester_rid: this.requester_rid,\n              requested_rid: this.requested_rid,\n              outputs: [],\n            };\n            if (this.recipient && this.amount) {\n              info.to = await this.bulletinSecretService.publicKeyToAddress(\n                this.recipient.public_key\n              );\n              info.value = this.amount;\n              info.relationship.recipient = this.recipient;\n            }\n            info.relationship[this.settingsService.collections.CHAT] =\n              this.recipient && this.amount\n                ? \"Sent \" + this.amount + \" YDA to \" + this.recipient.username\n                : this.chatText;\n            return this.transactionService.generateTransaction(info);\n          } else {\n            return new Promise((resolve, reject) => {\n              let alert = this.alertCtrl.create();\n              alert.setTitle(\"Friendship not yet processed\");\n              alert.setSubTitle(\"Please wait a few minutes and try again\");\n              alert.addButton(\"Ok\");\n              alert.present();\n              return reject(\"failed to create friend request\");\n            });\n          }\n        }\n      })\n      .then((txn) => {\n        return this.transactionService.sendTransaction();\n      })\n      .then(() => {\n        this.busy = false;\n        this.chatText = \"\";\n        this.skylink = null;\n        this.filedata = null;\n        this.filepath = null;\n        this.recipient = null;\n        this.amount = 0;\n        this.refresh(null);\n      })\n      .catch((err) => {\n        this.busy = false;\n        console.log(err);\n        let alert = this.alertCtrl.create();\n        alert.setTitle(\"Message error\");\n        alert.setSubTitle(err);\n        alert.addButton(\"Ok\");\n        alert.present();\n      });\n  }\n\n  showChat() {\n    var item = { pageTitle: { title: \"Chat\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  showFriendRequests() {\n    var item = { pageTitle: { title: \"Friend Requests\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  toHex(byteArray) {\n    var callback = function (byte) {\n      return (\"0\" + (byte & 0xff).toString(16)).slice(-2);\n    };\n    return Array.from(byteArray, callback).join(\"\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import { Component } from \"@angular/core\";\nimport { NavController, NavParams } from \"ionic-angular\";\nimport { AlertController, LoadingController } from \"ionic-angular\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { BulletinSecretService } from \"../../app/bulletinSecret.service\";\nimport { QRScanner, QRScannerStatus } from \"@ionic-native/qr-scanner\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\nimport { ListPage } from \"../list/list\";\nimport { Http, Headers, RequestOptions } from \"@angular/http\";\n\n@Component({\n  selector: \"page-sendreceive\",\n  templateUrl: \"sendreceive.html\",\n})\nexport class SendReceive {\n  value = null;\n  createdCode = null;\n  address = null;\n  loadingBalance: any;\n  balance = null;\n  isDevice = null;\n  loadingModal: any;\n  past_sent_transactions: String[];\n  past_sent_pending_transactions: String[];\n  past_received_transactions: String[];\n  past_received_pending_transactions: String[];\n  sentPage: any;\n  receivedPage: any;\n  sentPendingPage: any;\n  receivedPendingPage: any;\n  sentPendingLoading: any;\n  receivedPendingLoading: any;\n  sentLoading: any;\n  receivedLoading: any;\n  past_sent_page_cache: any;\n  past_sent_pending_page_cache: any;\n  past_received_page_cache: any;\n  past_received_pending_page_cache: any;\n  identity: any;\n  recipients: any;\n  fee: any;\n  masternode_fee: any;\n  keys: any;\n  selected_masernode_fee_delegate: any;\n  isCrossChain: any;\n  bscAddress: any;\n  wrapAmount: any;\n  constructor(\n    private navCtrl: NavController,\n    private navParams: NavParams,\n    private qrScanner: QRScanner,\n    private transactionService: TransactionService,\n    private alertCtrl: AlertController,\n    private bulletinSecretService: BulletinSecretService,\n    private walletService: WalletService,\n    private socialSharing: SocialSharing,\n    public loadingCtrl: LoadingController,\n    private ahttp: Http,\n    private settingsService: SettingsService\n  ) {\n    if (this.navParams.get(\"identity\")) {\n      this.identity = this.navParams.get(\"identity\");\n      this.bulletinSecretService\n        .publicKeyToAddress(this.identity.public_key)\n        .then((address) => {\n          this.address = address;\n        });\n    }\n    this.recipients = [\n      {\n        to: \"\",\n        value: 0,\n      },\n    ];\n    this.value = 0;\n    this.createdCode = bulletinSecretService.key.getAddress();\n    this.refresh();\n    this.sentPage = 1;\n    this.receivedPage = 1;\n    this.sentPendingPage = 1;\n    this.receivedPendingPage = 1;\n    this.past_sent_transactions = [];\n    this.past_sent_pending_transactions = [];\n    this.past_received_transactions = [];\n    this.past_received_pending_transactions = [];\n    this.sentPendingLoading = false;\n    this.receivedPendingLoading = false;\n    this.sentLoading = false;\n    this.receivedLoading = false;\n    this.past_sent_page_cache = {};\n    this.past_sent_pending_page_cache = {};\n    this.past_received_page_cache = {};\n    this.past_received_pending_page_cache = {};\n    this.fee = 0;\n    this.masternode_fee = 0;\n    this.bulletinSecretService.all().then((keys: any) => {\n      this.keys = keys.filter((item) => {\n        if (item.idx === this.bulletinSecretService.keyname) return false;\n        const username = item.idx.substr(\"username-\".length + 1);\n        item.username = username;\n        return true;\n      });\n    });\n    this.isCrossChain = false;\n    this.bscAddress = \"\";\n    this.wrapAmount = 0;\n  }\n\n  async toggleIsCrossChain() {\n    this.isCrossChain = !this.isCrossChain;\n    if (this.isCrossChain) {\n      this.recipients = [\n        {\n          to: \"16U1gAmHazqqEkbRE9KFPShAperjJreMRA\",\n          value: 0,\n        },\n      ];\n    } else {\n      this.recipients = [\n        {\n          to: \"\",\n          value: 0,\n        },\n      ];\n    }\n  }\n\n  async selectMasterNodeFeeDelegate(key) {\n    const identity = await this.bulletinSecretService.keyToIdentity(key);\n    this.selected_masernode_fee_delegate = identity;\n  }\n\n  scan() {\n    if (\n      !document.URL.startsWith(\"http\") ||\n      document.URL.startsWith(\"http://localhost:8080\")\n    ) {\n      this.isDevice = true;\n    } else {\n      this.isDevice = false;\n    }\n    this.qrScanner.prepare().then((status: QRScannerStatus) => {\n      console.log(status);\n      if (status.authorized) {\n        // start scanning\n        let scanSub = this.qrScanner.scan().subscribe((text: string) => {\n          console.log(\"Scanned address\", text);\n          this.address = text;\n          this.qrScanner.hide(); // hide camera preview\n          scanSub.unsubscribe(); // stop scanning\n          window.document\n            .querySelector(\"ion-app\")\n            .classList.remove(\"transparentBody\");\n        });\n      }\n    });\n    this.qrScanner.resumePreview();\n    // show camera preview\n    this.qrScanner.show();\n    window.document.querySelector(\"ion-app\").classList.add(\"transparentBody\");\n  }\n\n  addRecipient() {\n    this.recipients.push({\n      address: \"\",\n      value: 0,\n    });\n  }\n\n  removeRecipient(index) {\n    this.recipients.splice(index, 1);\n  }\n\n  submit() {\n    const fee = parseFloat(this.fee) || 0;\n    const masternode_fee = parseFloat(this.masternode_fee) || 0;\n    var alert = this.alertCtrl.create();\n    if (!this.isCrossChain && !this.recipients[0].to && masternode_fee === 0) {\n      alert.setTitle(\"Enter an address\");\n      alert.addButton(\"Ok\");\n      alert.present();\n      return;\n    }\n    if (\n      !this.isCrossChain &&\n      !this.recipients[0].value &&\n      masternode_fee === 0\n    ) {\n      alert.setTitle(\"Enter an amount\");\n      alert.addButton(\"Ok\");\n      alert.present();\n      return;\n    }\n    if (this.isCrossChain && !this.bscAddress.includes(\"0x\")) {\n      alert.setTitle(\"Enter a valid BSC Address\");\n      alert.addButton(\"Ok\");\n      alert.present();\n      return;\n    }\n    if (this.isCrossChain && parseFloat(this.wrapAmount) <= 0) {\n      alert.setTitle(\"Enter an amount of yada to wrap\");\n      alert.addButton(\"Ok\");\n      alert.present();\n      return;\n    }\n    if (this.masternode_fee > 0 && !this.selected_masernode_fee_delegate) {\n      alert.setTitle(\n        \"You must select a masternode fee delegate from the list.\"\n      );\n      alert.addButton(\"Ok\");\n      alert.present();\n      return;\n    }\n\n    if (this.isCrossChain) {\n      this.recipients = [\n        {\n          to: \"16U1gAmHazqqEkbRE9KFPShAperjJreMRA\",\n          value: parseFloat(this.wrapAmount),\n        },\n      ];\n    }\n    let total = fee + masternode_fee;\n    this.recipients.map((output, i) => {\n      this.recipients[i].value = parseFloat(output.value);\n      total += parseFloat(output.value);\n    });\n    alert.setTitle(\"Approve Transaction\");\n    alert.setSubTitle(\n      \"You are about to \" +\n        (this.isCrossChain ? \"wrap \" : \"spend \") +\n        total +\n        \" coins\"\n    );\n    alert.addButton(\"Cancel\");\n    alert.addButton({\n      text: \"Confirm\",\n      handler: (data: any) => {\n        this.loadingModal = this.loadingCtrl.create({\n          content: \"Please wait...\",\n        });\n        this.loadingModal.present();\n        this.walletService\n          .get(total)\n          .then(() => {\n            if (this.walletService.wallet.balance < total) {\n              let title = \"Insufficient Funds\";\n              let message = \"Not enough YadaCoins for transaction.\";\n              var alert = this.alertCtrl.create();\n              alert.setTitle(title);\n              alert.setSubTitle(message);\n              alert.addButton(\"Ok\");\n              alert.present();\n              this.value = \"0\";\n              this.address = \"\";\n              this.refresh();\n              this.loadingModal.dismiss().catch(() => {});\n              throw \"insufficient funds\";\n            }\n            if (this.walletService.wallet.unspent_transactions.length > 100) {\n              let title = \"Too many inputs\";\n              let message =\n                \"This transaction requires too many inputs. Send a smaller amount.\";\n              var alert = this.alertCtrl.create();\n              alert.setTitle(title);\n              alert.setSubTitle(message);\n              alert.addButton(\"Ok\");\n              alert.present();\n              this.loadingModal.dismiss().catch(() => {});\n              throw \"Too many inputs, try a smaller amount\";\n            }\n            let clonedRecipients = JSON.parse(JSON.stringify(this.recipients));\n            if (\n              clonedRecipients.length === 1 &&\n              clonedRecipients[0].to === \"\"\n            ) {\n              clonedRecipients = [];\n            }\n            return this.transactionService.generateTransaction({\n              outputs: clonedRecipients,\n              fee: this.fee,\n              masternode_fee: this.masternode_fee,\n              masternode_fee_delegate: this.selected_masernode_fee_delegate\n                ? this.selected_masernode_fee_delegate.address\n                : \"\",\n              isCrossChain: this.isCrossChain,\n              bscAddress: this.bscAddress,\n            });\n          })\n          .then((txn) => {\n            return this.transactionService.sendTransaction(txn);\n          })\n          .then((txn) => {\n            var title = \"Transaction Sent\";\n            var message = \"Your transaction has been sent succefully.\";\n            var alert = this.alertCtrl.create();\n            alert.setTitle(title);\n            alert.setSubTitle(message);\n            alert.addButton(\"Ok\");\n            alert.present();\n            this.value = \"0\";\n            this.address = \"\";\n            this.refresh();\n            this.loadingModal.dismiss().catch(() => {});\n          })\n          .catch((err) => {\n            var alert = this.alertCtrl.create();\n            alert.setTitle(\"Error\");\n            alert.setSubTitle(err);\n            alert.addButton(\"Ok\");\n            alert.present();\n            console.log(err);\n            try {\n              this.loadingModal.dismiss().catch(() => {});\n            } catch (err) {}\n          });\n      },\n    });\n    alert.present();\n  }\n  refresh() {\n    this.loadingBalance = true;\n    return this.walletService\n      .get(this.value)\n      .then(() => {\n        this.loadingBalance = false;\n        this.balance = this.walletService.wallet.balance;\n      })\n      .then(() => {\n        this.getSentHistory();\n      })\n      .then(() => {\n        this.getSentPendingHistory();\n      })\n      .then(() => {\n        this.getReceivedHistory();\n      })\n      .then(() => {\n        this.getReceivedPendingHistory();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  convertDateTime(timestamp) {\n    var a = new Date(timestamp * 1000);\n    var months = [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hour = \"0\" + a.getHours();\n    var min = \"0\" + a.getMinutes();\n    var time =\n      date +\n      \"-\" +\n      month +\n      \"-\" +\n      year +\n      \" \" +\n      hour.substr(-2) +\n      \":\" +\n      min.substr(-2);\n    return time;\n  }\n\n  getSentPendingHistory() {\n    return new Promise((resolve, reject) => {\n      this.sentPendingLoading = true;\n      let options = new RequestOptions({ withCredentials: true });\n      this.ahttp\n        .get(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/get-past-pending-sent-txns?page=\" +\n            this.sentPendingPage +\n            \"&public_key=\" +\n            this.bulletinSecretService.key\n              .getPublicKeyBuffer()\n              .toString(\"hex\") +\n            \"&origin=\" +\n            encodeURIComponent(window.location.origin),\n          options\n        )\n        .subscribe(\n          (res) => {\n            this.sentPendingLoading = false;\n            this.past_sent_pending_transactions = res\n              .json()\n              [\"past_pending_transactions\"].sort(this.sortFunc);\n            this.getSentOutputValue(this.past_sent_pending_transactions);\n            this.past_sent_pending_page_cache[this.sentPendingPage] =\n              this.past_sent_pending_transactions;\n            resolve(res);\n          },\n          (err) => {\n            return reject(\"cannot unlock wallet\");\n          }\n        );\n    });\n  }\n\n  getSentHistory(public_key = null) {\n    return new Promise((resolve, reject) => {\n      this.sentLoading = true;\n      let options = new RequestOptions({ withCredentials: true });\n      this.ahttp\n        .get(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/get-past-sent-txns?page=\" +\n            this.sentPage +\n            \"&public_key=\" +\n            (public_key ||\n              this.bulletinSecretService.key\n                .getPublicKeyBuffer()\n                .toString(\"hex\")) +\n            \"&origin=\" +\n            encodeURIComponent(window.location.origin),\n          options\n        )\n        .subscribe(\n          (res) => {\n            this.sentLoading = false;\n            this.past_sent_transactions = res\n              .json()\n              [\"past_transactions\"].sort(this.sortFunc);\n            this.getSentOutputValue(this.past_sent_transactions);\n            this.past_sent_page_cache[this.sentPage] =\n              this.past_sent_transactions;\n            resolve(res);\n          },\n          (err) => {\n            return reject(\"cannot unlock wallet\");\n          }\n        );\n    });\n  }\n\n  getReceivedPendingHistory() {\n    return new Promise((resolve, reject) => {\n      this.receivedPendingLoading = true;\n      let options = new RequestOptions({ withCredentials: true });\n      this.ahttp\n        .get(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/get-past-pending-received-txns?page=\" +\n            this.receivedPendingPage +\n            \"&public_key=\" +\n            this.bulletinSecretService.key\n              .getPublicKeyBuffer()\n              .toString(\"hex\") +\n            \"&origin=\" +\n            encodeURIComponent(window.location.origin),\n          options\n        )\n        .subscribe(\n          (res) => {\n            this.receivedPendingLoading = false;\n            this.past_received_pending_transactions = res\n              .json()\n              [\"past_pending_transactions\"].sort(this.sortFunc);\n            this.getReceivedOutputValue(\n              this.past_received_pending_transactions\n            );\n            this.past_received_pending_page_cache[this.receivedPendingPage] =\n              this.past_received_pending_transactions;\n            resolve(res);\n          },\n          (err) => {\n            return reject(\"cannot unlock wallet\");\n          }\n        );\n    });\n  }\n\n  getReceivedHistory() {\n    return new Promise((resolve, reject) => {\n      this.receivedLoading = true;\n      let options = new RequestOptions({ withCredentials: true });\n      this.ahttp\n        .get(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/get-past-received-txns?page=\" +\n            this.receivedPage +\n            \"&public_key=\" +\n            this.bulletinSecretService.key\n              .getPublicKeyBuffer()\n              .toString(\"hex\") +\n            \"&origin=\" +\n            encodeURIComponent(window.location.origin),\n          options\n        )\n        .subscribe(\n          (res) => {\n            this.receivedLoading = false;\n            this.past_received_transactions = res\n              .json()\n              [\"past_transactions\"].sort(this.sortFunc);\n            this.getReceivedOutputValue(this.past_received_transactions);\n            this.past_received_page_cache[this.receivedPage] =\n              this.past_received_transactions;\n            resolve(res);\n          },\n          (err) => {\n            return reject(\"cannot unlock wallet\");\n          }\n        );\n    });\n  }\n\n  getReceivedOutputValue(array) {\n    for (var i = 0; i < array.length; i++) {\n      var txn = array[i];\n      if (!array[i][\"value\"]) {\n        array[i][\"value\"] = 0;\n      }\n      for (var j = 0; j < txn[\"outputs\"].length; j++) {\n        var output = txn[\"outputs\"][j];\n        if (this.bulletinSecretService.key.getAddress() === output.to) {\n          array[i][\"value\"] += parseFloat(output.value);\n        }\n      }\n      array[i][\"value\"] = array[i][\"value\"].toFixed(8);\n    }\n  }\n\n  getSentOutputValue(array) {\n    for (var i = 0; i < array.length; i++) {\n      var txn = array[i];\n      if (!array[i][\"value\"]) {\n        array[i][\"value\"] = 0;\n      }\n      for (var j = 0; j < txn[\"outputs\"].length; j++) {\n        var output = txn[\"outputs\"][j];\n        if (this.bulletinSecretService.key.getAddress() !== output.to) {\n          array[i][\"value\"] += parseFloat(output.value);\n        }\n      }\n      array[i][\"value\"] = array[i][\"value\"].toFixed(8);\n    }\n  }\n\n  sortFunc(a, b) {\n    if (parseInt(a.time) < parseInt(b.time)) return 1;\n    if (parseInt(a.time) > parseInt(b.time)) return -1;\n    return 0;\n  }\n\n  prevReceivedPage() {\n    this.receivedPage--;\n    var result = this.past_received_page_cache[this.receivedPage] || [];\n    if (result.length > 0) {\n      this.past_received_transactions = result;\n      return;\n    }\n    return this.getReceivedHistory();\n  }\n\n  nextReceivedPage() {\n    this.receivedPage++;\n    var result = this.past_received_page_cache[this.receivedPage] || [];\n    if (result.length > 0) {\n      this.past_received_transactions = result;\n      return;\n    }\n    return this.getReceivedHistory();\n  }\n\n  prevReceivedPendingPage() {\n    this.receivedPendingPage--;\n    var result =\n      this.past_received_pending_page_cache[this.receivedPendingPage] || [];\n    if (result.length > 0) {\n      this.past_received_pending_transactions = result;\n      return;\n    }\n    return this.getReceivedPendingHistory();\n  }\n\n  nextReceivedPendingPage() {\n    this.receivedPendingPage++;\n    var result = (this.past_received_pending_transactions =\n      this.past_received_pending_page_cache[this.receivedPendingPage] || []);\n    if (result.length > 0) {\n      this.past_sent_transactions = result;\n      return;\n    }\n    return this.getReceivedPendingHistory();\n  }\n\n  prevSentPage() {\n    this.sentPage--;\n    var result = (this.past_sent_transactions =\n      this.past_sent_page_cache[this.sentPage] || []);\n    if (result.length > 0) {\n      this.past_sent_transactions = result;\n      return;\n    }\n    return this.getSentHistory();\n  }\n\n  nextSentPage() {\n    this.sentPage++;\n    var result = this.past_sent_page_cache[this.sentPage] || [];\n    if (result.length > 0) {\n      this.past_sent_transactions = result;\n      return;\n    }\n    return this.getSentHistory();\n  }\n\n  prevSentPendingPage() {\n    this.sentPendingPage--;\n    var result = (this.past_sent_pending_transactions =\n      this.past_sent_pending_page_cache[this.sentPendingPage] || []);\n    if (result.length > 0) {\n      this.past_sent_pending_transactions = result;\n      return;\n    }\n    return this.getSentPendingHistory();\n  }\n\n  nextSentPendingPage() {\n    this.sentPendingPage++;\n    var result = this.past_sent_pending_page_cache[this.sentPendingPage] || [];\n    if (result.length > 0) {\n      this.past_sent_pending_transactions = result;\n      return;\n    }\n    return this.getSentPendingHistory();\n  }\n\n  shareAddress() {\n    this.socialSharing.share(\n      this.bulletinSecretService.key.getAddress(),\n      \"Send Yada Coin to this address!\"\n    );\n  }\n\n  showChat() {\n    var item = { pageTitle: { title: \"Chat\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  showFriendRequests() {\n    var item = { pageTitle: { title: \"Friend Requests\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sendreceive/sendreceive.ts","import { Component, ViewChild, OnInit, Inject, LOCALE_ID } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ComposePage } from '../mail/compose';\nimport { MailItemPage } from '../mail/mailitem';\n\n\n@Component({\n  selector: 'page-calendar',\n  templateUrl: 'calendar.html'\n})\nexport class CalendarPage {\n  calendar: any;\n  loading: boolean;\n  constructor(\n    public navCtrl: NavController,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService\n  ) {\n    this.getCalendar({});\n  }\n\n  addZeros(date) {\n    return ('00' + date).substr(-2, 2)\n  }\n\n  ionViewDidEnter() {\n    return new Promise((resolve, reject) => {\n      this.loading = true;\n      let rids = [this.graphService.generateRid(\n        this.bulletinSecretService.identity.username_signature,\n        this.bulletinSecretService.identity.username_signature,\n        this.settingsService.collections.CALENDAR\n      )]\n      let group_rids = [];\n      for (let i=0; i < this.graphService.graph.groups.length; i++) {\n        const group = this.graphService.getIdentityFromTxn(\n          this.graphService.graph.groups[i],\n          this.settingsService.collections.GROUP\n        );\n        group_rids.push(this.graphService.generateRid(\n          group.username_signature,\n          group.username_signature,\n          this.settingsService.collections.CALENDAR\n        ))\n        group_rids.push(this.graphService.generateRid(\n          group.username_signature,\n          group.username_signature,\n          this.settingsService.collections.GROUP_CALENDAR\n        ))\n      }\n      let file_rids = [];\n      for (let i=0; i < this.graphService.graph.files.length; i++) {\n        const file = this.graphService.getIdentityFromTxn(this.graphService.graph.files[i]);\n        file_rids.push(this.graphService.generateRid(\n          file.username_signature,\n          file.username_signature,\n          this.settingsService.collections.CALENDAR\n        ))\n        file_rids.push(this.graphService.generateRid(\n          file.username_signature,\n          file.username_signature,\n          this.settingsService.collections.GROUP_CALENDAR\n        ))\n      }\n      if (group_rids.length > 0) {\n        rids = rids.concat(group_rids);\n      }\n      if (file_rids.length > 0) {\n        rids = rids.concat(file_rids);\n      }\n      return resolve(rids);\n    })\n    .then((rids) => {\n      return this.graphService.getCalendar(rids)\n    })\n    .then((data) => {\n\n      let events = {};\n      this.graphService.graph.calendar.map((txn) => {\n        const group = this.graphService.getIdentityFromTxn(\n          this.graphService.groups_indexed[txn.requested_rid],\n          this.settingsService.collections.GROUP\n        );\n        const event = txn.relationship[this.settingsService.collections.CALENDAR] ||\n                      txn.relationship[this.settingsService.collections.GROUP_CALENDAR];\n        const eventDate = event.event_datetime;\n        const index = eventDate.getFullYear() + this.addZeros(eventDate.getMonth()) + this.addZeros(eventDate.getDate());\n        if (!events[index]) {\n          events[index] = []\n        }\n        let altSender = this.graphService.getIdentityFromTxn(\n          this.graphService.friends_indexed[txn.rid],\n          this.settingsService.collections.CONTACT\n        )\n        events[index].push({\n          group: group || null,\n          sender: event.sender || altSender,\n          subject: event.subject,\n          body: event.body,\n          datetime: new Date(parseInt(txn.time)*1000).toISOString().slice(0, 19).replace('T', ' '),\n          id: txn.id,\n          message_type: event.message_type,\n          event_datetime: event.event_datetime\n        });\n      });\n      this.getCalendar(events);\n      this.loading = false;\n    })\n  }\n\n  itemTapped(event, item) {\n    this.navCtrl.push(MailItemPage, {\n      item: item\n    });\n  }\n\n  createEvent(event, item) {\n    this.navCtrl.push(ComposePage, {\n      item: {\n        message_type: 'calendar'\n      }\n    });\n  }\n\n  getCalendar(events) {\n    this.calendar = {\n      rows: [\n        {\n          days: [{}]\n        }\n      ]\n    };\n    const date = new Date();\n    const month = date.getMonth();\n    const year = date.getFullYear();\n    const fistDay = new Date(year, month);\n    const day = fistDay.getDay();\n    for(let i=0; i < 100; i++) {\n      if (i < day) {\n        if(this.calendar.rows.length === 0) {\n          this.calendar.rows.push({\n            days: []\n          });\n        }\n        this.calendar.rows[0].days.push({})\n        continue;\n      }\n      let calDate = new Date(year, month, fistDay.getDate() + i - day)\n      if(calDate.getMonth() > month) break;\n      if(calDate.getFullYear() > year) break;\n      const index = calDate.getFullYear() + this.addZeros(calDate.getMonth()) + this.addZeros(calDate.getDate());\n      if (this.calendar.rows[this.calendar.rows.length - 1].days.length >= 8) {\n        this.calendar.rows.push({\n          days: [{}]\n        })\n      }\n      this.calendar.rows[this.calendar.rows.length - 1].days.push({\n        date: calDate,\n        events: events[index]\n      })\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calendar/calendar.ts","import { Component } from '@angular/core';\nimport { Events, NavController, NavParams } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { CreateAssetPage } from './createasset';\nimport { AssetItemPage } from './assetitem';\n\n\n@Component({\n  selector: 'assets',\n  templateUrl: 'assets.html'\n})\nexport class AssetsPage {\n  items = []\n  loading = false;\n  rids: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public graphService: GraphService,\n    public bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService,\n    private events: Events\n  ) {\n    this.loading = true;\n    let rids = [this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.ASSET\n    )];\n    this.rids = rids\n  }\n\n  ionViewDidEnter() {\n    this.refresh()\n  }\n\n  refresh() {\n    return this.graphService.getAssets(this.rids)\n    .then((items) => {\n      this.loading = false;\n      this.items = items.filter((item) => {\n        try {\n          return item.relationship[this.settingsService.collections.ASSET].data.substr(0, 5) === 'data:'\n        } catch(err) {\n          return false;\n        }        \n      });\n    });\n  }\n\n  itemTapped(event, item) {\n    this.navCtrl.push(AssetItemPage, {\n      item: item\n    });\n  }\n\n  createAsset() {\n    this.navCtrl.push(CreateAssetPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/assets/assets.ts","import { Injectable } from '@angular/core';\nimport { Firebase } from '@ionic-native/firebase';\nimport { GraphService } from './graph.service';\nimport { SettingsService } from './settings.service';\nimport { Http } from '@angular/http';\n\n\n@Injectable()\nexport class FirebaseService {\n  constructor(\n    private settingsService: SettingsService,\n    private graphService: GraphService,\n    public firebase: Firebase,\n    private ahttp: Http\n  ) {}\n\n  initFirebase() {\n    if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n      this.firebase.getToken()\n      .then((token) => {\n        console.log(token);\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/fcm-token', {\n          rid: this.graphService.graph.rid,\n          token: token,\n        }).subscribe(() => {});\n      })\n      .catch((error) => {\n          console.log('Error getting token', error)\n      });\n\n      this.firebase.onTokenRefresh()\n      .subscribe((token: string) => {\n        console.log(token);\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/fcm-token', {\n          rid: this.graphService.graph.rid,\n          token: token\n        }).subscribe(() => {});\n      });\n\n      this.firebase.onNotificationOpen().subscribe(notification => {\n        console.log(notification);\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/firebase.service.ts","import { Component } from '@angular/core';\nimport { Events, NavController, NavParams } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ComposePage } from './compose';\nimport { MailItemPage } from './mailitem';\n\n\n@Component({\n  selector: 'mail-profile',\n  templateUrl: 'mail.html'\n})\nexport class MailPage {\n  items = []\n  loading = false;\n  rids: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public graphService: GraphService,\n    public bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService,\n    private events: Events\n  ) {\n    this.loading = true;\n    let rids = [this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.MAIL\n    ),\n    this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.CONTRACT\n    ),\n    this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.CONTRACT_SIGNED\n    ),\n    this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.CALENDAR\n    )];\n    let group_rids = [];\n    for (let i=0; i < this.graphService.graph.groups.length; i++) {\n      const group = this.graphService.getIdentityFromTxn(this.graphService.graph.groups[i]);\n      group_rids.push(this.graphService.generateRid(\n        group.username_signature,\n        group.username_signature,\n        this.settingsService.collections.GROUP_MAIL\n      ))\n    }\n    let file_rids = [];\n    for (let i=0; i < this.graphService.graph.files.length; i++) {\n      const group = this.graphService.getIdentityFromTxn(this.graphService.graph.files[i]);\n      file_rids.push(this.graphService.generateRid(\n        group.username_signature,\n        group.username_signature,\n        this.settingsService.collections.GROUP_MAIL\n      ))\n    }\n    if (group_rids.length > 0) {\n      rids = rids.concat(group_rids);\n    }\n    if (file_rids.length > 0) {\n      rids = rids.concat(file_rids);\n    }\n    this.rids = rids\n    this.events.subscribe('newmail', () => {this.refresh()})\n    this.refresh()\n  }\n\n  refresh() {\n    return this.graphService.getMail(this.rids, this.settingsService.collections.MAIL)\n    .then(() => {\n      return this.graphService.getMail(this.rids, this.settingsService.collections.GROUP_MAIL)\n    })\n    .then(() => {\n      this.items = this.graphService.prepareMailItems(this.navParams.data.pageTitle.label)\n      this.loading = false;\n    })\n  }\n\n  itemTapped(event, item) {\n    this.navCtrl.push(MailItemPage, {\n      item: item\n    });\n  }\n\n  composeMail() {\n    this.navCtrl.push(ComposePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mail/mail.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { WebSocketService } from '../../app/websocket.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { CompleteTestService } from '../../app/autocomplete.provider';\n\n\ndeclare var foobar;\n\n@Component({\n    selector: 'page-web',\n    templateUrl: 'web.html'\n})\nexport class WebPage {\n    recipient: any;\n    resource: any;\n    content: any;\n    challenge: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        private websocketService: WebSocketService,\n        private completeTestService: CompleteTestService\n    ) {\n      this.recipient = this.navParams.get('recipient')\n      this.resource = this.navParams.get('resource')\n      this.content = this.navParams.get('content')\n    }\n\n\n    go() {\n      return new Promise((resolve, reject) => {\n        return this.websocketService.directMessageRequest(\n          this.recipient,\n          this.settingsService.collections.WEB_PAGE_REQUEST,\n          { resource: this.resource },\n          resolve\n        )\n      })\n      .then((item: any) => {\n        return this.content = item.relationship[this.settingsService.collections.WEB_PAGE_RESPONSE].content;\n      })\n    }\n\n    signIn() {\n      let identity;\n      let url;\n      const key = foobar.bitcoin.ECPair.makeRandom();\n      return new Promise((resolve, reject) => {\n        return this.websocketService.directMessageRequest(\n          this.recipient,\n          this.settingsService.collections.WEB_CHALLENGE_REQUEST,\n          {},\n          resolve\n        )\n      })\n      .then((item: any) => {\n        const username = item.relationship[this.settingsService.collections.WEB_CHALLENGE_RESPONSE].challenge;\n        identity = {\n          wif: key.toWIF(),\n          username: username,\n          username_signature: foobar.base64.fromByteArray(key.sign(foobar.bitcoin.crypto.sha256(username)).toDER()),\n          public_key: key.getPublicKeyBuffer().toString('hex')\n        }\n        url = item.relationship[this.settingsService.collections.WEB_CHALLENGE_RESPONSE].url;\n        return new Promise((resolve, reject) => {\n          return this.websocketService.directMessageRequest(\n            this.recipient,\n            this.settingsService.collections.WEB_SIGNIN_REQUEST,\n            identity,\n            resolve\n          )\n        })\n      })\n      .then((identityTxn: any) => {\n        if (identity.wif !== identityTxn.relationship[this.settingsService.collections.WEB_SIGNIN_RESPONSE].wif) return;\n        if (identity.username !== identityTxn.relationship[this.settingsService.collections.WEB_SIGNIN_RESPONSE].username) return;\n        var iframe;\n        iframe = document.createElement('iframe');\n        iframe.id = 'myFrame';\n        const urlObject = new URL(url)\n        iframe.src = urlObject.href;\n        iframe.style.display = 'none';\n        document.body.appendChild(iframe);\n        iframe.onload = () => {\n          window.frames['myFrame'].contentWindow.postMessage(identity, urlObject.origin);\n          window.open(urlObject.href, '_blank')\n          iframe.parentNode.removeChild(iframe);\n        }\n      })\n    }\n\n    myForm = new FormGroup({\n        searchTerm: new FormControl('', [Validators.required])\n    })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/web/web.ts","import { Component } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { WebSocketService } from '../../app/websocket.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\n\ndeclare var X25519;\n\n@Component({\n    selector: 'page-buildpage',\n    templateUrl: 'buildpage.html'\n})\nexport class BuildPagePage {\n  resource: any;\n    pageText: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        private websocketService: WebSocketService,\n        private transactionService: TransactionService,\n        private alertCtrl: AlertController\n    ) {}\n\n    save() {\n      let alert = this.alertCtrl.create();\n      alert.setTitle('Create web page');\n      alert.setSubTitle('Are you sure you want to save this page?');\n      alert.addButton({\n          text: 'Continue editing'\n      });\n      alert.addButton({\n          text: 'Save',\n          handler: (data: any) => {\n            this.resource = '';\n            this.pageText = '';\n            let identity = this.graphService.toIdentity(JSON.parse(this.bulletinSecretService.identityJson()))\n            identity.collection = this.settingsService.collections.WEB_PAGE;\n            const rids = this.graphService.generateRids(identity)\n            this.websocketService.newtxn({resource: this.resource, content: this.pageText}, rids, this.settingsService.collections.WEB_PAGE)\n          }\n      });\n      alert.present();\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/web/buildpage.ts","import { Injectable } from \"@angular/core\";\nimport { BulletinSecretService } from \"./bulletinSecret.service\";\nimport { SettingsService } from \"./settings.service\";\nimport { Http, RequestOptions, Headers } from \"@angular/http\";\nimport { timeout } from \"rxjs/operators\";\n\n@Injectable()\nexport class WalletService {\n  wallet: any;\n  walletproviderAddress: any;\n  xhr: any;\n  key: any;\n  walletError = false;\n  constructor(\n    private ahttp: Http,\n    private bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService\n  ) {\n    this.wallet = {\n      balance: 0,\n      unspent_transactions: [],\n    };\n  }\n\n  get(amount_needed = 0, address = null) {\n    return new Promise((resolve, reject) => {\n      if (\n        !this.settingsService.remoteSettings ||\n        !this.settingsService.remoteSettings[\"walletUrl\"]\n      )\n        return resolve(null);\n      return this.walletPromise(amount_needed, address)\n        .then((wallet) => {\n          return resolve(wallet);\n        })\n        .catch((err) => {\n          return reject(err);\n        });\n    });\n  }\n\n  walletPromise(amount_needed = 0, address = null) {\n    return new Promise((resolve, reject) => {\n      if (!this.settingsService.remoteSettings[\"walletUrl\"]) {\n        return reject(\"no wallet url\");\n      }\n      if (this.bulletinSecretService.username) {\n        let headers = new Headers();\n        headers.append(\n          \"Authorization\",\n          \"Bearer \" +\n            this.settingsService.tokens[this.bulletinSecretService.keyname]\n        );\n        let options = new RequestOptions({\n          headers: headers,\n          withCredentials: true,\n        });\n        return this.ahttp\n          .get(\n            this.settingsService.remoteSettings[\"walletUrl\"] +\n              \"?amount_needed=\" +\n              amount_needed +\n              \"&address=\" +\n              (address || this.bulletinSecretService.key.getAddress()) +\n              \"&username_signature=\" +\n              this.bulletinSecretService.username_signature +\n              \"&origin=\" +\n              window.location.origin,\n            options\n          )\n          .pipe(timeout(30000))\n          .subscribe(\n            async (data) => {\n              if (data[\"_body\"]) {\n                const wallet = await data.json();\n                if (!address) {\n                  this.walletError = false;\n                  this.wallet = wallet;\n                  this.wallet.balance = parseFloat(this.wallet.balance); //pasefloat\n                  this.wallet.pending_balance = parseFloat(\n                    this.wallet.pending_balance\n                  ); //pasefloat\n                  this.wallet.balancePretty = this.wallet.balance.toFixed(2);\n                  this.wallet.pendingBalancePretty =\n                    this.wallet.pending_balance.toFixed(2);\n                }\n                return resolve(wallet);\n              } else {\n                this.walletError = true;\n                this.wallet = {};\n                this.wallet.balancePretty = 0;\n                this.wallet.pendingBalancePretty = 0;\n                return reject(\"no data returned\");\n              }\n            },\n            (err) => {\n              this.walletError = true;\n              return reject(\"data or server error\");\n            }\n          );\n      } else {\n        this.walletError = true;\n        return reject(\"username not set\");\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/wallet.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 267;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 267\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 309;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 309\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { SettingsService } from './settings.service';\nimport { Http, RequestOptions, Headers } from '@angular/http';\nimport { timeout } from 'rxjs/operators';\nimport { Events, LoadingController } from 'ionic-angular';\nimport { GraphService } from './graph.service';\nimport { TransactionService } from './transaction.service';\n\n\ndeclare var uuid4;\ndeclare var X25519;\n\n@Injectable()\nexport class WebSocketService {\n  websocket: any;\n  loadingModal: any;\n  directMessageRequestResolve: any;\n  reconnectInterval: any;\n  constructor(\n    private ahttp: Http,\n    private bulletinSecretService: BulletinSecretService,\n    private settingsService: SettingsService,\n    private graphService: GraphService,\n    private transactionService: TransactionService,\n    private events: Events\n  ) {}\n\n  init() {\n    if (this.websocket && this.websocket.readyState > 1) {\n      this.websocket.close()\n    };\n    this.websocket = new WebSocket(this.settingsService.remoteSettings.websocketUrl);\n    this.websocket.onopen = this.onOpen.bind(this);\n    this.websocket.onmessage = this.onMessage.bind(this);\n    this.websocket.onerror = (err) => {\n      console.error('Socket encountered error: ', err.message, 'Closing socket');\n      this.websocket.close();\n    };\n    this.websocket.onclose = (e) => {\n      console.log('Socket is closed. Reconnect will be attempted in 1 second.', e.reason);\n      setTimeout(() => {\n        this.init();\n      }, 1000);\n    };\n  }\n\n  onOpen(event) {\n    this.connect()\n    console.log(event.data);\n  }\n\n  onMessage(event) {\n    let directMessageResponseCount;\n    let directMessageResponseCounts;\n    const msg = JSON.parse(event.data);\n    console.log(msg);\n    switch (msg.method) {\n      case 'connect_confirm':\n        for (let i=0; i < this.graphService.graph.groups.length; i++) {\n          let group = this.graphService.getIdentityFromTxn(\n            this.graphService.graph.groups[i],\n            this.settingsService.collections.GROUP\n          )\n          this.joinGroup(group)\n        }\n        break;\n      case 'join_confirmed':\n        // const members = msg.result.members;\n        // for (let i=0; i < Object.keys(members).length; i++) {\n        //   let requested_rid = Object.keys(members)[i];\n        //   let group_members = members[requested_rid];\n        //   if(!this.graphService.online[requested_rid]) this.graphService.online[requested_rid] = [];\n        //   this.graphService.online[requested_rid] = this.graphService.online[requested_rid].concat(group_members)\n        // }\n        break;\n      case 'newtxn':\n        if (msg.params.transaction.public_key === this.bulletinSecretService.identity.public_key) return;\n        const collection = this.graphService.getNewTxnCollection(msg.params.transaction)\n        if (collection) {\n          switch (collection) {\n            case this.settingsService.collections.CONTACT:\n              this.graphService.parseFriendRequests([msg.params.transaction])\n              this.graphService.refreshFriendsAndGroups()\n              .then(() => {\n                return this.graphService.addNotification(msg.params.transaction, this.settingsService.collections.CONTACT);\n              })\n              break;\n            case this.settingsService.collections.CALENDAR:\n              const calendar = this.graphService.parseCalendar([msg.params.transaction])\n              return this.graphService.addNotification(calendar, this.settingsService.collections.CALENDAR);\n              break;\n            case this.settingsService.collections.GROUP_CALENDAR:\n              const group_calendar = this.graphService.parseCalendar([msg.params.transaction])\n              return this.graphService.addNotification(group_calendar, this.settingsService.collections.GROUP_CALENDAR);\n              break;\n            case this.settingsService.collections.CHAT:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                'new_messages_counts',\n                'new_messages_count',\n                msg.params.transaction.rid,\n                this.settingsService.collections.CHAT,\n                'last_message_height'\n              )\n              .then((item) => {\n                if (!this.graphService.graph.messages[msg.params.transaction.rid]) {\n                  this.graphService.graph.messages[msg.params.transaction.rid] = []\n                }\n                this.graphService.graph.messages[msg.params.transaction.rid].push(item[0])\n                this.events.publish('newchat')\n                return this.graphService.addNotification(item[0], this.settingsService.collections.CHAT);\n              })\n              break;\n            case this.settingsService.collections.CONTRACT:\n              break;\n            case this.settingsService.collections.CONTRACT_SIGNED:\n              break;\n            case this.settingsService.collections.GROUP_CHAT:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                'new_group_messages_counts',\n                'new_group_messages_count',\n                msg.params.transaction.rid,\n                this.settingsService.collections.GROUP_CHAT,\n                'last_group_message_height'\n              )\n              .then((item) => {\n                if (!this.graphService.graph.messages[msg.params.transaction.requested_rid]) {\n                  this.graphService.graph.messages[msg.params.transaction.requested_rid] = []\n                }\n                this.graphService.graph.messages[msg.params.transaction.requested_rid].push(item[0])\n                this.events.publish('newchat')\n                return this.graphService.addNotification(item[0], this.settingsService.collections.GROUP_CHAT);\n              })\n              break;\n            case this.settingsService.collections.GROUP_MAIL:\n              this.graphService.parseMail(\n                [msg.params.transaction],\n                'new_sent_mail_counts',\n                'new_sent_mail_count',\n                undefined,\n                this.settingsService.collections.GROUP_MAIL,\n                'last_sent_mail_height'\n              )\n              .then((item) => {\n                this.events.publish('newmail')\n                return this.graphService.addNotification(item, this.settingsService.collections.GROUP_MAIL);\n              })\n              break;\n            case this.settingsService.collections.MAIL:\n              let mailCount;\n              let mailCounts;\n              this.graphService.parseMail(\n                [msg.params.transaction],\n                mailCount,\n                mailCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.MAIL\n              )\n              .then((item) => {\n                this.events.publish('newmail')\n                return this.graphService.addNotification(item, this.settingsService.collections.MAIL);\n              })\n              break;\n            case this.settingsService.collections.PERMISSION_REQUEST:\n              break;\n            case this.settingsService.collections.SIGNATURE_REQUEST:\n              let permissionRequestCount;\n              let permissionRequestCounts;\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                permissionRequestCount,\n                permissionRequestCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.SIGNATURE_REQUEST\n              )\n              .then((item) => {\n                return this.graphService.addNotification(item[msg.params.transaction.rid][0], this.settingsService.collections.SIGNATURE_REQUEST);\n              })\n              break;\n            case this.settingsService.collections.WEB_CHALLENGE_REQUEST:\n              let directMessageRequestCount;\n              let directMessageRequestCounts;\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                directMessageRequestCount,\n                directMessageRequestCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_CHALLENGE_REQUEST\n              )\n              .then((items: any) => {\n                this.directMessageResponse(\n                  msg.params.transaction.rid,\n                  this.settingsService.collections.WEB_CHALLENGE_RESPONSE,\n                  {\n                    challenge: uuid4(),\n                    url: this.settingsService.remoteSettings.webSignInUrl\n                  }\n                )\n              })\n              break;\n            case this.settingsService.collections.WEB_CHALLENGE_RESPONSE:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                directMessageResponseCount,\n                directMessageResponseCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_CHALLENGE_RESPONSE\n              )\n              .then((items: any) => {\n                return this.directMessageRequestResolve(items[msg.params.transaction.rid][0])\n              })\n              break;\n            case this.settingsService.collections.WEB_SIGNIN_REQUEST:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                directMessageRequestCount,\n                directMessageRequestCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_SIGNIN_REQUEST\n              )\n              .then((items: any) => {\n                this.directMessageResponse(\n                  msg.params.transaction.rid,\n                  this.settingsService.collections.WEB_SIGNIN_RESPONSE,\n                  items[msg.params.transaction.rid][0].relationship[this.settingsService.collections.WEB_SIGNIN_REQUEST]\n                )\n              })\n              break;\n            case this.settingsService.collections.WEB_SIGNIN_RESPONSE:\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                directMessageResponseCount,\n                directMessageResponseCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_SIGNIN_RESPONSE\n              )\n              .then((items: any) => {\n                return this.directMessageRequestResolve(items[msg.params.transaction.rid][0])\n              })\n              break;\n            case this.settingsService.collections.WEB_PAGE:\n              const webpage = this.graphService.parseMyPages([msg.params.transaction]);\n              this.graphService.addNotification(webpage, this.settingsService.collections.WEB_PAGE);\n              break;\n            case this.settingsService.collections.WEB_PAGE_REQUEST:\n              let webRequestCount;\n              let webRequestCounts;\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                webRequestCount,\n                webRequestCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_PAGE_REQUEST\n              )\n              .then((items: any) => {\n                let myRids2 = [this.graphService.generateRid(\n                  this.bulletinSecretService.identity.username_signature,\n                  this.bulletinSecretService.identity.username_signature,\n                  this.settingsService.collections.WEB_PAGE\n                )];\n                return this.graphService.getMyPages(myRids2)\n              })\n              .then((items: any) => {\n                const request = msg.params.transaction\n                const myPages = this.graphService.graph.mypages.filter(item2 => {\n                  return item2.relationship[this.settingsService.collections.WEB_PAGE].resource === request.relationship[this.settingsService.collections.WEB_PAGE_REQUEST].resource\n                })\n                let webResponse;\n                if (myPages[0]) {\n                  webResponse = {\n                    resource: myPages[0].relationship[this.settingsService.collections.WEB_PAGE].resource,\n                    content: myPages[0].relationship[this.settingsService.collections.WEB_PAGE].content\n                  }\n                } else {\n                  webResponse = {\n                    resource: request.relationship[this.settingsService.collections.WEB_PAGE_REQUEST].resource,\n                    content: 'Page not found for resource.'\n                  }\n                }\n                this.directMessageResponse(\n                  msg.params.transaction.rid,\n                  this.settingsService.collections.WEB_PAGE_RESPONSE,\n                  webResponse\n                )\n              })\n              break;\n            case this.settingsService.collections.WEB_PAGE_RESPONSE:\n              let webResponseCount;\n              let webResponseCounts;\n              this.graphService.parseMessages(\n                [msg.params.transaction],\n                webResponseCount,\n                webResponseCounts,\n                msg.params.transaction.rid,\n                this.settingsService.collections.WEB_PAGE_RESPONSE\n              )\n              .then((items: any) => {\n                return this.directMessageRequestResolve(items[msg.params.transaction.rid][0])\n              })\n              break;\n          }\n\n        }\n        break\n\n      case 'newblock':\n        const block = msg.params.payload.block\n        block.height = block.index\n        this.settingsService.latest_block = block;\n        break\n    }\n  }\n\n  connect() {\n    this.websocket.send(JSON.stringify({\n        id: '',\n        jsonrpc: 2.0,\n        method: 'connect',\n        params: {\n            identity: this.graphService.toIdentity(this.bulletinSecretService.identity)\n        }\n    }))\n  }\n\n  joinGroup(identity) {\n    return this.websocket.send(JSON.stringify({\n        id: '',\n        jsonrpc: 2.0,\n        method: 'join_group',\n        params: identity\n    }))\n  }\n\n  newtxn(item, rids, collection, shared_secret=null, extra_data={}): Promise<void> {\n\n    const request:any = {\n        ...rids,\n        relationship: {},\n        ...extra_data\n    }\n    if (shared_secret) {\n        request.shared_secret = shared_secret\n    }\n    request.relationship[collection] = item\n    return this.transactionService.generateTransaction(request)\n    .then((txn):any => {\n        this.sendnewtxn();\n        return txn;\n    })\n  }\n\n  directMessageRequest(identity, collection, relationship, resolve) {\n    this.directMessageRequestResolve = resolve\n    identity.collection = collection;\n    const rids = this.graphService.generateRids(identity)\n    var dh_public_key = this.graphService.keys[rids.rid].dh_public_keys[0];\n    var dh_private_key = this.graphService.keys[rids.rid].dh_private_keys[0];\n\n    var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16)\n    }));\n    var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16)\n    }));\n    var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n    let request = {\n      ...rids,\n      relationship: {},\n      shared_secret: shared_secret\n    }\n    request.relationship[collection] = relationship\n    this.transactionService.generateTransaction(request)\n    .then(() => {\n        this.sendnewtxn()\n    })\n  }\n\n  directMessageResponse(rid, collection, relationship) {\n    const myRids = this.graphService.generateRids(this.bulletinSecretService.identity)\n    let recipient;\n    if (this.graphService.friends_indexed[rid]) {\n      recipient = this.graphService.getIdentityFromTxn(\n        this.graphService.friends_indexed[rid],\n        this.settingsService.collections.CONTACT\n      )\n    }\n\n    if (myRids.rid == rid){\n      recipient = this.bulletinSecretService.identity\n    }\n\n    if (!recipient) return;\n\n    recipient.collection = collection;\n    const rids = this.graphService.generateRids(recipient)\n    var dh_public_key = this.graphService.keys[rids.rid].dh_public_keys[0];\n    var dh_private_key = this.graphService.keys[rids.rid].dh_private_keys[0];\n\n    var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16)\n    }));\n    var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n        return parseInt(h, 16)\n    }));\n    var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n    let request = {\n      ...rids,\n      relationship: {},\n      shared_secret\n    }\n    request.relationship[collection] = relationship;\n    return this.transactionService.generateTransaction(request)\n    .then(() => {\n      this.sendnewtxn()\n    })\n  }\n\n  sendnewtxn() {\n    return this.websocket.send(JSON.stringify({\n      id: '',\n      jsonrpc: 2.0,\n      method: 'newtxn',\n      params: {\n          transaction: this.transactionService.transaction\n      }\n    }))\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/websocket.service.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\n\n\n@Component({\n    selector: 'page-signaturerequest',\n    templateUrl: 'signaturerequest.html'\n})\nexport class SignatureRequestPage {\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n    ) {}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signaturerequest/signaturerequest.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { SmartContractService } from '../../app/smartContract.service';\nimport { AssetsPage } from '../assets/assets';\nimport { CreatePromoPage } from './createpromo';\nimport { CreateSalePage } from './createsale';\nimport { MarketItemPage } from './marketitem';\n\n\n@Component({\n  selector: 'market-page',\n  templateUrl: 'market.html'\n})\nexport class MarketPage {\n  item: any;\n  market: any;\n  smartContracts: any;\n  prevHeight: any;\n  constructor(\n    private navCtrl: NavController,\n    private navParams: NavParams,\n    private graphService: GraphService,\n    private settingsService: SettingsService,\n    private smartContractService: SmartContractService\n  ) {\n    this.item = this.navParams.get('item')\n    this.market = this.item.relationship[this.settingsService.collections.MARKET]\n    setInterval(() => {\n      if(this.prevHeight < this.settingsService.latest_block.height) this.refresh();\n    }, 1000)\n  }\n\n  ionViewDidEnter() {\n    this.refresh()\n  }\n\n  refresh(e=null) {\n    this.graphService.getBlockHeight()\n    .then((data) => {\n      this.settingsService.latest_block = data;\n    })\n    .then(() => {\n      return this.graphService.getSmartContracts(this.market)\n    })\n    .then((smartContracts: any) => {\n      this.smartContracts = smartContracts.filter((item) => {\n        try {\n          const sc = item.relationship[this.settingsService.collections.SMART_CONTRACT]\n          if ((sc.expiry - this.settingsService.latest_block.height) < 0) {\n            return false;\n          }\n          if (sc.contract_type === this.smartContractService.contractTypes.CHANGE_OWNERSHIP) {\n            return sc.asset.data.substr(0, 5) === 'data:';\n          }\n        } catch(err) {\n          return false;\n        }\n        return true;\n      })\n      console.log(this.smartContracts)\n      e && e.complete()\n    })\n  }\n\n  sellAsset() {\n    this.navCtrl.push(AssetsPage);\n  }\n\n  startPromotion() {\n    this.navCtrl.push(CreatePromoPage, {\n      market: this.item\n    });\n  }\n\n  itemTapped(e, smartContract) {\n    this.navCtrl.push(MarketItemPage, {\n      item: smartContract,\n      market: this.item\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/markets/market.ts","import { Component } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { WebSocketService } from '../../app/websocket.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { identity } from 'rxjs';\nimport { Http } from '@angular/http';\n\n\ndeclare var X25519;\ndeclare var foobar;\ndeclare var forge;\n\n@Component({\n    selector: 'create-asset',\n    templateUrl: 'createasset.html'\n})\nexport class CreateAssetPage {\n    username: any;\n    data: any;\n    busy: any;\n    filepath: any;\n    filedata: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        private websocketService: WebSocketService,\n        private transactionService: TransactionService,\n        private alertCtrl: AlertController,\n        private ahttp: Http\n    ) {}\n    \n    changeListener($event) {\n      this.busy = true;\n      if(!$event.target.files[0]) {\n        this.filedata = '';\n        return;\n      }\n      this.filepath = $event.target.files[0].name;\n      const reader = new FileReader();\n      reader.readAsDataURL($event.target.files[0]);\n      reader.onload = () => {\n        this.data = reader.result.toString();\n        if(this.data.length > 5000) {\n          alert('File too large. Please select a smaller file.');\n          return\n        }\n        this.filedata = this.data\n      };\n      reader.onerror = () => {};\n    }\n\n    save() {\n      let alert = this.alertCtrl.create();\n      alert.setTitle('Create Asset');\n      alert.setSubTitle('Are you sure you want to save this asset?');\n      alert.addButton({\n          text: 'Continue editing'\n      });\n\n      const key = foobar.bitcoin.ECPair.makeRandom();\n      const wif = key.toWIF();\n      const username_signature = foobar.base64.fromByteArray(key.sign(foobar.bitcoin.crypto.sha256(this.username)).toDER());\n      const public_key = key.getPublicKeyBuffer().toString('hex');\n      const identity = {\n        username: this.username,\n        username_signature: username_signature,\n        public_key: public_key,\n        wif: wif,\n        collection: this.settingsService.collections.ASSET\n      }\n      try {\n        this.data = JSON.parse(this.data);\n      } catch(err) {\n\n      }\n      alert.addButton({\n          text: 'Save',\n          handler: (data: any) => {\n            const rids = this.graphService.generateRids(identity, null, this.settingsService.collections.ASSET)\n            this.websocketService.newtxn(\n              {\n                identity: identity,\n                data: this.data,\n                checksum: forge.sha256.create().update(this.data + identity.username_signature).digest().toHex()\n              },\n              rids,\n              this.settingsService.collections.ASSET\n            )\n            .then(() => {\n              this.navCtrl.pop();\n            })\n          }\n      });\n      alert.present();\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/assets/createasset.ts","import { Component } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { CreateAssetPage } from './createasset';\nimport { ProfilePage } from '../profile/profile';\nimport { SettingsService } from '../../app/settings.service';\nimport { SmartContractService } from '../../app/smartContract.service';\nimport { WebSocketService } from '../../app/websocket.service';\nimport Groups from '../../app/groups';\nimport { CreateSalePage } from '../markets/createsale';\n\n\ndeclare var X25519;\ndeclare var foobar;\n\n\n@Component({\n  selector: 'asset-item',\n  templateUrl: 'assetitem.html'\n})\nexport class AssetItemPage {\n  item: any;\n  asset: any;\n  market: any;\n  constructor(\n    public navCtrl: NavController,\n    private navParams: NavParams,\n    private walletService: WalletService,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private alertCtrl: AlertController,\n    private transactionService: TransactionService,\n    private settingsService: SettingsService,\n    private smartContractService: SmartContractService,\n    private websocketService: WebSocketService\n  ) {\n    this.item = navParams.data.item\n    this.asset = this.item.relationship[this.settingsService.collections.ASSET]\n    this.market = graphService.graph.markets.filter((market)=> {return market.relationship[settingsService.collections.MARKET].username === 'Marketplace'})[0]\n  }\n\n  sell(e, market) {\n    this.navCtrl.push(CreateSalePage, {\n      item: this.item,\n      market: this.market\n    });\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/assets/assetitem.ts","import { Component } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { WebSocketService } from '../../app/websocket.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { identity } from 'rxjs';\nimport { Http } from '@angular/http';\nimport { SmartContractService } from '../../app/smartContract.service';\nimport Groups from '../../app/groups';\nimport { MarketPage } from './market';\nimport { MarketItemPage } from './marketitem';\n\n\ndeclare var X25519;\ndeclare var foobar;\n\n@Component({\n    selector: 'create-sale',\n    templateUrl: 'createsale.html'\n})\nexport class CreateSalePage {\n    busy: any;\n    item: any;\n    asset: any;\n    price: any;\n    market: any;\n    marketTxn: any;\n    proof_type: any;\n    expiry: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        private websocketService: WebSocketService,\n        private transactionService: TransactionService,\n        private alertCtrl: AlertController,\n        private ahttp: Http,\n        private smartContractService: SmartContractService\n    ) {\n      this.marketTxn = this.navParams.get('market');\n      this.market = this.marketTxn.relationship[this.settingsService.collections.MARKET]\n      this.item = this.navParams.get('item');\n      this.asset = this.item.relationship[this.settingsService.collections.ASSET];\n      this.proof_type = this.smartContractService.assetProofTypes.FIRST_COME\n      this.graphService.getBlockHeight()\n      .then((data) => {\n        this.settingsService.latest_block = data;\n      })\n    }\n\n    presentError(field) {\n\n      let alert = this.alertCtrl.create();\n      alert.setTitle('Missing field');\n      alert.setSubTitle('Please enter information for ' + field + '.');\n      alert.addButton({\n          text: 'Ok'\n      });\n      alert.present();\n    }\n\n    save() {\n      if (!this.price) {\n        this.presentError('price')\n        return\n      }\n      if (!this.proof_type) {\n        this.presentError('proof_type')\n        return\n      }\n      let alert = this.alertCtrl.create();\n      alert.setTitle('Sell Asset');\n      alert.setSubTitle('Are you sure you want to sell this asset?');\n      alert.addButton({\n          text: 'Continue editing'\n      });\n      alert.addButton({\n          text: 'Confirm',\n          handler: (data: any) => {\n            const contract = this.smartContractService.generateChangeOfOwnership(\n              this.asset,\n              this.graphService.toIdentity(this.bulletinSecretService.cloneIdentity()),\n              parseFloat(this.price),\n              this.proof_type,\n              this.market,\n              this.expiry\n            )\n            const rids = this.graphService.generateRids(\n              contract.identity,\n              this.market,\n              this.settingsService.collections.SMART_CONTRACT\n            )\n            this.websocketService.newtxn(\n              contract,\n              rids,\n              this.settingsService.collections.SMART_CONTRACT,\n              this.market.username_signature\n            )\n            .then((smartContract: any) => {\n              smartContract.relationship[this.settingsService.collections.SMART_CONTRACT][this.settingsService.collections.ASSET] = this.asset\n              smartContract.relationship[this.settingsService.collections.SMART_CONTRACT].creator = this.graphService.toIdentity(this.bulletinSecretService.cloneIdentity())\n              smartContract.pending = true\n              this.navCtrl.setRoot(MarketItemPage, {\n                item: smartContract,\n                market: this.marketTxn\n              });\n            })\n          }\n      });\n      alert.present();\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/markets/createsale.ts","import { Component } from '@angular/core';\nimport { AlertController, NavController, NavParams } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { WebSocketService } from '../../app/websocket.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { identity } from 'rxjs';\nimport { Http } from '@angular/http';\nimport { SmartContractService } from '../../app/smartContract.service';\nimport Groups from '../../app/groups';\nimport { MarketPage } from './market';\nimport { CompleteTestService } from '../../app/autocomplete.provider';\nimport { WalletService } from '../../app/wallet.service';\nimport { MarketItemPage } from './marketitem';\n\n\ndeclare var X25519;\ndeclare var foobar;\n\n@Component({\n    selector: 'create-promo',\n    templateUrl: 'createpromo.html'\n})\nexport class CreatePromoPage {\n    busy: any;\n    item: any;\n    asset: any;\n    price: any;\n    market: any;\n    proof_type: any;\n    promotedIdentity: any;\n    selectedIdentity: any;\n    selectedIdentityForm: any;\n    pay_referrer: any;\n    pay_referrer_operator: any;\n    pay_referrer_payout_type: any;\n    pay_referrer_amount: any;\n    pay_referrer_payout_interval: any;\n    pay_referee: any;\n    pay_referee_operator: any;\n    pay_referee_payout_type: any;\n    pay_referee_amount: any;\n    pay_referee_payout_interval: any;\n    fund_amount: any;\n    expiry: any;\n    marketTxn: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        private websocketService: WebSocketService,\n        private transactionService: TransactionService,\n        private alertCtrl: AlertController,\n        private ahttp: Http,\n        private smartContractService: SmartContractService,\n        public completeTestService: CompleteTestService,\n        private walletService: WalletService\n    ) {\n      this.marketTxn = this.navParams.get('market');\n      this.market = this.marketTxn.relationship[this.settingsService.collections.MARKET]\n      this.proof_type = this.smartContractService.promoProofTypes.HONOR\n      this.pay_referrer = true;\n      this.pay_referrer_operator = this.smartContractService.payoutOperators.FIXED;\n      this.pay_referrer_payout_type = this.smartContractService.payoutType.ONE_TIME;\n      this.pay_referrer_amount = 1\n      this.pay_referee = true;\n      this.pay_referee_operator = this.smartContractService.payoutOperators.FIXED;\n      this.pay_referee_payout_type = this.smartContractService.payoutType.ONE_TIME;\n      this.pay_referee_amount = 1\n      this.promotedIdentity = 'me';\n      this.fund_amount = 1\n      this.expiry = 1000\n      this.graphService.getBlockHeight()\n      .then((data) => {\n        this.settingsService.latest_block = data;\n      })\n    }\n\n    myForm = new FormGroup({\n        searchTerm: new FormControl('', [Validators.required])\n    })\n\n    promotedIdentityChanged() {\n      if (this.promotedIdentity === 'me') {\n        this.selectedIdentity = this.graphService.toIdentity(this.bulletinSecretService.identity);\n      } else {\n        this.selectedIdentity = '';\n      }\n    }\n\n    contactSearchChanged() {\n      this.promotedIdentity = 'contact';\n    }\n\n    presentError(field) {\n\n      let alert = this.alertCtrl.create();\n      alert.setTitle('Missing field');\n      alert.setSubTitle('Please enter information for ' + field + '.');\n      alert.addButton({\n          text: 'Ok'\n      });\n      alert.present();\n    }\n\n    save() {\n      if (this.pay_referrer === true) {\n        if (!this.pay_referrer_operator) {\n          this.presentError('pay_referrer_operator')\n          return\n        }\n        if (!this.pay_referrer_payout_type) {\n          this.presentError('pay_referrer_payout_type')\n          return\n        }\n        if (\n          this.pay_referrer_payout_type === this.smartContractService.payoutType.RECURRING &&\n          !this.pay_referrer_payout_interval\n        ) {\n          this.presentError('pay_referrer_payout_interval')\n          return\n        }\n        if (!this.pay_referrer_amount) {\n          this.presentError('pay_referrer_amount')\n          return\n        }\n      }\n      if (this.pay_referee === true) {\n        if (!this.pay_referee_operator) {\n          this.presentError('pay_referee_operator')\n          return\n        }\n        if (!this.pay_referee_payout_type) {\n          this.presentError('pay_referee_payout_type')\n          return\n        }\n        if (\n          this.pay_referee_payout_type === this.smartContractService.payoutType.RECURRING &&\n          !this.pay_referee_payout_interval\n        ) {\n          this.presentError('pay_referee_payout_interval')\n          return\n        }\n        if (!this.pay_referee_amount) {\n          this.presentError('pay_referee_amount')\n          return\n        }\n      }\n      if (!this.pay_referrer === true && !this.pay_referee === true) {\n        this.presentError('pay_referrer and pay_referee')\n        return\n      }\n      if (!this.fund_amount) {\n        this.presentError('fund_amount')\n        return\n      }\n      if (!this.expiry) {\n        this.presentError('expiry')\n        return\n      }\n\n      let alert = this.alertCtrl.create();\n      alert.setTitle('Start promotion');\n      alert.setSubTitle('Are you sure you want to start this promotion?');\n      alert.addButton({\n          text: 'Continue editing'\n      });\n      alert.addButton({\n          text: 'Confirm',\n          handler: (data: any) => {\n            let selectedIdentity;\n            if (this.promotedIdentity === 'me') {\n              selectedIdentity = this.graphService.toIdentity(this.bulletinSecretService.cloneIdentity());\n            } else {\n              selectedIdentity = this.selectedIdentityForm;\n            }\n            this.walletService.get(this.fund_amount)\n            .then(() => {\n              const contract = this.smartContractService.generateNewRelationshipPromo(\n                this.graphService.toIdentity(this.bulletinSecretService.cloneIdentity()),\n                this.proof_type,\n                selectedIdentity,\n                this.market,\n                this.pay_referrer,\n                this.pay_referrer_operator,\n                this.pay_referrer_payout_type,\n                parseInt(this.pay_referrer_payout_interval),\n                parseFloat(this.pay_referrer_amount),\n                this.pay_referee,\n                this.pay_referee_operator,\n                this.pay_referee_payout_type,\n                parseInt(this.pay_referee_payout_interval),\n                parseFloat(this.pay_referee_amount),\n                parseInt(this.expiry)\n              )\n              const rids = this.graphService.generateRids(\n                contract.identity,\n                this.market,\n                this.settingsService.collections.SMART_CONTRACT\n              )\n              const contractAddress = foobar.bitcoin.ECPair.fromPublicKeyBuffer(\n                foobar.Buffer.Buffer.from(\n                  contract.identity.public_key, 'hex'\n                )\n              ).getAddress()\n              const outputs = []\n              if (\n                (contract.referee.active && contract.referee.operator === this.smartContractService.payoutOperators.FIXED) ||\n                (contract.referrer.active && contract.referrer.operator === this.smartContractService.payoutOperators.FIXED)\n              ) {\n                outputs.push({\n                  to: contractAddress,\n                  value: parseFloat(this.fund_amount)\n                })\n              }\n              return this.websocketService.newtxn(\n                contract,\n                rids,\n                this.settingsService.collections.SMART_CONTRACT,\n                this.market.username_signature,\n                {outputs: outputs}\n              )\n            }).then((smartContract: any) => {\n              smartContract.relationship[this.settingsService.collections.SMART_CONTRACT][this.settingsService.collections.ASSET] = this.asset\n              smartContract.relationship[this.settingsService.collections.SMART_CONTRACT].creator = this.graphService.toIdentity(this.bulletinSecretService.cloneIdentity())\n              smartContract.pending = true\n              this.navCtrl.setRoot(MarketItemPage, {\n                item: smartContract,\n                market: this.marketTxn\n              });\n            })\n          }\n      });\n      alert.present();\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/markets/createpromo.ts","import { Component, Injectable } from \"@angular/core\";\nimport {\n  NavController,\n  NavParams,\n  Platform,\n  ToastController,\n} from \"ionic-angular\";\nimport { Storage } from \"@ionic/storage\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { PeerService } from \"../../app/peer.service\";\nimport { BulletinSecretService } from \"../../app/bulletinSecret.service\";\nimport { FirebaseService } from \"../../app/firebase.service\";\nimport { ListPage } from \"../list/list\";\nimport { AlertController, LoadingController } from \"ionic-angular\";\nimport { GraphService } from \"../../app/graph.service\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\nimport { Events } from \"ionic-angular\";\nimport { HomePage } from \"../home/home\";\nimport { Http, Headers, RequestOptions } from \"@angular/http\";\nimport { SendReceive } from \"../sendreceive/sendreceive\";\nimport {\n  GoogleMaps,\n  GoogleMapsEvent,\n  LatLng,\n  MarkerOptions,\n  Marker,\n  Environment,\n  GoogleMapsMapTypeId,\n} from \"@ionic-native/google-maps\";\nimport { WebSocketService } from \"../../app/websocket.service\";\nimport Groups from \"../../app/groups\";\nimport { MailPage } from \"../mail/mail\";\n\ndeclare var forge;\ndeclare var foobar;\ndeclare var CenterIdentity;\ndeclare var google;\n\n@Component({\n  selector: \"page-settings\",\n  templateUrl: \"settings.html\",\n})\nexport class Settings {\n  baseUrl = null;\n  blockchainAddress = null;\n  graphproviderAddress = null;\n  walletproviderAddress = null;\n  siaAddress = null;\n  siaPassword = null;\n  keys = null;\n  loadingModal = null;\n  prefix = null;\n  importedKey = null;\n  activeKey = null;\n  serverDown = false;\n  noUsername = false;\n  key = null;\n  geoWalletUsername: any;\n  identity: any;\n  centerIdentityImportEnabled = false;\n  centerIdentityExportEnabled = false;\n  exportKeyEnabled = false;\n  centerIdentityLocation: any;\n  centerIdentityPrivateUsername = \"\";\n  ci: any;\n  centerIdentitySaveSuccess = false;\n  centerIdentityImportSuccess = false;\n  identitySkylink: any;\n  busy: any;\n  CIBusy: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private settingsService: SettingsService,\n    private bulletinSecretService: BulletinSecretService,\n    private firebaseService: FirebaseService,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    private storage: Storage,\n    private graphService: GraphService,\n    private socialSharing: SocialSharing,\n    private walletService: WalletService,\n    private websocketService: WebSocketService,\n    private transactionService: TransactionService,\n    public events: Events,\n    public toastCtrl: ToastController,\n    public peerService: PeerService,\n    private ahttp: Http,\n    private platform: Platform\n  ) {\n    if (typeof this.peerService.mode == \"undefined\")\n      this.peerService.mode = true;\n    this.prefix = \"usernames-\";\n    this.ci = new CenterIdentity(\n      undefined,\n      undefined,\n      undefined,\n      undefined,\n      true,\n      5\n    );\n    this.refresh(null)\n      .then(() => {\n        return this.peerService.go();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  loadMap(mapType) {\n    /* The create() function will take the ID of your map element */\n    const map = GoogleMaps.create(\"map-\" + mapType, {\n      mapType: GoogleMapsMapTypeId.HYBRID,\n    });\n\n    map.one(GoogleMapsEvent.MAP_READY).then((data: any) => {\n      const coordinates: LatLng = new LatLng(41, -87);\n\n      map.setCameraTarget(coordinates);\n      map.setCameraZoom(8);\n    });\n\n    map.on(GoogleMapsEvent.MAP_CLICK).subscribe((e) => {\n      map.clear();\n      this.centerIdentityLocation = e[0];\n      map.addMarker({\n        position: e[0],\n      });\n    });\n  }\n\n  refresh(refresher) {\n    this.noUsername = false;\n    return this.bulletinSecretService\n      .all()\n      .then((keys) => {\n        this.setKey(keys);\n      })\n      .then(() => {\n        if (refresher) refresher.complete();\n      });\n  }\n\n  setKey(keys) {\n    var keys_indexed = {};\n    for (var i = 0; i < keys.length; i++) {\n      keys_indexed[keys[i].key] = keys[i].key;\n    }\n    var newKeys = [];\n    this.storage\n      .forEach((value, key) => {\n        if (key.substr(0, this.prefix.length) === this.prefix) {\n          let active =\n            (this.bulletinSecretService.username || \"\") ==\n            key.substr(this.prefix.length);\n          newKeys.push({\n            username: key.substr(this.prefix.length),\n            key: value,\n            active: active,\n          });\n          if (active) {\n            this.activeKey = value;\n          }\n        }\n      })\n      .then(() => {\n        newKeys.sort(function (a, b) {\n          if (a.username.toLowerCase() < b.username.toLowerCase()) return -1;\n          if (a.username.toLowerCase() > b.username.toLowerCase()) return 1;\n          return 0;\n        });\n        this.keys = newKeys;\n      })\n      .then(() => {\n        if (!this.activeKey) return;\n        if (this.settingsService.remoteSettings.restricted) {\n          this.busy = true;\n          this.graphService\n            .identityToSkylink(this.bulletinSecretService.identity)\n            .then((skylink) => {\n              this.identitySkylink = skylink;\n              this.busy = false;\n            });\n        }\n      });\n  }\n\n  exportKey() {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(\"Export Key\");\n    alert.setSubTitle(\n      \"Warning: Never ever share this secret key with anybody but yourself!\"\n    );\n    alert.addButton({\n      text: \"Ok\",\n      handler: (data: any) => {\n        this.socialSharing.share(\n          this.bulletinSecretService.key.toWIF(),\n          \"Export Secret Key\"\n        );\n        this.exportKeyEnabled = true;\n      },\n    });\n    alert.present();\n  }\n\n  importKey(wif = null) {\n    return new Promise((resolve, reject) => {\n      if (wif) return resolve(wif);\n      let alert = this.alertCtrl.create({\n        title: \"Set WIF\",\n        inputs: [\n          {\n            name: \"wif\",\n            placeholder: \"WIF\",\n          },\n        ],\n        buttons: [\n          {\n            text: \"Cancel\",\n            role: \"cancel\",\n            handler: (data) => {\n              console.log(\"Cancel clicked\");\n              reject(\"Cancel clicked\");\n            },\n          },\n          {\n            text: \"Continue\",\n            handler: (data) => {\n              resolve(data.wif);\n            },\n          },\n        ],\n      });\n      alert.present();\n    })\n      .then((wifkey) => {\n        return new Promise((resolve, reject) => {\n          wif = wifkey;\n          let alert = this.alertCtrl.create({\n            title: \"Set username\",\n            inputs: [\n              {\n                name: \"username\",\n                placeholder: \"Username\",\n              },\n            ],\n            buttons: [\n              {\n                text: \"Cancel\",\n                role: \"cancel\",\n                handler: (data) => {\n                  console.log(\"Cancel clicked\");\n                  reject(\"Cancel clicked\");\n                },\n              },\n              {\n                text: \"Save\",\n                handler: (data) => {\n                  resolve(data.username);\n                },\n              },\n            ],\n          });\n          alert.present();\n        });\n      })\n      .then((username) => {\n        return this.bulletinSecretService.import(wif, username);\n      })\n      .then((wif) => {\n        const toast = this.toastCtrl.create({\n          message: \"Identity created\",\n          duration: 2000,\n        });\n        toast.present();\n        this.importedKey = \"\";\n        return this.refresh(null);\n      })\n      .catch(() => {\n        const toast = this.toastCtrl.create({\n          message: \"Error importing identity!\",\n          duration: 2000,\n        });\n        toast.present();\n      });\n  }\n\n  getUsername() {\n    return new Promise((resolve, reject) => {\n      let alert = this.alertCtrl.create({\n        title: \"Set username\",\n        inputs: [\n          {\n            name: \"username\",\n            placeholder: \"Username\",\n          },\n        ],\n        buttons: [\n          {\n            text: \"Cancel\",\n            role: \"cancel\",\n            handler: (data) => {\n              console.log(\"Cancel clicked\");\n              reject(\"Cancel clicked\");\n            },\n          },\n          {\n            text: \"Save\",\n            handler: (data) => {\n              resolve(data.username);\n            },\n          },\n        ],\n      });\n      alert.present();\n    });\n  }\n\n  getInvite() {\n    return new Promise((resolve, reject) => {\n      let alert = this.alertCtrl.create({\n        title: \"Set invite code\",\n        inputs: [\n          {\n            name: \"invite\",\n            placeholder: \"Invite\",\n          },\n        ],\n        buttons: [\n          {\n            text: \"Cancel\",\n            role: \"cancel\",\n            handler: (data) => {\n              console.log(\"Cancel clicked\");\n              reject(\"Cancel clicked\");\n            },\n          },\n          {\n            text: \"Save\",\n            handler: (data) => {\n              resolve(data.invite);\n            },\n          },\n        ],\n      });\n      alert.present();\n    }).then((skylink) => {\n      return this.graphService.identityFromSkylink(skylink);\n    });\n  }\n\n  getPromo() {\n    return new Promise((resolve, reject) => {\n      let alert = this.alertCtrl.create({\n        title: \"Set promo code\",\n        inputs: [\n          {\n            name: \"promo\",\n            placeholder: \"Promo code\",\n          },\n        ],\n        buttons: [\n          {\n            text: \"Cancel\",\n            role: \"cancel\",\n            handler: (data) => {\n              console.log(\"Cancel clicked\");\n              reject(\"Cancel clicked\");\n            },\n          },\n          {\n            text: \"confirm\",\n            handler: (data) => {\n              resolve(data.promo);\n            },\n          },\n        ],\n      });\n      alert.present();\n    });\n  }\n\n  createWalletFromInvite() {\n    let promise;\n    let username;\n    let userType;\n    let userParent;\n    let invite;\n    let promo;\n\n    this.loadingModal = this.loadingCtrl.create({\n      content: \"initializing...\",\n    });\n    this.loadingModal.present();\n\n    promise = this.getInvite()\n      .then(() => {\n        return this.getPromo();\n      })\n      .then((inv: any) => {\n        invite = inv;\n        return this.graphService.checkInvite(invite);\n      })\n      .then((result: any) => {\n        if (!result.status) {\n          this.bulletinSecretService.unset();\n          const toast = this.toastCtrl.create({\n            message: result.message,\n            duration: 10000,\n          });\n          toast.present();\n          throw result.message;\n        }\n        userType = result.type;\n        userParent = result.parent;\n      })\n      .then(() => {\n        return this.createKey(invite.identifier);\n      })\n      .then(() => {\n        invite = {\n          ...invite,\n          ...this.graphService.toIdentity(this.bulletinSecretService.identity),\n        };\n        return this.graphService.checkInvite(invite);\n      })\n      .then((): Promise<null | void> => {\n        if (userType === \"member_contact\") {\n          return this.joinGroup(userParent);\n        } else if (userType === \"organization_member\") {\n          return this.joinGroup(userParent);\n        } else if (userType === \"organization\") {\n          return this.joinGroup(this.settingsService.remoteSettings.identity);\n        } else if (userType === \"admin\") {\n          return new Promise((resolve, reject) => {\n            return resolve(null);\n          });\n        }\n      })\n      .then(() => {\n        return this.selectIdentity(\n          this.bulletinSecretService.keyname.substr(this.prefix.length),\n          false\n        );\n      })\n      .then(() => {\n        if (this.settingsService.remoteSettings[\"walletUrl\"]) {\n          return this.graphService.getInfo();\n        }\n      })\n      .then(() => {\n        return this.refresh(null);\n      })\n      .then(() => {\n        this.loadingModal.dismiss();\n      })\n      .then(() => {\n        const toast = this.toastCtrl.create({\n          message: \"Identity created\",\n          duration: 2000,\n        });\n        toast.present();\n      })\n      .catch(() => {\n        this.events.publish(\"pages\");\n        this.loadingModal.dismiss();\n      });\n  }\n\n  createWallet() {\n    let promise;\n    let username;\n    let userType;\n    let userParent;\n\n    this.loadingModal = this.loadingCtrl.create({\n      content: \"initializing...\",\n    });\n    this.loadingModal.present();\n\n    return this.getUsername()\n      .then((uname) => {\n        username = uname;\n        return this.createKey(username);\n      })\n      .then(() => {\n        return this.refresh(null);\n      })\n      .then(() => {\n        return this.selectIdentity(username, false);\n      })\n      .then(() => {\n        return this.graphService.refreshFriendsAndGroups();\n      })\n      .then(() => {\n        this.loadingModal.dismiss();\n      })\n      .catch(() => {\n        this.loadingModal.dismiss();\n      })\n      .then(() => {\n        const toast = this.toastCtrl.create({\n          message: \"Identity created\",\n          duration: 2000,\n        });\n        toast.present();\n      });\n  }\n\n  createKey(username) {\n    return new Promise((resolve, reject) => {\n      this.bulletinSecretService.create(username).then(() => {\n        return resolve(username);\n      });\n    })\n      .then((key) => {\n        return this.set(key);\n      })\n      .then(() => {\n        return this.save();\n      });\n  }\n\n  selectIdentity(key, showModal = true) {\n    this.graphService.resetGraph();\n    if (showModal) {\n      this.loadingModal = this.loadingCtrl.create({\n        content: \"initializing...\",\n      });\n      this.loadingModal.present();\n    }\n    if (this.settingsService.remoteSettings.restricted) {\n      return this.set(key)\n        .then(() => {\n          return this.graphService.refreshFriendsAndGroups();\n        })\n        .then(() => {\n          return this.graphService.getUserType(\n            this.bulletinSecretService.identity.username\n          );\n        })\n        .then((result: any): Promise<null | void> => {\n          if (result.status) {\n            const userType = result.type;\n            this.bulletinSecretService.identity.type = result.type;\n            this.bulletinSecretService.identity.parent = result.parent;\n            if (userType === \"member_contact\") {\n              if (\n                !this.graphService.isAdded(\n                  this.bulletinSecretService.identity.parent\n                )\n              )\n                return this.joinGroup(\n                  this.bulletinSecretService.identity.parent\n                );\n            } else if (userType === \"organization_member\") {\n              if (\n                !this.graphService.isAdded(\n                  this.bulletinSecretService.identity.parent\n                )\n              )\n                return this.joinGroup(\n                  this.bulletinSecretService.identity.parent\n                );\n            } else if (userType === \"organization\") {\n              if (\n                !this.graphService.isAdded(\n                  this.bulletinSecretService.identity.parent\n                )\n              )\n                return this.joinGroup(\n                  this.bulletinSecretService.identity.parent\n                );\n            } else if (userType === \"admin\") {\n              return new Promise((resolve, reject) => {\n                return resolve(null);\n              });\n            }\n          } else {\n            this.bulletinSecretService.unset();\n            const toast = this.toastCtrl.create({\n              message: result.message,\n              duration: 10000,\n            });\n            toast.present();\n            throw result.message;\n          }\n        })\n        .then(() => {\n          return this.websocketService.init();\n        })\n        .then(() => {\n          if (showModal) {\n            this.loadingModal.dismiss();\n          }\n          this.settingsService.menu = \"mail\";\n          this.events.publish(\"menu\", [\n            {\n              title: \"Inbox\",\n              label: \"Inbox\",\n              component: MailPage,\n              count: false,\n              color: \"\",\n              root: true,\n            },\n            {\n              title: \"Sent\",\n              label: \"Sent\",\n              component: MailPage,\n              count: false,\n              color: \"\",\n              root: true,\n            },\n          ]);\n        })\n        .catch((err) => {\n          console.log(err);\n          if (showModal) {\n            this.loadingModal.dismiss();\n          }\n        });\n    } else {\n      let addedDefaults = false;\n      return this.set(key)\n        .then(() => {\n          return this.graphService.refreshFriendsAndGroups();\n        })\n        .then(() => {\n          const promises = [];\n          for (let i = 0; i < Groups.default_groups.length; i++) {\n            if (!this.graphService.isAdded(Groups.default_groups[i])) {\n              promises.push(\n                this.graphService.addGroup(\n                  Groups.default_groups[i],\n                  undefined,\n                  undefined,\n                  undefined,\n                  false\n                )\n              );\n              addedDefaults = true;\n            }\n          }\n          for (let i = 0; i < Groups.default_markets.length; i++) {\n            if (!this.graphService.isAdded(Groups.default_markets[i])) {\n              promises.push(\n                this.graphService.addGroup(\n                  Groups.default_markets[i],\n                  undefined,\n                  undefined,\n                  undefined,\n                  false\n                )\n              );\n              addedDefaults = true;\n            }\n          }\n          return Promise.all(promises);\n        })\n        .then(() => {\n          return addedDefaults\n            ? this.graphService.refreshFriendsAndGroups()\n            : null;\n        })\n        .then(() => {\n          if (showModal) {\n            this.loadingModal.dismiss();\n          }\n          this.settingsService.menu = \"home\";\n          this.events.publish(\"menu\", [\n            {\n              title: \"Home\",\n              label: \"Home\",\n              component: HomePage,\n              count: false,\n              color: \"\",\n              root: true,\n            },\n          ]);\n        })\n        .then(() => {\n          return this.websocketService.init();\n        })\n        .catch((err) => {\n          console.log(err);\n          if (showModal) {\n            this.loadingModal.dismiss();\n          }\n        });\n    }\n  }\n\n  joinGroup(iden) {\n    const identity = JSON.parse(JSON.stringify(iden)); //deep copy\n    identity.collection = \"group\";\n    return this.graphService.addGroup(identity).then(() => {\n      return this.graphService.addFriend(iden);\n    });\n  }\n\n  unlockWallet() {\n    return new Promise((resolve, reject) => {\n      let options = new RequestOptions({ withCredentials: true });\n      this.ahttp\n        .post(\n          this.settingsService.remoteSettings[\"baseUrl\"] +\n            \"/unlock?origin=\" +\n            encodeURIComponent(window.location.origin),\n          { key_or_wif: this.activeKey },\n          options\n        )\n        .subscribe(\n          (res) => {\n            this.settingsService.tokens[this.bulletinSecretService.keyname] =\n              res.json()[\"token\"];\n            if (\n              !this.settingsService.tokens[this.bulletinSecretService.keyname]\n            )\n              return resolve(res);\n            const toast = this.toastCtrl.create({\n              message: \"Wallet unlocked!\",\n              duration: 2000,\n            });\n            toast.present();\n            resolve(res);\n          },\n          (err) => {\n            return reject(\"cannot unlock wallet\");\n          }\n        );\n    });\n  }\n\n  set(key) {\n    this.storage.set(\"last-keyname\", this.prefix + key);\n    return this.doSet(this.prefix + key).catch(() => {\n      console.log(\"can not set identity\");\n    });\n  }\n\n  doSet(keyname) {\n    return new Promise((resolve, reject) => {\n      this.bulletinSecretService\n        .set(keyname)\n        .then(() => {\n          this.serverDown = false;\n          if (\n            !document.URL.startsWith(\"http\") ||\n            document.URL.startsWith(\"http://localhost:8080\")\n          ) {\n            this.firebaseService.initFirebase();\n          }\n          return resolve(null);\n        })\n        .catch((error) => {\n          this.serverDown = true;\n          return reject(error);\n        });\n    });\n  }\n\n  save() {\n    this.graphService.resetGraph();\n\n    return this.set(\n      this.bulletinSecretService.keyname.substr(this.prefix.length)\n    );\n  }\n\n  showChat() {\n    var item = { pageTitle: { title: \"Chat\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  showFriendRequests() {\n    var item = { pageTitle: { title: \"Friend Requests\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  enableCenterIdentityImport() {\n    this.centerIdentityImportEnabled = true;\n    this.loadMap(\"import\");\n  }\n\n  enableCenterIdentityExport() {\n    this.centerIdentityExportEnabled = true;\n    this.loadMap(\"export\");\n  }\n\n  getKeyUsingCenterIdentity() {\n    this.CIBusy = true;\n    setTimeout(() => {\n      return this.ci\n        .get(\n          this.centerIdentityPrivateUsername,\n          this.centerIdentityLocation.lat,\n          this.centerIdentityLocation.lng\n        )\n        .then((identity) => {\n          this.CIBusy = false;\n          this.importedKey = identity.wif;\n          return this.importKey(identity.wif);\n        })\n        .catch((err) => {\n          this.CIBusy = false;\n          const toast = this.toastCtrl.create({\n            message: \"Recovery not found or error recovering identity.\",\n            duration: 2000,\n          });\n          toast.present();\n        });\n    }, 100);\n  }\n\n  saveKeyUsingCenterIdentity() {\n    this.loadingModal = this.loadingCtrl.create({\n      content: \"initializing...\",\n    });\n    const total = 1;\n    var alert = this.alertCtrl.create();\n    alert.setTitle(\"Approve Transaction\");\n    alert.setSubTitle(\n      \"You are about to send \" + total + \" coin to Center Identity\"\n    );\n    alert.addButton(\"Cancel\");\n    alert.addButton({\n      text: \"Confirm\",\n      handler: (data: any) => {\n        this.loadingModal.present();\n        this.walletService\n          .get(total)\n          .then((txns) => {\n            return new Promise((resolve, reject) => {\n              if (this.walletService.wallet.balance < total) {\n                return reject(\"insufficient funds\");\n              }\n              return resolve(true);\n            });\n          })\n          .then((txns) => {\n            const fullIdentity = {\n              key: this.bulletinSecretService.key,\n              wif: this.bulletinSecretService.key.toWIF(),\n              public_key: this.bulletinSecretService.identity.public_key,\n              username: this.centerIdentityPrivateUsername,\n            };\n            return this.ci.set(\n              fullIdentity,\n              this.centerIdentityLocation.lat,\n              this.centerIdentityLocation.lng\n            );\n          })\n          .then((txns) => {\n            const friendTxn = txns[0];\n            this.transactionService.generateTransaction(friendTxn);\n            this.transactionService.sendTransaction(\n              null,\n              \"https://centeridentity.com/transaction\"\n            );\n            const buryTxn = txns[1];\n            buryTxn.to = \"1EWkrpUezWMpByE6nys6VXubjFLorgbZuP\";\n            buryTxn.value = 1;\n            this.transactionService.generateTransaction(buryTxn);\n            this.transactionService.sendTransaction(\n              null,\n              \"https://centeridentity.com/transaction\"\n            );\n            this.centerIdentitySaveSuccess = true;\n            const toast = this.toastCtrl.create({\n              message:\n                \"Saved recovery successfully. Please test on another browser.\",\n              duration: 2000,\n            });\n            toast.present();\n          })\n          .then((txn) => {\n            var title = \"Transaction Sent\";\n            var message = \"Your transaction has been sent succefully.\";\n            var alert = this.alertCtrl.create();\n            alert.setTitle(title);\n            alert.setSubTitle(message);\n            alert.addButton(\"Ok\");\n            alert.present();\n            this.loadingModal.dismiss().catch(() => {});\n          })\n          .catch((err) => {\n            this.CIBusy = false;\n            var alert = this.alertCtrl.create();\n            let title = \"Insufficient Funds\";\n            let message = \"Not enough YadaCoins for transaction.\";\n            alert.setTitle(title);\n            alert.setSubTitle(message);\n            alert.addButton(\"Ok\");\n            alert.present();\n            this.loadingModal.dismiss().catch(() => {});\n            const toast = this.toastCtrl.create({\n              message: \"Recovery not saved or error saving recovery.\",\n              duration: 2000,\n            });\n            toast.present();\n          });\n      },\n    });\n    alert.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component } from \"@angular/core\";\nimport {\n  Events,\n  NavController,\n  NavParams,\n  ViewController,\n} from \"ionic-angular\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport { AlertController } from \"ionic-angular\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { OpenGraphParserService } from \"../../app/opengraphparser.service\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { BulletinSecretService } from \"../../app/bulletinSecret.service\";\nimport { Http, Headers, RequestOptions } from \"@angular/http\";\nimport { GraphService } from \"../../app/graph.service\";\nimport { ProfilePage } from \"../profile/profile\";\n\ndeclare var Base64;\n\n@Component({\n  selector: \"modal-files\",\n  templateUrl: \"siafiles.html\",\n})\nexport class SiaFiles {\n  logicalParent = null;\n  mode = \"\";\n  postText = null;\n  post = {};\n  files = null;\n  selectedFile = null;\n  filepath: any;\n  filedata: any;\n  group = null;\n  error = \"\";\n  constructor(\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    private walletService: WalletService,\n    private alertCtrl: AlertController,\n    private transactionService: TransactionService,\n    private openGraphParserService: OpenGraphParserService,\n    private settingsService: SettingsService,\n    private bulletinSecretService: BulletinSecretService,\n    private ahttp: Http,\n    private graphService: GraphService,\n    private navCtrl: NavController,\n    private events: Events\n  ) {\n    this.group = navParams.data.group;\n    this.mode = navParams.data.mode || \"page\";\n    this.logicalParent = navParams.data.logicalParent;\n    const files = [];\n    for (let i = 0; i < this.graphService.graph.files.length; i++) {\n      const file = this.graphService.graph.files[i];\n      files.push({\n        title: \"Messages\",\n        label: file.relationship.username,\n        component: ProfilePage,\n        count: false,\n        color: \"\",\n        kwargs: { identity: file.relationship },\n        root: false,\n      });\n    }\n    this.events.publish(\"menuonly\", files);\n  }\n\n  changeListener($event) {\n    this.filepath = $event.target.files[0].name;\n    const reader = new FileReader();\n    reader.readAsDataURL($event.target.files[0]);\n    reader.onload = () => {\n      this.filedata = reader.result.toString().substr(22);\n    };\n    reader.onerror = () => {};\n  }\n\n  upload() {\n    this.ahttp\n      .post(\n        this.settingsService.remoteSettings[\"baseUrl\"] +\n          \"/sia-upload?filename=\" +\n          encodeURIComponent(this.filepath),\n        { file: this.filedata }\n      )\n      .subscribe((res) => {\n        const data = res.json();\n        if (!data.skylink) return;\n        this.graphService.createGroup(\n          this.filepath,\n          null,\n          { skylink: data.skylink },\n          \"file\"\n        );\n      });\n  }\n\n  delete(siapath) {\n    this.ahttp\n      .get(\n        this.settingsService.remoteSettings[\"baseUrl\"] +\n          \"/sia-delete?siapath=\" +\n          encodeURIComponent(siapath)\n      )\n      .subscribe((res) => {\n        this.files = res.json()[\"files\"];\n      });\n  }\n\n  submit() {\n    this.walletService.get().then(() => {\n      return new Promise((resolve, reject) => {\n        if (this.selectedFile) {\n          this.ahttp\n            .get(\n              this.settingsService.remoteSettings[\"baseUrl\"] +\n                \"/sia-share-file?siapath=\" +\n                this.selectedFile\n            )\n            .subscribe((res) => {\n              let sharefiledata = res.json()[\"filedata\"];\n              this.approveTxn(sharefiledata, resolve);\n            });\n        } else {\n          this.approveTxn(null, resolve);\n        }\n        console.log(status);\n      }).then(() => {\n        this.dismiss();\n      });\n    });\n  }\n\n  approveTxn(sharefiledata, resolve) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(\"Approve Transaction\");\n    alert.setSubTitle(\"You are about to spend 0.01 coins ( 0.01 fee)\");\n    alert.addButton(\"Cancel\");\n    alert.addButton({\n      text: \"Confirm\",\n      handler: (data: any) => {\n        // camera permission was granted\n        new Promise((resolve, reject) => {\n          if (sharefiledata) {\n            const info = {\n              relationship: {\n                my_username_signature:\n                  this.bulletinSecretService.generate_username_signature(),\n                my_username: this.bulletinSecretService.username,\n              },\n              username_signature: this.group.username_signature,\n              rid: this.group.rid,\n              requester_rid: this.group.requester_rid,\n              requested_rid: this.group.requested_rid,\n            };\n            info.relationship[this.settingsService.collections.GROUP_CHAT] =\n              this.postText;\n            info.relationship[\n              this.settingsService.collections.GROUP_CHAT_FILE\n            ] = sharefiledata;\n            info.relationship[\n              this.settingsService.collections.GROUP_CHAT_FILE_NAME\n            ] = this.selectedFile;\n\n            return this.transactionService\n              .generateTransaction(info)\n              .then(() => {\n                resolve(null);\n              })\n              .catch((err) => {\n                reject(\"failed generating transaction\");\n              });\n          } else {\n            return this.transactionService\n              .generateTransaction({\n                relationship: {\n                  postText: this.postText,\n                },\n              })\n              .then(() => {\n                resolve(null);\n              })\n              .catch((err) => {\n                reject(err);\n              });\n          }\n        })\n          .then((hash) => {\n            return this.transactionService.sendTransaction();\n          })\n          .then(() => {\n            this.dismiss();\n          })\n          .catch((err) => {\n            console.log(\"could not generate hash\");\n          });\n      },\n    });\n    alert.present();\n  }\n\n  openProfile(item) {\n    this.navCtrl.push(ProfilePage, {\n      identity: item.relationship,\n    });\n  }\n\n  import() {\n    var buttons = [];\n    buttons.push({\n      text: \"Import\",\n      handler: (data) => {\n        const identity = JSON.parse(data.identity);\n        this.graphService.addGroup(identity, null, null, null);\n      },\n    });\n    let alert = this.alertCtrl.create({\n      inputs: [\n        {\n          name: \"identity\",\n          placeholder: \"Paste file code...\",\n        },\n      ],\n      buttons: buttons,\n    });\n    alert.setTitle(\"Import file\");\n    alert.setSubTitle(\"Paste the code of your file below\");\n    alert.present();\n  }\n\n  dismiss() {\n    this.logicalParent.refresh();\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/siafiles/siafiles.ts","import { Component, ViewChild } from \"@angular/core\";\nimport { NavController, NavParams, ModalController } from \"ionic-angular\";\nimport { Storage } from \"@ionic/storage\";\nimport { GraphService } from \"../../app/graph.service\";\nimport { BulletinSecretService } from \"../../app/bulletinSecret.service\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport {\n  AlertController,\n  LoadingController,\n  ToastController,\n} from \"ionic-angular\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { ListPage } from \"../list/list\";\nimport { SiaFiles } from \"../siafiles/siafiles\";\nimport { Http } from \"@angular/http\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\n\ndeclare var Base64;\n\n@Component({\n  selector: \"page-stream\",\n  templateUrl: \"stream.html\",\n  queries: {\n    content: new ViewChild(\"content\"),\n  },\n})\nexport class StreamPage {\n  groupChatText: any;\n  bulletinSecret: any;\n  blockchainAddress: any;\n  chats: any;\n  rid: any;\n  public_key: any;\n  loading: any;\n  loadingModal: any;\n  content: any;\n  wallet_mode: any;\n  username_signature: any;\n  username: any;\n  requester_rid: any;\n  requested_rid: any;\n  their_address: any;\n  extraInfo: any;\n  files: any;\n  streamUrl: any;\n  streams: any;\n  i: any;\n  j: any;\n  groups: any;\n  selectedGroup: any;\n  label: any;\n  error: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public storage: Storage,\n    public walletService: WalletService,\n    public transactionService: TransactionService,\n    public alertCtrl: AlertController,\n    public graphService: GraphService,\n    public loadingCtrl: LoadingController,\n    public bulletinSecretService: BulletinSecretService,\n    public settingsService: SettingsService,\n    public ahttp: Http,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    private dom: DomSanitizer\n  ) {\n    this.streams = {};\n    this.label = this.navParams.get(\"pageTitle\").label;\n    // if (this.showLoading) {\n    //     this.loading = true;\n    // }\n    this.getSiaFiles()\n      .then(() => {\n        return new Promise((resolve, reject) => {\n          for (var i = 0; i < this.graphService.graph.groups.length; i++) {\n            var group = this.graphService.graph.groups[i];\n            if (!this.streams[group.rid]) {\n              this.streams[group.rid] = [];\n            }\n          }\n          resolve(null);\n        });\n      })\n      .then(() => {\n        var promises = [];\n        for (var i = 0; i < this.graphService.graph.groups.length; i++) {\n          var group = this.graphService.graph.groups[i];\n          promises.push(this.getGroupMessages(group));\n        }\n        return Promise.all(promises);\n      })\n      .then((groups) => {\n        var promises = [];\n        for (var i = 0; i < groups.length; i++) {\n          var group = groups[i];\n          promises.push(this.parseChats(group));\n        }\n        return Promise.all(promises);\n      })\n      .then((groups: Array<any>) => {\n        this.i = 0;\n        this.j = 0;\n        this.groups = groups;\n        this.cycleMedia();\n        setInterval(() => this.cycleMedia(), 1200000);\n      })\n      .catch((err) => {\n        this.error = true;\n        console.log(err);\n      });\n  }\n\n  selectGroup(rid) {\n    this.selectedGroup = rid;\n    this.cycleMedia();\n  }\n\n  cycleMedia() {\n    if (this.error) return;\n    if (!this.groups[this.i]) {\n      this.i = 0;\n      if (!this.groups[this.i]) {\n        return;\n      }\n    }\n    var group = this.groups[this.i];\n    var rid = this.selectedGroup || group.rid;\n    if (!this.streams[rid][this.j]) {\n      if (this.j === 0) {\n        this.i = 0;\n        var group = this.groups[this.i];\n      } else {\n        this.j = 0;\n      }\n    }\n    var stream = this.streams[rid][this.j];\n    this.ahttp.get(stream.url).subscribe(\n      (res) => {\n        this.streamUrl = stream.url;\n        this.j += 1;\n      },\n      (err) => {\n        this.import(stream.relationship);\n        this.j += 1;\n        if (!this.streams[rid][this.j]) {\n          this.selectedGroup = null;\n          this.i += 1;\n          this.j = 0;\n        }\n        setTimeout(() => {\n          this.cycleMedia();\n        }, 5000);\n      }\n    );\n  }\n\n  import(relationship) {\n    return this.ahttp\n      .post(\n        this.settingsService.remoteSettings[\"baseUrl\"] +\n          \"/sia-share-file?origin=\" +\n          encodeURIComponent(window.location.origin),\n        relationship\n      )\n      .subscribe(\n        (res) => {\n          console.log(\"New file imported:\");\n          console.log(res.json());\n          var files = res.json();\n        },\n        (err) => {\n          this.error = true;\n        }\n      );\n  }\n\n  getGroupMessages(group) {\n    return new Promise((resolve, reject) => {\n      this.graphService\n        .getGroupMessages(\n          group[\"relationship\"][\"username_signature\"],\n          null,\n          group.rid\n        )\n        .then(() => {\n          return resolve(group);\n        });\n    });\n  }\n\n  parseChats(group) {\n    return new Promise((resolve, reject) => {\n      if (!this.graphService.graph[\"messages\"][group.rid])\n        return resolve(group);\n      for (\n        var j = 0;\n        j < this.graphService.graph[\"messages\"][group.rid].length;\n        j++\n      ) {\n        var message = this.graphService.graph[\"messages\"][group.rid][j];\n        if (message[\"relationship\"][\"groupChatFileName\"]) {\n          this.streams[group.rid].push({\n            url:\n              this.settingsService.remoteSettings[\"baseUrl\"] +\n              \"/sia-files-stream?siapath=\" +\n              message[\"relationship\"][\"groupChatFileName\"],\n            title: \"\",\n            relationship: message[\"relationship\"],\n          });\n        }\n      }\n      if (this.streams[group.rid].length === 0) {\n        delete this.streams[group.rid];\n      }\n      resolve(group);\n    });\n  }\n\n  sanitize(url) {\n    return this.dom.bypassSecurityTrustResourceUrl(url);\n  }\n\n  getSiaFiles() {\n    return new Promise((resolve, reject) => {\n      this.ahttp\n        .get(this.settingsService.remoteSettings[\"baseUrl\"] + \"/sia-files\")\n        .subscribe(\n          (res) => {\n            var files = res.json();\n            resolve(files);\n          },\n          (err) => {\n            this.error = true;\n            reject(this.error);\n          }\n        );\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stream/stream.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { GraphService } from '../../app/graph.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { BuildPagePage } from './buildpage';\nimport { WebPage } from './web';\n\n\n@Component({\n  selector: 'mail-mypages',\n  templateUrl: 'mypages.html'\n})\nexport class MyPagesPage {\n  items = []\n  loading = false;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public graphService: GraphService,\n    public bulletinSecretService: BulletinSecretService,\n    public settingsService: SettingsService\n  ) {\n    this.loading = true;\n    let rids = [this.graphService.generateRid(\n      this.bulletinSecretService.identity.username_signature,\n      this.bulletinSecretService.identity.username_signature,\n      this.settingsService.collections.WEB_PAGE\n    )];\n    this.graphService.getMyPages(rids)\n    .then(() => {\n      this.items = this.graphService.graph.mypages\n      this.loading = false;\n    })\n  }\n\n  itemTapped(event, item) {\n    const myRids = this.graphService.generateRids(this.bulletinSecretService.identity)\n    let recipient;\n    if (this.graphService.friends_indexed[item.rid]) {\n      recipient = this.graphService.friends_indexed[item.rid].relationship\n    }\n\n    if (myRids.rid == item.rid){\n      recipient = this.bulletinSecretService.identity\n    }\n\n    if (!recipient) return;\n\n    this.navCtrl.push(WebPage, {\n      recipient: recipient,\n      resource: item.relationship[this.settingsService.collections.WEB_PAGE].resource,\n      content: item.relationship[this.settingsService.collections.WEB_PAGE].content\n    });\n  }\n\n  buildPage() {\n    this.navCtrl.push(BuildPagePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/web/mypages.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from \"@angular/platform-browser\";\nimport { ErrorHandler, NgModule } from \"@angular/core\";\nimport { IonicApp, IonicErrorHandler, IonicModule } from \"ionic-angular\";\nimport { HttpModule } from \"@angular/http\";\nimport { CommonModule } from \"@angular/common\";\n\nimport { MyApp } from \"./app.component\";\nimport { HomePage } from \"../pages/home/home\";\nimport { PostModal } from \"../pages/home/postmodal\";\nimport { ListPage } from \"../pages/list/list\";\nimport { Settings } from \"../pages/settings/settings\";\nimport { ChatPage } from \"../pages/chat/chat\";\nimport { ProfilePage } from \"../pages/profile/profile\";\nimport { SiaFiles } from \"../pages/siafiles/siafiles\";\nimport { StreamPage } from \"../pages/stream/stream\";\nimport { MailPage } from \"../pages/mail/mail\";\nimport { ComposePage } from \"../pages/mail/compose\";\nimport { CalendarPage } from \"../pages/calendar/calendar\";\n\nimport { StatusBar } from \"@ionic-native/status-bar\";\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\n\nimport { QRScanner } from \"@ionic-native/qr-scanner\";\nimport { NgxQRCodeModule } from \"ngx-qrcode2\";\nimport { IonicStorageModule } from \"@ionic/storage\";\nimport { GraphService } from \"./graph.service\";\nimport { BulletinSecretService } from \"./bulletinSecret.service\";\nimport { PeerService } from \"./peer.service\";\nimport { SettingsService } from \"./settings.service\";\nimport { WalletService } from \"./wallet.service\";\nimport { WebSocketService } from \"./websocket.service\";\nimport { TransactionService } from \"./transaction.service\";\nimport { OpenGraphParserService } from \"./opengraphparser.service\";\nimport { FirebaseService } from \"./firebase.service\";\nimport { SendReceive } from \"../pages/sendreceive/sendreceive\";\nimport { Clipboard } from \"@ionic-native/clipboard\";\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\nimport { Badge } from \"@ionic-native/badge\";\nimport { Deeplinks } from \"@ionic-native/deeplinks\";\nimport { Firebase } from \"@ionic-native/firebase\";\nimport { File } from \"@ionic-native/file\";\nimport {\n  AutoCompleteModule,\n  AutoCompleteComponent,\n} from \"ionic2-auto-complete\";\nimport { CompleteTestService } from \"./autocomplete.provider\";\nimport { GoogleMaps } from \"@ionic-native/google-maps\";\nimport { MailItemPage } from \"../pages/mail/mailitem\";\nimport { SignatureRequestPage } from \"../pages/signaturerequest/signaturerequest\";\nimport { WebPage } from \"../pages/web/web\";\nimport { MyPagesPage } from \"../pages/web/mypages\";\nimport { BuildPagePage } from \"../pages/web/buildpage\";\nimport { TooltipsModule } from \"ionic-tooltips\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { AssetsPage } from \"../pages/assets/assets\";\nimport { AssetItemPage } from \"../pages/assets/assetitem\";\nimport { CreateAssetPage } from \"../pages/assets/createasset\";\nimport { SmartContractService } from \"./smartContract.service\";\nimport { MarketPage } from \"../pages/markets/market\";\nimport { MarketItemPage } from \"../pages/markets/marketitem\";\nimport { CreateSalePage } from \"../pages/markets/createsale\";\nimport { CreatePromoPage } from \"../pages/markets/createpromo\";\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    PostModal,\n    ListPage,\n    Settings,\n    SendReceive,\n    ChatPage,\n    ProfilePage,\n    SiaFiles,\n    StreamPage,\n    MailPage,\n    ComposePage,\n    CalendarPage,\n    MailItemPage,\n    SignatureRequestPage,\n    WebPage,\n    MyPagesPage,\n    BuildPagePage,\n    AssetsPage,\n    AssetItemPage,\n    MarketPage,\n    MarketItemPage,\n    CreateAssetPage,\n    CreateSalePage,\n    CreatePromoPage,\n  ],\n  imports: [\n    BrowserModule,\n    AutoCompleteModule,\n    IonicModule.forRoot(MyApp),\n    IonicStorageModule.forRoot({\n      name: \"__mydb\",\n      driverOrder: [\"websql\", \"sqlite\", \"indexeddb\"],\n    }),\n    NgxQRCodeModule,\n    HttpModule,\n    CommonModule,\n    TooltipsModule.forRoot(),\n    BrowserAnimationsModule,\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    PostModal,\n    ListPage,\n    Settings,\n    SendReceive,\n    ChatPage,\n    ProfilePage,\n    SiaFiles,\n    StreamPage,\n    MailPage,\n    ComposePage,\n    CalendarPage,\n    MailItemPage,\n    SignatureRequestPage,\n    WebPage,\n    MyPagesPage,\n    BuildPagePage,\n    AssetsPage,\n    AssetItemPage,\n    MarketPage,\n    MarketItemPage,\n    CreateAssetPage,\n    CreateSalePage,\n    CreatePromoPage,\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    QRScanner,\n    NgxQRCodeModule,\n    GraphService,\n    BulletinSecretService,\n    PeerService,\n    SettingsService,\n    WalletService,\n    WebSocketService,\n    TransactionService,\n    OpenGraphParserService,\n    Clipboard,\n    SocialSharing,\n    Badge,\n    Deeplinks,\n    Firebase,\n    FirebaseService,\n    File,\n    CompleteTestService,\n    AutoCompleteComponent,\n    GoogleMaps,\n    SmartContractService,\n  ],\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { GraphService } from './graph.service';\nimport { SettingsService } from './settings.service';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { WalletService } from './wallet.service';\nimport { Events } from 'ionic-angular';\n\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\nimport { CalendarPage } from '../pages/calendar/calendar';\nimport { Settings } from '../pages/settings/settings';\nimport { SiaFiles } from '../pages/siafiles/siafiles';\nimport { StreamPage } from '../pages/stream/stream';\nimport { SendReceive } from '../pages/sendreceive/sendreceive';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { MailPage } from '../pages/mail/mail';\nimport { Deeplinks } from '@ionic-native/deeplinks';\nimport { WebSocketService } from './websocket.service';\nimport { WebPage } from '../pages/web/web';\nimport { MyPagesPage } from '../pages/web/mypages';\nimport { BuildPagePage } from '../pages/web/buildpage';\nimport { AssetsPage } from '../pages/assets/assets';\n\ndeclare var forge;\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any;\n\n  pages: Array<{title: string, label: string, component: any, count: any, color: any, root: boolean}>;\n  graph: any;\n  friend_request_count: any;\n  new_messages_count: any;\n  version: any;\n  menu: any;\n  root: boolean;\n  notificationCount: any;\n  constructor(\n    public platform: Platform,\n    public statusBar: StatusBar,\n    public splashScreen: SplashScreen,\n    private walletService: WalletService,\n    private websocketService: WebSocketService,\n    private graphService: GraphService,\n    public settingsService: SettingsService,\n    private bulletinSecretService: BulletinSecretService,\n    public events: Events,\n    private deeplinks: Deeplinks\n  ) {\n    events.subscribe('graph', () => {\n      this.rootPage = HomePage;\n    });\n    events.subscribe('menu', (options) => {\n      this.setMenu(options);\n      if (!this.pages) return;\n      if (this.pages.length === 0) return;\n      this.root = this.pages[0].root;\n      this.openPage(this.pages[0])\n    });\n    events.subscribe('menuonly', (options) => {\n      this.setMenu(options);\n      this.root = this.pages[0].root;\n    });\n    this.rootPage = Settings;\n  }\n\n  ngAfterViewInit() {\n    this.initializeApp();\n  }\n\n  setMenu(pages = null) {\n    if (pages) {\n      this.pages = pages;\n      return\n    }\n    if (this.settingsService.menu === 'home') {\n      this.pages = [\n        { title: 'Home', label: 'Home', component: HomePage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'mail') {\n      this.pages = [\n        { title: 'Inbox', label: 'Inbox', component: MailPage, count: false, color: '', root: true },\n        { title: 'Sent', label: 'Sent', component: MailPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'chat') {\n      this.graphService.getMessagesForAllFriendsAndGroups()\n      this.pages = [\n        { title: 'Messages', label: 'Chat', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'community') {\n      this.graphService.getMessagesForAllFriendsAndGroups()\n      this.pages = [\n        { title: 'Community', label: 'Community', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'calendar') {\n      this.pages = [\n        { title: 'Calendar', label: 'Calendar', component: CalendarPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'contacts') {\n      this.pages = [\n        { title: 'Contacts', label: 'Contacts', component: ListPage, count: false, color: '', root: true },\n        { title: 'Contact Requests', label: 'Contact Requests', component: ListPage, count: false, color: '', root: true },\n        { title: 'Groups', label: 'Groups', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'assets') {\n      this.pages = [\n        { title: 'Assets', label: 'Assets', component: AssetsPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'markets') {\n      this.pages = [\n        { title: 'Markets', label: 'Markets', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'affiliates') {\n      this.pages = [\n        { title: 'Affiliates', label: 'Affiliates', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'files') {\n      this.pages = [\n        { title: 'Files', label: 'Files', component: SiaFiles, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'wallet') {\n      this.pages = [\n        { title: 'Send / Receive', label: 'Send / Receive', component: SendReceive, count: false, color: '', root: true }\n      ];\n    } else if (this.settingsService.menu === 'stream') {\n      this.pages = [\n        { title: 'Stream', label: 'Stream', component: StreamPage, count: false, color: '', root: true }\n      ]\n    } else if (this.settingsService.menu === 'settings') {\n      this.pages = [\n        { title: 'Settings', label: 'Identity', component: Settings, count: false, color: '', root: true },\n        //{ title: 'Profile', label: 'Profile', component: ProfilePage, count: false, color: '', root: true }\n      ];\n    } else if (this.settingsService.menu === 'notifications') {\n      this.pages = [\n        { title: 'Notifications', label: 'Notifications', component: ListPage, count: false, color: '', root: true },\n      ];\n    } else if (this.settingsService.menu === 'web') {\n      this.pages = [\n        { title: 'Web', label: 'Web', component: WebPage, count: false, color: '', root: true },\n        { title: 'Create page', label: 'Create page', component: BuildPagePage, count: false, color: '', root: true },\n        { title: 'My pages', label: 'My pages', component: MyPagesPage, count: false, color: '', root: true },\n      ];\n    }\n  }\n\n  initializeApp() {\n    this.platform.ready()\n    .then(() => {\n      if(this.platform.is('cordova')) {\n        this.deeplinks.routeWithNavController(this.nav, {\n        }).subscribe(match => {\n            // match.$route - the route we matched, which is the matched entry from the arguments to route()\n            // match.$args - the args passed in the link\n            // match.$link - the full link data\n            console.log('Successfully matched route', match);\n        }, nomatch => {\n            // nomatch.$link - the full link data\n            console.error('Got a deeplink that didn\\'t match', nomatch);\n        });\n      }\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      if (this.platform.is('android') || this.platform.is('ios')) {\n        this.statusBar.styleDefault();\n        this.splashScreen.hide();\n      }\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    if (page.root) {\n      this.nav.setRoot(page.component, {pageTitle: page, ...page.kwargs});\n    } else {\n      this.nav.push(page.component, {pageTitle: page, ...page.kwargs})\n    }\n  }\n\n  segmentChanged(e) {\n    this.settingsService.menu = e.currentTarget.value;\n    this.setMenu();\n    this.root = this.pages[0].root;\n    this.openPage(this.pages[0])\n  }\n\n  decrypt(message) {\n      var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.bulletinSecretService.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n      var decipher = forge.cipher.createDecipher('AES-CBC', key);\n      var enc = this.hexToBytes(message);\n      decipher.start({iv: enc.slice(0,16)});\n      decipher.update(forge.util.createBuffer(enc.slice(16)));\n      decipher.finish();\n      return decipher.output\n  }\n\n  hexToBytes(s) {\n      var arr = []\n      for (var i = 0; i < s.length; i += 2) {\n          var c = s.substr(i, 2);\n          arr.push(parseInt(c, 16));\n      }\n      return String.fromCharCode.apply(null, arr);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 587\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 589\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// buffer (ignored)\n// module id = 623\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 624\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { WalletService } from './wallet.service';\nimport { SettingsService } from './settings.service';\nimport { Http } from '@angular/http';\nimport { encrypt, decrypt, PrivateKey } from 'eciesjs'\n\ndeclare var foobar;\ndeclare var forge;\ndeclare var Base64;\n\n@Injectable()\nexport class SmartContractService {\n\n    version = 1\n\n    payoutOperators = {\n        PERCENT: 'percent',\n        FIXED: 'fixed'\n    }\n\n\n    payoutType = {\n        RECURRING: 'recurring',\n        ONE_TIME: 'one_time'\n    }\n\n\n    assetProofTypes = {\n        CONFIRMATION: 'confirmation',\n        FIRST_COME: 'first_come',\n        AUCTION: 'auction'\n    }\n\n\n    promoProofTypes = {\n        COINBASE: 'coinbase',\n        CONFIRMATION: 'confirmation',\n        HONOR: 'honor'\n    }\n\n    contractTypes = {\n        CHANGE_OWNERSHIP: 'change_ownership',\n        NEW_RELATIONSHIP: 'new_relationship'\n    }\n\n    constructor(\n        private settingsService: SettingsService\n    ) { }\n\n    generateChangeOfOwnership(\n      asset,\n      creator,\n      amount,\n      proof_type,\n      market,\n      contract_expiry\n    ) {\n      const key = foobar.bitcoin.ECPair.makeRandom();\n      const wif = key.toWIF();\n      const username = '';\n      const username_signature = foobar.base64.fromByteArray(key.sign(foobar.bitcoin.crypto.sha256(username)).toDER());\n      const public_key = key.getPublicKeyBuffer().toString('hex');\n      const identity = {\n        username: username,\n        username_signature: username_signature,\n        public_key: public_key,\n        wif: wif,\n        collection: this.settingsService.collections.SMART_CONTRACT\n      }\n      const expiry = parseInt(contract_expiry) + parseInt(this.settingsService.latest_block.height)\n      const contract_type = this.contractTypes.CHANGE_OWNERSHIP\n      const payout_amount = 1\n      const payout_operator = this.payoutOperators.PERCENT\n      const payout_type = this.payoutType.ONE_TIME\n      const price = amount;\n      const username_signatures = [market.username_signature, market.username_signature].sort(function (a, b) {\n        return a.toLowerCase().localeCompare(b.toLowerCase());\n      });\n      const market_rid = forge.sha256.create().update(username_signatures[0] + username_signatures[1] + this.settingsService.collections.MARKET).digest().toHex();\n\n      return {\n        version: this.version,\n        expiry,\n        contract_type,\n        payout_amount,\n        payout_operator,\n        payout_type,\n        proof_type,\n        price,\n        identity,\n        asset,\n        creator,\n        market: market_rid\n      }\n    }\n\n    generateNewRelationshipPromo(\n      creator,\n      proof_type,\n      target,\n      market,\n      pay_referrer,\n      pay_referrer_operator,\n      pay_referrer_payout_type,\n      pay_referrer_payout_interval,\n      pay_referrer_amount,\n      pay_referee,\n      pay_referee_operator,\n      pay_referee_payout_type,\n      pay_referee_payout_interval,\n      pay_referee_amount,\n      contract_expiry\n    ) {\n      const key = foobar.bitcoin.ECPair.makeRandom();\n      const wif = key.toWIF();\n      const username = '';\n      const username_signature = foobar.base64.fromByteArray(key.sign(foobar.bitcoin.crypto.sha256(username)).toDER());\n      const public_key = key.getPublicKeyBuffer().toString('hex');\n      const identity = {\n        username: username,\n        username_signature: username_signature,\n        public_key: public_key,\n        wif: wif,\n        collection: this.settingsService.collections.SMART_CONTRACT\n      }\n      const expiry = parseInt(contract_expiry) + parseInt(this.settingsService.latest_block.height)\n      const contract_type = this.contractTypes.NEW_RELATIONSHIP\n      const username_signatures = [market.username_signature, market.username_signature].sort(function (a, b) {\n          return a.toLowerCase().localeCompare(b.toLowerCase());\n      });\n      const market_rid = forge.sha256.create().update(username_signatures[0] + username_signatures[1] + this.settingsService.collections.MARKET).digest().toHex();\n\n      return {\n        version: this.version,\n        expiry,\n        contract_type,\n        proof_type,\n        identity,\n        creator,\n        target: target,\n        market: market_rid,\n        referrer: {\n          active: pay_referrer,\n          operator: pay_referrer_operator,\n          payout_type: pay_referrer_payout_type,\n          amount: pay_referrer_amount,\n          interval: pay_referrer_payout_interval || ''\n        },\n        referee: {\n          active: pay_referee,\n          operator: pay_referee_operator,\n          payout_type: pay_referee_payout_type,\n          amount: pay_referee_amount,\n          interval: pay_referee_payout_interval || ''\n        }\n      }\n    }\n\n    toString(contract) {\n      if(contract.contract_type === this.contractTypes.CHANGE_OWNERSHIP) {\n        return (\n          '' +\n          contract.version +\n          contract.expiry +\n          contract.contract_type +\n          contract.payout_amount.toFixed(8) +\n          contract.payout_operator +\n          contract.payout_type +\n          contract.market +\n          contract.proof_type +\n          contract.price.toFixed(8) +\n          contract.identity.username_signature +\n          contract.asset +\n          contract.creator\n        )\n      } else if(contract.contract_type === this.contractTypes.NEW_RELATIONSHIP) {\n\n        const referrer_str = contract.referrer.active === true ? (\n          'true' +\n          contract.referrer.operator +\n          contract.referrer.payout_type +\n          contract.referrer.interval +\n          contract.referrer.amount.toFixed(8)\n        ) : 'false';\n        const referee_str = contract.referee.active === true ? (\n          'true' +\n          contract.referee.operator +\n          contract.referee.payout_type +\n          contract.referee.interval +\n          contract.referee.amount.toFixed(8)\n        ) : 'false';\n        return (\n          '' +\n          contract.version +\n          contract.expiry +\n          contract.contract_type +\n          contract.proof_type +\n          contract.target +\n          contract.market +\n          contract.identity.username_signature +\n          referrer_str +\n          referee_str +\n          contract.creator\n        )\n      }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/smartContract.service.ts","import { Component } from \"@angular/core\";\nimport { List, NavController, NavParams, ToastController } from \"ionic-angular\";\nimport { AlertController, LoadingController } from \"ionic-angular\";\nimport { Storage } from \"@ionic/storage\";\nimport { GraphService } from \"../../app/graph.service\";\nimport { BulletinSecretService } from \"../../app/bulletinSecret.service\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\nimport { ChatPage } from \"../chat/chat\";\nimport { ProfilePage } from \"../profile/profile\";\nimport { SignatureRequestPage } from \"../signaturerequest/signaturerequest\";\nimport { Events } from \"ionic-angular\";\nimport { Http } from \"@angular/http\";\nimport { MailPage } from \"../mail/mail\";\nimport { MailItemPage } from \"../mail/mailitem\";\nimport { WebSocketService } from \"../../app/websocket.service\";\nimport { CalendarPage } from \"../calendar/calendar\";\nimport { MarketPage } from \"../markets/market\";\n\ndeclare var X25519;\ndeclare var foobar;\n\n@Component({\n  selector: \"page-list\",\n  templateUrl: \"list.html\",\n})\nexport class ListPage {\n  selectedItem: any;\n  pageTitle: any;\n  icons: string[];\n  items: Array<{ pageTitle: string; identity: object; item: object }>;\n  blockchainAddress: any;\n  balance: any;\n  baseUrl: any;\n  createdCode: any;\n  confirmCode: any;\n  loading: any;\n  loadingBalance: any;\n  loadingModal: any;\n  createdCodeEncoded: any;\n  friend_request: any;\n  context: any;\n  signIn: any;\n  signInText: any;\n  rid: any;\n  label: any;\n  subitems: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private storage: Storage,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private walletService: WalletService,\n    private transactionService: TransactionService,\n    private socialSharing: SocialSharing,\n    private alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public events: Events,\n    private ahttp: Http,\n    private settingsService: SettingsService,\n    private toastCtrl: ToastController,\n    private websocketService: WebSocketService\n  ) {\n    this.loadingModal = this.loadingCtrl.create({\n      content: \"Please wait...\",\n    });\n    this.refresh(null).catch((e) => {\n      console.log(e);\n    });\n    events.subscribe(\"notification\", () => {\n      this.settingsService.menu === \"notifications\" && this.choosePage();\n    });\n  }\n\n  refresh(refresher) {\n    this.subitems = {};\n    this.loading = true;\n    this.loadingBalance = true;\n\n    // If we navigated to this page, we will have an item available as a nav param\n    return this.storage\n      .get(\"blockchainAddress\")\n      .then((blockchainAddress) => {\n        this.blockchainAddress = blockchainAddress;\n        return this.storage.get(\"baseUrl\");\n      })\n      .then((baseUrl) => {\n        this.baseUrl = baseUrl;\n        this.selectedItem = this.navParams.get(\"item\");\n        this.context = this.navParams.get(\"context\");\n        this.pageTitle = this.selectedItem\n          ? this.selectedItem.pageTitle\n          : this.navParams.get(\"pageTitle\").title;\n        return this.choosePage();\n      })\n      .then(() => {\n        if (refresher) refresher.complete();\n      });\n  }\n\n  createGroup() {\n    this.graphService\n      .getInfo()\n      .then(() => {\n        return new Promise((resolve, reject) => {\n          let alert = this.alertCtrl.create({\n            title: \"Group name\",\n            inputs: [\n              {\n                name: \"groupname\",\n                placeholder: \"Group name\",\n              },\n            ],\n            buttons: [\n              {\n                text: \"Save\",\n                handler: (data) => {\n                  const toast = this.toastCtrl.create({\n                    message: \"Group created\",\n                    duration: 2000,\n                  });\n                  toast.present();\n                  resolve(data.groupname);\n                },\n              },\n            ],\n          });\n          alert.present();\n        });\n      })\n      .then((groupName) => {\n        return this.graphService.createGroup(groupName);\n      })\n      .then((identity) => {\n        this.websocketService.joinGroup(identity);\n        return this.choosePage();\n      });\n  }\n\n  choosePage() {\n    return new Promise((resolve, reject) => {\n      if (!this.selectedItem) {\n        this.label = this.navParams.get(\"pageTitle\").label;\n        // Let's populate this page with some filler content for funzies\n        this.icons = [\n          \"flask\",\n          \"wifi\",\n          \"beer\",\n          \"football\",\n          \"basketball\",\n          \"paper-plane\",\n          \"american-football\",\n          \"boat\",\n          \"bluetooth\",\n          \"build\",\n        ];\n        var public_key = \"\";\n        var graphArray = [];\n        if (this.pageTitle == \"Contacts\") {\n          graphArray = this.graphService.graph.friends.filter((item) => {\n            return !!item.relationship[\n              this.settingsService.collections.CONTACT\n            ];\n          });\n          graphArray = this.getDistinctFriends(graphArray).friend_list;\n          this.graphService.sortTxnsByUsername(\n            graphArray,\n            false,\n            this.settingsService.collections.CONTACT\n          );\n          this.makeList(graphArray, \"Contacts\", null);\n          this.loading = false;\n        } else if (this.pageTitle == \"Groups\") {\n          this.subitems = {};\n          for (let i = 0; i < this.graphService.graph.groups.length; i++) {\n            let item = this.graphService.graph.groups[i];\n            let parentIdentity = this.graphService.getParentIdentityFromTxn(\n              item,\n              this.settingsService.collections.GROUP\n            );\n            let itemIdentity = this.graphService.getIdentityFromTxn(\n              item,\n              this.settingsService.collections.GROUP\n            );\n            if (parentIdentity) {\n              this.subitems[parentIdentity.username_signature] =\n                this.subitems[parentIdentity.username_signature] || [];\n              this.subitems[parentIdentity.username_signature].push({\n                pageTitle: this.pageTitle,\n                identity: itemIdentity,\n                item: item,\n              });\n            } else {\n              graphArray.push(item);\n            }\n          }\n          this.graphService.sortTxnsByUsername(\n            graphArray,\n            false,\n            this.settingsService.collections.GROUP\n          );\n          this.makeList(graphArray, \"Groups\", null);\n          this.loading = false;\n        } else if (this.pageTitle == \"Markets\") {\n          this.loading = false;\n          this.graphService.sortTxnsByUsername(this.graphService.graph.markets);\n          let marketList = this.graphService.graph.markets.filter((item) => {\n            let parentIdentity = this.graphService.getParentIdentityFromTxn(\n              item,\n              this.settingsService.collections.MARKET\n            );\n            if (parentIdentity) {\n              this.subitems[parentIdentity.username_signature] =\n                this.subitems[parentIdentity.username_signature] || [];\n              let identity = this.graphService.getIdentityFromTxn(\n                item,\n                this.settingsService.collections.MARKET\n              );\n              this.subitems[parentIdentity.username_signature].push({\n                title: \"Markets\",\n                label: identity.username,\n                component: MarketPage,\n                count: false,\n                color: \"\",\n                kwargs: {\n                  item: item,\n                  identity: identity,\n                  subitems: this.subitems,\n                },\n                root: true,\n              });\n            }\n            return !parentIdentity;\n          });\n          return this.makeList(marketList, \"\", {\n            title: \"Markets\",\n            component: MarketPage,\n          }).then((pages) => {\n            this.events.publish(\"menu\", pages);\n            this.loading = false;\n          });\n        } else if (this.pageTitle == \"Messages\") {\n          public_key = this.bulletinSecretService.key\n            .getPublicKeyBuffer()\n            .toString(\"hex\");\n          return this.graphService\n            .getNewMessages()\n            .then((graphArray) => {\n              var messages = this.markNew(\n                public_key,\n                graphArray,\n                this.graphService.new_messages_counts\n              );\n              var friendsWithMessagesList = this.getDistinctFriends(messages);\n              this.populateRemainingFriends(\n                friendsWithMessagesList.friend_list,\n                friendsWithMessagesList.used_rids\n              );\n              this.loading = false;\n              this.graphService.sortTxnsByUsername(\n                friendsWithMessagesList.friend_list,\n                false,\n                this.settingsService.collections.CONTACT\n              );\n              return this.makeList(friendsWithMessagesList.friend_list, \"\", {\n                title: \"Messages\",\n                component: ChatPage,\n              }).then((pages) => {\n                this.events.publish(\"menu\", pages);\n              });\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        } else if (this.pageTitle == \"Notifications\") {\n          public_key = this.bulletinSecretService.key\n            .getPublicKeyBuffer()\n            .toString(\"hex\");\n          const notifications = this.graphService.getNotifications();\n          this.loading = false;\n          notifications[\"notifications\"].sort(function (a, b) {\n            try {\n              if (parseInt(a.time) < parseInt(b.time)) return 1;\n              if (parseInt(a.time) > parseInt(b.time)) return -1;\n              return 0;\n            } catch (err) {\n              return 0;\n            }\n          });\n          notifications[\"notifications\"].map((item) => {\n            if (\n              item.relationship[this.settingsService.collections.MAIL] ||\n              item.relationship[this.settingsService.collections.GROUP_MAIL]\n            ) {\n              item.component = MailItemPage;\n              item.item = this.graphService.prepareMailItem(item, \"Inbox\");\n              const identity =\n                this.graphService.getIdentityFromMessageTransaction(item);\n              item.label = \"Mail from \" + identity.username;\n            } else if (\n              item.relationship[this.settingsService.collections.CHAT] ||\n              item.relationship[this.settingsService.collections.GROUP_CHAT]\n            ) {\n              item.component = ChatPage;\n              const identity =\n                this.graphService.getIdentityFromMessageTransaction(item);\n              item.identity = identity;\n              item.label = \"Chat from \" + identity.username;\n            } else if (\n              item.relationship[this.settingsService.collections.CALENDAR] ||\n              item.relationship[this.settingsService.collections.GROUP_CALENDAR]\n            ) {\n              item.component = CalendarPage;\n              const identity =\n                this.graphService.getIdentityFromMessageTransaction(item);\n              item.identity = identity;\n              item.label = \"Calendar entry from \" + identity.username;\n            } else if (\n              this.graphService.graph.friend_requests.filter((fr) => {\n                return fr.rid === item.rid;\n              }).length > 0\n            ) {\n              item.component = ListPage;\n              const identity = this.graphService.getIdentityFromTxn(item);\n              item.identity = identity;\n              item.label = \"Contact request from \" + identity.username;\n              item.pageTitle = \"Contact Requests\";\n              item.item = item;\n            } else if (\n              this.graphService.graph.friends.filter((f) => {\n                return f.rid === item.rid;\n              }).length > 0\n            ) {\n              item.component = ProfilePage;\n              const identity =\n                this.graphService.getIdentityFromMessageTransaction(item);\n              item.identity = identity;\n              item.label =\n                \"Contact \" + identity.username + \" accepted your request \";\n              item.pageTitle = \"Contacts\";\n              item.item = item;\n            } else if (item.relationship.signature_request) {\n              item.component = SignatureRequestPage;\n            }\n          });\n          return this.makeList(notifications[\"notifications\"], \"\", {\n            title: \"Notifications\",\n            component: ChatPage,\n          }).then((pages: Array<Object>) => {\n            pages.length > 0 && this.events.publish(\"menu\", pages);\n          });\n        } else if (this.pageTitle == \"Community\") {\n          public_key = this.bulletinSecretService.key\n            .getPublicKeyBuffer()\n            .toString(\"hex\");\n          this.loading = false;\n          this.graphService.sortTxnsByUsername(this.graphService.graph.groups);\n          let groupList = this.graphService.graph.groups.filter((item) => {\n            let parentIdentity = this.graphService.getParentIdentityFromTxn(\n              item,\n              this.settingsService.collections.GROUP\n            );\n            if (parentIdentity) {\n              this.subitems[parentIdentity.username_signature] =\n                this.subitems[parentIdentity.username_signature] || [];\n              let identity = this.graphService.getIdentityFromTxn(\n                item,\n                this.settingsService.collections.GROUP\n              );\n              this.subitems[parentIdentity.username_signature].push({\n                title: \"Community\",\n                label: identity.username,\n                component: ChatPage,\n                count: false,\n                color: \"\",\n                kwargs: {\n                  item: item,\n                  identity: identity,\n                  subitems: this.subitems,\n                },\n                root: true,\n              });\n            }\n            return !parentIdentity;\n          });\n          return this.makeList(groupList, \"\", {\n            title: \"Community\",\n            component: ChatPage,\n          }).then((pages) => {\n            this.events.publish(\"menu\", pages);\n            this.loading = false;\n          });\n        } else if (this.pageTitle == \"Sent\") {\n          public_key = this.bulletinSecretService.key\n            .getPublicKeyBuffer()\n            .toString(\"hex\");\n          return this.graphService\n            .getSentMessages()\n            .then((graphArray) => {\n              var messages = this.markNew(\n                public_key,\n                graphArray,\n                this.graphService.new_messages_counts\n              );\n              var friendsWithMessagesList = this.getDistinctFriends(messages);\n              this.populateRemainingFriends(\n                friendsWithMessagesList.friend_list,\n                friendsWithMessagesList.used_rids\n              );\n              this.loading = false;\n              this.graphService.sortTxnsByUsername(\n                friendsWithMessagesList.friend_list,\n                false,\n                this.settingsService.collections.CONTACT\n              );\n              return this.makeList(\n                friendsWithMessagesList.friend_list,\n                \"Messages\",\n                null\n              );\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        } else if (this.pageTitle == \"Sign Ins\") {\n          public_key = this.bulletinSecretService.key\n            .getPublicKeyBuffer()\n            .toString(\"hex\");\n          return this.graphService.getNewSignIns().then((graphArray) => {\n            var sign_ins = this.markNew(\n              public_key,\n              graphArray,\n              this.graphService.new_sign_ins_counts\n            );\n            var friendsWithSignInsList = this.getDistinctFriends(sign_ins);\n            this.populateRemainingFriends(\n              friendsWithSignInsList.friend_list,\n              friendsWithSignInsList.used_rids\n            );\n            this.loading = false;\n            return this.makeList(\n              friendsWithSignInsList.friend_list,\n              \"Sing Ins\",\n              null\n            );\n          });\n        } else if (this.pageTitle == \"Contact Requests\") {\n          return this.graphService.getFriendRequests().then(() => {\n            var graphArray = this.graphService.graph.friend_requests;\n            this.graphService.sortTxnsByUsername(\n              graphArray,\n              false,\n              this.settingsService.collections.CONTACT\n            );\n            this.loading = false;\n            return this.makeList(graphArray, \"Contact Requests\", null);\n          });\n        } else if (this.pageTitle == \"Sent Requests\") {\n          return this.graphService.getSentFriendRequests().then(() => {\n            var graphArray = this.graphService.graph.sent_friend_requests;\n            this.graphService.sortTxnsByUsername(\n              graphArray,\n              false,\n              this.settingsService.collections.CONTACT\n            );\n            this.loading = false;\n            return this.makeList(graphArray, \"Sent Requests\", null);\n          });\n        } else if (this.pageTitle == \"Reacts Detail\") {\n          graphArray = this.navParams.get(\"detail\");\n          this.loading = false;\n          return this.makeList(graphArray, \"Reacts Detail\", null);\n        } else if (this.pageTitle == \"Comment Reacts Detail\") {\n          graphArray = this.navParams.get(\"detail\");\n          this.loading = false;\n          return this.makeList(graphArray, \"Comment Reacts Detail\", null);\n        }\n      } else {\n        this.loading = false;\n        this.loadingBalance = false;\n        if (this.pageTitle == \"Sent Requests\") {\n          resolve(null);\n        } else if (this.pageTitle == \"Contact Requests\") {\n          this.friend_request = this.navParams.get(\"item\").item;\n          resolve(null);\n        } else if (this.pageTitle == \"Sign Ins\") {\n          this.rid = this.navParams.get(\"item\").transaction.rid;\n          this.graphService\n            .getSignIns(this.rid)\n            .then((signIn: any) => {\n              this.signIn = signIn[0];\n              this.signInText = this.signIn.relationship.signIn;\n              resolve(null);\n            })\n            .catch((e) => {\n              console.log(e);\n              reject(e);\n            });\n        }\n      }\n    });\n  }\n\n  markNew(public_key, graphArray, graphCount) {\n    var collection = [];\n    for (let i in graphArray) {\n      if (\n        public_key !== graphArray[i][\"public_key\"] &&\n        graphCount[i] &&\n        graphCount[i] < graphArray[i][\"height\"]\n      ) {\n        graphArray[i][\"new\"] = true;\n      }\n      collection.push(graphArray[i]);\n    }\n    return collection;\n  }\n\n  getDistinctFriends(collection) {\n    // using the rids from new items\n    // make a list of friends sorted by block height descending (most recent)\n    var friend_list = [];\n    var used_rids = [];\n    for (var i = 0; i < collection.length; i++) {\n      // we could have multiple transactions per friendship\n      // so make sure we're going using the rid once\n      var item = collection[i];\n      if (!this.graphService.friends_indexed[item.rid]) {\n        continue;\n      }\n      if (\n        used_rids.indexOf(this.graphService.friends_indexed[item.rid]) === -1\n      ) {\n        friend_list.push(item);\n        used_rids.push(this.graphService.friends_indexed[item.rid]);\n      }\n    }\n    return {\n      friend_list: friend_list,\n      used_rids: used_rids,\n    };\n  }\n\n  populateRemainingFriends(friend_list, used_rids) {\n    // now add everyone else\n    let friendsAndGroupsList = this.graphService.graph.friends;\n    for (var i = 0; i < friendsAndGroupsList.length; i++) {\n      let rid;\n      if (\n        this.graphService.groups_indexed[friendsAndGroupsList[i].requested_rid]\n      ) {\n        rid = friendsAndGroupsList[i].requested_rid;\n      } else {\n        rid = friendsAndGroupsList[i].rid;\n      }\n      if (used_rids.indexOf(rid) === -1) {\n        friend_list.push(friendsAndGroupsList[i]);\n        used_rids.push(rid);\n      }\n    }\n  }\n\n  populateRemainingGroups(friend_list, used_rids) {\n    // now add everyone else\n    const friendsAndGroupsList = this.graphService.graph.groups;\n    for (var i = 0; i < friendsAndGroupsList.length; i++) {\n      let rid;\n      if (\n        this.graphService.groups_indexed[friendsAndGroupsList[i].requested_rid]\n      ) {\n        rid = friendsAndGroupsList[i].requested_rid;\n      } else {\n        rid = friendsAndGroupsList[i].rid;\n      }\n      if (used_rids.indexOf(rid) === -1) {\n        friend_list.push(friendsAndGroupsList[i]);\n        used_rids.push(rid);\n      }\n    }\n  }\n\n  makeList(graphArray, pageTitle: any, page: any) {\n    return new Promise((resolve, reject) => {\n      const items = [];\n      this.items = [];\n      for (let i = 0; i < graphArray.length; i++) {\n        const item = graphArray[i];\n        let identity =\n          item.identity || this.graphService.getIdentityFromTxn(item);\n        if (page) {\n          const component = item.component || page.component;\n          const label = identity && identity.username;\n          items.push({\n            title: page.title,\n            label: item.label || label,\n            component: component,\n            count: false,\n            color: \"\",\n            kwargs: {\n              item: item.item || item,\n              identity: identity,\n              subitems: this.subitems,\n            },\n            root: true,\n          });\n        } else {\n          this.items.push({\n            pageTitle: pageTitle,\n            identity: identity,\n            item: item,\n          });\n        }\n      }\n      resolve(items);\n    });\n  }\n\n  newChat() {\n    var item = { pageTitle: { title: \"Friends\" }, context: \"newChat\" };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  itemTapped(event, item) {\n    if (this.pageTitle == \"Messages\") {\n      this.navCtrl.push(ChatPage, item);\n    } else if (this.pageTitle == \"Community\") {\n      this.navCtrl.push(ChatPage, item);\n    } else if (this.pageTitle == \"Markets\") {\n      this.navCtrl.push(MarketPage, item);\n    } else if (this.pageTitle == \"Groups\") {\n      this.navCtrl.push(ProfilePage, item);\n    } else if (this.pageTitle == \"Contacts\") {\n      this.navCtrl.push(ProfilePage, item);\n    } else if (this.pageTitle == \"Notifications\") {\n      if (\n        item.relationship[this.settingsService.collections.SIGNATURE_REQUEST]\n      ) {\n        this.navCtrl.push(SignatureRequestPage, item);\n      } else if (item.relationship[this.settingsService.collections.MAIL]) {\n        this.navCtrl.push(MailItemPage, item);\n      }\n    } else {\n      this.navCtrl.push(ListPage, {\n        item,\n      });\n    }\n  }\n\n  accept() {\n    this.loading = true;\n    const rids = this.graphService.generateRids(\n      this.friend_request.relationship[this.settingsService.collections.CONTACT]\n    );\n    return this.graphService\n      .addFriend(\n        this.friend_request.relationship[\n          this.settingsService.collections.CONTACT\n        ],\n        rids.rid,\n        rids.requested_rid,\n        this.friend_request.requested_rid\n      )\n      .then((txn) => {\n        return this.graphService.refreshFriendsAndGroups();\n      })\n      .then(() => {\n        this.loading = false;\n        var alert = this.alertCtrl.create();\n        alert.setTitle(\"Friend Accept Sent\");\n        alert.setSubTitle(\n          \"Your Friend Request acceptance has been submitted successfully.\"\n        );\n        alert.addButton(\"Ok\");\n        alert.present();\n        this.navCtrl.setRoot(ListPage, {\n          pageTitle: {\n            title: \"Contacts\",\n            label: \"Contacts\",\n            component: ListPage,\n            count: false,\n            color: \"\",\n          },\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  getIdentity() {\n    return new Promise((resolve, reject) => {\n      var buttons = [];\n      buttons.push({\n        text: \"Add\",\n        handler: (data) => {\n          resolve(data.identity);\n        },\n      });\n      let alert = this.alertCtrl.create({\n        inputs: [\n          {\n            name: \"identity\",\n            placeholder: \"Paste identity here...\",\n          },\n        ],\n        buttons: buttons,\n      });\n      alert.setTitle(\"Request contact\");\n      alert.setSubTitle(\"Paste the identity of your contact below\");\n      alert.present();\n    });\n  }\n\n  addFriend() {\n    return this.getPromo()\n      .then((promo_code) => {\n        if (this.settingsService.remoteSettings.restricted) {\n          return this.getIdentity().then((data: any) => {\n            return this.graphService.addFriendFromSkylink(data.identity);\n          });\n        }\n        if (promo_code) {\n          let promo;\n          return this.graphService\n            .getPromotion(promo_code)\n            .then((promotion: any) => {\n              promo =\n                promotion.relationship[\n                  this.settingsService.collections.AFFILIATE\n                ].target;\n              this.graphService.addFriend(\n                promo,\n                null,\n                promotion.rid,\n                promotion.requested_rid\n              );\n            })\n            .then(() => {\n              return this.graphService.addFriend(promo); // add friend to global context\n            });\n        } else {\n          return this.getIdentity().then((identity: any) => {\n            return this.graphService.addFriend(JSON.parse(identity));\n          });\n        }\n      })\n      .then(() => {\n        let alert = this.alertCtrl.create();\n        alert.setTitle(\"Contact added\");\n        alert.setSubTitle(\"Your contact was added successfully\");\n        alert.addButton(\"Ok\");\n        alert.present();\n        return this.choosePage();\n      });\n  }\n\n  addGroup() {\n    let group;\n    return this.getPromo()\n      .then((promo_code) => {\n        if (this.settingsService.remoteSettings.restricted) {\n          return this.getIdentity().then((data: any) => {\n            return this.graphService.addGroupFromSkylink(data.identity);\n          });\n        }\n        if (promo_code) {\n          return this.graphService\n            .getPromotion(promo_code)\n            .then((promotion: any) => {\n              group =\n                promotion.relationship[\n                  this.settingsService.collections.AFFILIATE\n                ].target;\n              group.parent = this.graphService.toIdentity(\n                promotion.relationship[\n                  this.settingsService.collections.AFFILIATE\n                ].contract\n              );\n              return this.graphService\n                .addGroup(group, promotion.rid, null, promotion.requested_rid)\n                .then(() => {\n                  return this.graphService.addGroup(group); // add group to global context\n                });\n            });\n        } else {\n          return this.getIdentity().then((identity: any) => {\n            group = identity;\n            return this.graphService.addGroup(JSON.parse(identity));\n          });\n        }\n      })\n      .then(() => {\n        this.websocketService.joinGroup(group);\n        let alert = this.alertCtrl.create();\n        alert.setTitle(\"Group added\");\n        alert.setSubTitle(\"Your group was added successfully\");\n        alert.addButton(\"Ok\");\n        alert.present();\n        return this.choosePage();\n      });\n  }\n\n  getPromo() {\n    return new Promise((resolve, reject) => {\n      let alert = this.alertCtrl.create({\n        title: \"Do you have a promotion code?\",\n        subTitle: \"If so, enter it now, otherwise, leave blank.\",\n        inputs: [\n          {\n            name: \"promo\",\n            placeholder: \"Promo code\",\n          },\n        ],\n        buttons: [\n          {\n            text: \"Cancel\",\n            role: \"cancel\",\n            handler: (data) => {\n              console.log(\"Cancel clicked\");\n              reject(\"Cancel clicked\");\n            },\n          },\n          {\n            text: \"confirm\",\n            handler: (data) => {\n              resolve(data.promo);\n            },\n          },\n        ],\n      });\n      alert.present();\n    });\n  }\n\n  sendSignIn() {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(\"Approve transaction\");\n    alert.setSubTitle(\"You are about to spend 0.01 coins ( 0.01 fee)\");\n    alert.addButton(\"Cancel\");\n    alert.addButton({\n      text: \"Confirm\",\n      handler: (data: any) => {\n        this.walletService\n          .get()\n          .then(() => {\n            return this.graphService.getSharedSecretForRid(this.rid);\n          })\n          .then((result) => {\n            if (result) {\n              let alert = this.alertCtrl.create();\n              alert.setTitle(\"Message sent\");\n              alert.setSubTitle(\"Your message has been sent successfully\");\n              alert.addButton(\"Ok\");\n              alert.present();\n            }\n            this.navCtrl.pop();\n          });\n      },\n    });\n    alert.present();\n  }\n\n  share(code) {\n    this.socialSharing.share(code);\n  }\n\n  showChat() {\n    var item = { pageTitle: { title: \"Chat\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  showFriendRequests() {\n    var item = { pageTitle: { title: \"Friend Requests\" } };\n    this.navCtrl.push(ListPage, item);\n  }\n\n  toHex(byteArray) {\n    var callback = function (byte) {\n      return (\"0\" + (byte & 0xff).toString(16)).slice(-2);\n    };\n    return Array.from(byteArray, callback).join(\"\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { ListPage } from '../list/list';\nimport { ChatPage } from '../chat/chat';\nimport { Http } from '@angular/http';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { SettingsService } from '../../app/settings.service';\nimport { Events } from 'ionic-angular';\nimport { ComposePage } from '../mail/compose';\nimport { SendReceive } from '../sendreceive/sendreceive';\n\ndeclare var Base64;\ndeclare var forge;\ndeclare var X25519;\ndeclare var foobar;\n\n@Component({\n    selector: 'page-profile',\n    templateUrl: 'profile.html'\n})\nexport class ProfilePage {\n    baseUrl: any;\n    loadingModal: any;\n    prev_name: any;\n    item: any;\n    isAdded: any;\n    isMe: any;\n    group: any;\n    identity: any;\n    subgroups = [];\n    collectionName: any;\n    identityJson: any;\n    tempIdentity: any;\n    rid: any;\n    requested_rid: any;\n    requester_rid: any;\n    identitySkylink: any;\n    busy: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        private ahttp: Http,\n        public loadingCtrl: LoadingController,\n        public settingsService: SettingsService,\n        public alertCtrl: AlertController,\n        public transactionService: TransactionService,\n        public toastCtrl: ToastController,\n        public events: Events\n    ) {\n        this.item = this.navParams.get('item');\n        this.identity = this.navParams.get('identity');\n        const rids = this.graphService.generateRids(this.identity);\n        this.rid = rids.rid;\n        this.requested_rid = rids.requested_rid;\n        this.requester_rid = rids.requester_rid;\n        if (this.settingsService.remoteSettings.restricted) {\n          this.busy = true;\n          this.graphService.identityToSkylink(this.identity)\n          .then((skylink) => {\n            this.identitySkylink = skylink;\n            this.busy = false;\n          })\n        } else {\n          this.identityJson = JSON.stringify(this.graphService.toIdentity(this.identity), null, 4)\n        }\n        this.isAdded = this.graphService.isAdded(this.identity)\n        this.group = this.graphService.isGroup(this.identity)\n        this.isMe = this.graphService.isMe(this.identity)\n    }\n\n    invite() {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Invite');\n        alert.setSubTitle('Select a friend to invite.');\n        alert.addButton('Confirm');\n        alert.addInput({\n            name: 'radio1',\n            type: 'radio',\n            label: 'Radio 1',\n            value: 'value1',\n            checked: true\n        });\n        this.graphService.graph.friends.map((friend) => {\n            return friend;\n        });\n        alert.present();\n    }\n\n    addFriend() {\n        let info: any;\n        var buttons = [];\n        buttons.push({\n            text: 'Add',\n            handler: (data) => {\n                return this.graphService.addFriend(this.identity)\n                .then((txn) => {\n                    var alert = this.alertCtrl.create();\n                    alert.setTitle('Contact Request Sent');\n                    alert.setSubTitle('Your Friend Request has been sent successfully.');\n                    alert.addButton('Ok');\n                    alert.present();\n                }).catch((err) => {\n                    console.log(err);\n                });\n\n            }\n        });\n        let alert = this.alertCtrl.create({\n            buttons: buttons\n        });\n        alert.setTitle('Add contact');\n        alert.setSubTitle('Do you want to add ' + this.identity.username + '?');\n        alert.present();\n    }\n\n    createSubGroup() {\n        this.graphService.getInfo()\n        .then(() => {\n            return new Promise((resolve, reject) => {\n                let alert = this.alertCtrl.create({\n                    title: 'Sub-group name',\n                    inputs: [\n                    {\n                        name: 'groupname',\n                        placeholder: 'Sub-group name'\n                    }\n                    ],\n                    buttons: [\n                        {\n                            text: 'Save',\n                            handler: data => {\n                                const toast = this.toastCtrl.create({\n                                    message: 'Sub-group created',\n                                    duration: 2000\n                                });\n                                toast.present();\n                                resolve(data.groupname);\n                            }\n                        }\n                    ]\n                });\n                alert.present();\n            });\n        })\n        .then((groupName) => {\n            return this.graphService.createGroup(groupName, this.item);\n        })\n        .then((hash) => {\n            if (this.settingsService.remoteSettings['walletUrl']) {\n                return this.graphService.getInfo();\n            }\n        });\n    }\n\n    message() {\n        this.navCtrl.push(ChatPage, {\n          identity: this.identity\n        });\n    }\n\n    openSubGroup(subGroup) {\n        this.navCtrl.push(ProfilePage, {\n          identity: subGroup.relationship[this.settingsService.collections.GROUP],\n          group: true\n        });\n    }\n\n    compose() {\n        this.navCtrl.push(ComposePage, {\n          item: {\n            recipient: this.identity\n          }\n        });\n    }\n\n    sendCoins() {\n        this.navCtrl.push(SendReceive, {\n          identity: this.identity\n        });\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","export default {\n  default_groups: [\n    {\n      \"username\": \"Text Channels\",\n      \"username_signature\": \"MEQCIE29etn0ZKakmbuI7uaSLwf7O+W3fyX9HDtGSZspagknAiBKfSM2H8/T/b9mIxvzDIjh05nw0V7nrN22/+pcArlj6w==\",\n      \"public_key\": \"025879ebd9760913bca9d2a95dd5d1dd2d258995f176985d285ed1c824b391e039\",\n      \"collection\": \"group\"\n    },\n    {\n      \"username\": \"Yada Protocol\",\n      \"username_signature\": \"MEQCIAZ0wJYLDxJei2Za7XMzbx+AOqeH2PpB6suzTF/bvqgkAiBJYnznzkNlfqjY+1bRUnn5bIuIxL0wz2Mi/TB81487rA==\",\n      \"public_key\": \"025879ebd9760913bca9d2a95dd5d1dd2d258995f176985d285ed1c824b391e039\",\n      \"collection\": \"group\"\n    },\n    {\n      \"username\": \"Yada App\",\n      \"username_signature\": \"MEUCIQCa091+XlEyJ4w44Az4xFLySEvzf8WS7nv3qVmAj0L7bgIgaSkLRBCDHt/MIfmlNDN7UsnGYc+9HitPMgsCEZDG4xY=\",\n      \"public_key\": \"025879ebd9760913bca9d2a95dd5d1dd2d258995f176985d285ed1c824b391e039\",\n      \"collection\": \"group\"\n    },\n    {\n      \"username\": \"YadaCoin\",\n      \"username_signature\": \"MEQCIDMpt/iX+l60D3ZpANgib973gxwxMwMXoEZ2BF/6A5U6AiBHM1GyMQORffO/YM8dG386/2PBTHCYd0YZu+GaWt5Geg==\",\n      \"public_key\": \"025879ebd9760913bca9d2a95dd5d1dd2d258995f176985d285ed1c824b391e039\",\n      \"collection\": \"group\"\n    },\n  ],\n  default_markets: [\n    {\n      \"username\": \"Marketplace\",\n      \"username_signature\": \"MEUCIQDkV0OjvBtW5g6Hm7OtplD4AkeFcCUBT+UaMMTwYggARAIgK74HoNW5WD7uHpTZPv6WieE1igEgTva7kcmxJm/H6Wc=\",\n      \"public_key\": \"025879ebd9760913bca9d2a95dd5d1dd2d258995f176985d285ed1c824b391e039\",\n      \"collection\": \"market\"\n    },\n    {\n      \"username\": \"Promotions\",\n      \"username_signature\": \"MEQCIHF50YImuU7az7tAn5MbM3Z+1YN6gN/zEPretnSLdJ3XAiBMTv1DN+TL4strit+PORmgw2xSk52zKzHjpdB2yfxjJg==\",\n      \"public_key\": \"025879ebd9760913bca9d2a95dd5d1dd2d258995f176985d285ed1c824b391e039\",\n      \"collection\": \"market\"\n    },\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/groups.ts","import { Component } from \"@angular/core\";\nimport { NavParams, ViewController } from \"ionic-angular\";\nimport { WalletService } from \"../../app/wallet.service\";\nimport { AlertController } from \"ionic-angular\";\nimport { TransactionService } from \"../../app/transaction.service\";\nimport { OpenGraphParserService } from \"../../app/opengraphparser.service\";\nimport { SettingsService } from \"../../app/settings.service\";\nimport { Http, Headers, RequestOptions } from \"@angular/http\";\n\ndeclare var Base64;\n\n@Component({\n  selector: \"modal-post\",\n  templateUrl: \"postmodal.html\",\n})\nexport class PostModal {\n  blockchainAddress = null;\n  postText = null;\n  logicalParent = null;\n  post = {};\n  files = null;\n  selectedFile = null;\n  constructor(\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    private walletService: WalletService,\n    private alertCtrl: AlertController,\n    private transactionService: TransactionService,\n    private openGraphParserService: OpenGraphParserService,\n    private settingsService: SettingsService,\n    private ahttp: Http\n  ) {\n    this.blockchainAddress = navParams.data.blockchainAddress;\n    this.logicalParent = navParams.data.logicalParent;\n    let headers = new Headers();\n    headers.append(\n      \"Authorization\",\n      \"basic \" +\n        Base64.encode(this.settingsService.remoteSettings[\"siaPassword\"])\n    );\n    let options = new RequestOptions({\n      headers: headers,\n      withCredentials: true,\n    });\n    this.ahttp\n      .get(\n        this.settingsService.remoteSettings[\"siaUrl\"] + \"/renter/files\",\n        options\n      )\n      .subscribe((res) => {\n        this.files = res.json()[\"files\"];\n      });\n  }\n\n  change() {\n    if (this.openGraphParserService.isURL(this.postText)) {\n      this.openGraphParserService.parseFromUrl(this.postText).then((data) => {\n        this.post = data;\n      });\n    }\n  }\n\n  submit() {\n    this.walletService.get().then(() => {\n      return new Promise((resolve, reject) => {\n        if (this.selectedFile) {\n          this.ahttp\n            .get(\n              this.settingsService.remoteSettings[\"siaUrl\"] +\n                \"/renter/shareascii?siapaths=\" +\n                this.selectedFile[0]\n            )\n            .subscribe((res) => {\n              let sharefiledata = res.json()[\"asciisia\"];\n              this.approveTxn(sharefiledata, resolve);\n            });\n        } else {\n          this.approveTxn(null, resolve);\n        }\n        console.log(status);\n      }).then(() => {\n        this.dismiss();\n      });\n    });\n  }\n\n  approveTxn(sharefiledata, resolve) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(\"Approve Transaction\");\n    alert.setSubTitle(\"You are about to spend 0.01 coins ( 0.01 fee)\");\n    alert.addButton(\"Cancel\");\n    alert.addButton({\n      text: \"Confirm\",\n      handler: (data: any) => {\n        // camera permission was granted\n        new Promise((resolve, reject) => {\n          if (sharefiledata) {\n            return this.transactionService\n              .generateTransaction({\n                relationship: {\n                  postText: this.postText,\n                  postFile: sharefiledata,\n                  postFileName: this.selectedFile[0],\n                },\n              })\n              .then(() => {\n                resolve(null);\n              })\n              .catch((err) => {\n                reject(\"failed to generate transaction\");\n              });\n          } else {\n            return this.transactionService\n              .generateTransaction({\n                relationship: {\n                  postText: this.postText,\n                },\n              })\n              .then(() => {\n                resolve(null);\n              })\n              .catch((err) => {\n                reject(\"failed to generate transaction\");\n              });\n          }\n        })\n          .then(() => {\n            return this.transactionService.getFastGraphSignature();\n          })\n          .then((hash) => {\n            return this.transactionService.sendTransaction();\n          })\n          .then(() => {\n            this.dismiss();\n          })\n          .catch((err) => {\n            console.log(\"could not generate hash\");\n          });\n      },\n    });\n    alert.present();\n  }\n\n  dismiss() {\n    this.logicalParent.refresh();\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/postmodal.ts"],"sourceRoot":""}