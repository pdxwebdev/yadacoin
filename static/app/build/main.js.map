{"version":3,"sources":["../../src/app/opengraphparser.service.ts","../../src/app/settings.service.ts","../../src/pages/home/home.ts","../../src/app/peer.service.ts","../../src/pages/chat/chat.ts","../../src/pages/group/group.ts","../../src/pages/siafiles/siafiles.ts","../../src/app/firebase.service.ts","../../src/app/bulletinSecret.service.ts","../../node_modules/@angular/core/@angular lazy","../../src/app/wallet.service.ts","../../src lazy","../../src/pages/home/postmodal.ts","../../src/app/autocomplete.provider.ts","../../src/pages/settings/settings.ts","../../src/pages/stream/stream.ts","../../src/pages/sendreceive/sendreceive.ts","../../src/app/main.ts","../../src/app/transaction.service.ts","../../src/app/graph.service.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/list/list.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\n@Injectable()\nexport class OpenGraphParserService {\n    html = null\n    attrs = null;\n    constructor(\n        private ahttp: Http\n    ) {\n        this.attrs = {\n            \"title\": \"title\",\n            \"document.title\": \"title\",\n        \t\"description\": \"description\",\n            \"twitter:title\": \"title\",\n            \"twitter:image\": \"image\",\n            \"twitter:description\": \"description\",\n            \"og:title\": \"title\",\n            \"og:image\": \"image\",\n            \"og:image:url\": \"image\",\n            \"og:description\": \"description\"\n        }\n    }\n\n    parseFromUrl(url) {\n        var output = {url: url};\n    \tthis.html = '';\n        return new Promise((resolve, reject) => {\n            if (this.isURL(url)) {\n                this.ahttp.get(url)\n                .subscribe((res) => {\n                    this.html = res['_body'];\n                    if (this.isYouTubeURL(url)) {\n                        var YTID = this.getYouTubeID(url);\n                        output['image'] = 'https://img.youtube.com/vi/' + YTID + '/0.jpg'\n                    }\n\n                    for (var key in this.attrs) {\n                        var attr = this.getAttr(key);\n\n                        if (attr) {\n                            var escape = document.createElement('textarea');\n                            escape.innerHTML = attr;\n                            output[this.attrs[key]] = escape.textContent;\n                        }\n                    }\n                    resolve(output);\n                });\n            } else {\n                resolve(false);\n            }\n        });\n    }\n\n    isURL(str) {\n      var pattern = new RegExp('^(https?:\\\\/\\\\/)'+ // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|'+ // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n      '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n      return pattern.test(str);\n    }\n\n    getYouTubeID(url) {\n        var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\n        var match = url.match(regExp);\n        return (match&&match[7].length==11)? match[7] : false;\n    }\n\n    isYouTubeURL(str) {\n    \treturn str.indexOf('youtube.com') > -1 || str.indexOf('youtu.be') > -1 || str.indexOf('youtube-nocookie.com') > -1 ? true : false;\n    }\n\n    getAttr(attr) {\n        var attrLocation = this.html.indexOf(attr);\n        var beginningToAttr = this.html.substr(0, attrLocation);\n        if (attr === 'title' || attr === 'description') {\n            var tagBodyWithRemainder = this.html.substr(attrLocation + attr.length + 1);\n            var closingTagStart = tagBodyWithRemainder.indexOf('</' + attr);\n            var content = tagBodyWithRemainder.substr(0, closingTagStart);\n            return content;\n        } else {\n            var reversed = beginningToAttr.split('').reverse().join('');\n        \tvar find = 'atem<';\n            var tagStart = reversed.indexOf(find);\n            var tagWithRemainder = this.html.substr(beginningToAttr.length - tagStart - 5);\n            var tagEnd = tagWithRemainder.indexOf('>');\n            var tag = tagWithRemainder.substr(0, tagEnd + 1);\n            var contentAttrStart = tag.indexOf('content');\n            if (contentAttrStart < 0) {\n                contentAttrStart = tag.indexOf('value');\n            }\n            var contentAttrSub = tag.substr(contentAttrStart);\n            var contentAttrStartQuote = contentAttrSub.indexOf('\"');\n            var contentWithRemainder = contentAttrSub.substr(contentAttrStartQuote + 1);\n            var contentEnd = contentWithRemainder.indexOf('\"');\n            content = contentWithRemainder.substr(0, contentEnd);\n            return content;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/opengraphparser.service.ts","import { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class SettingsService {\n    remoteSettings = {};\n    remoteSettingsUrl = null;\n    seeds = [];\n    tokens = {};\n    constructor(\n    ) {\n        this.tokens = {};\n    }\n\n    go() {\n        return new Promise((resolve, reject) => {\n\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { GraphService } from '../../app/graph.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { PeerService } from '../../app/peer.service';\nimport { ListPage } from '../list/list';\nimport { ProfilePage } from '../profile/profile';\nimport { PostModal } from './postmodal';\nimport { OpenGraphParserService } from '../../app/opengraphparser.service'\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { SettingsService } from '../../app/settings.service';\nimport { FirebaseService } from '../../app/firebase.service';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport { Events } from 'ionic-angular';\nimport { CompleteTestService } from '../../app/autocomplete.provider';\n\ndeclare var forge;\ndeclare var X25519;\ndeclare var firebase;\ndeclare var foobar;\ndeclare var Base64;\n\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html'\n})\nexport class HomePage {\n    postText = null;\n    createdCode = null;\n    scannedCode = null;\n    key = null;\n    blockchainAddress = null;\n    balance = null;\n    items = [];\n    loading = false;\n    loadingBalance = true;\n    loadingModal = null;\n    loadingModal2 = null;\n    phrase = null;\n    color = null;\n    isCordova = null;\n    toggled = {};\n    reacts = {};\n    comments = {};\n    commentInputs = {};\n    ids_to_get = [];\n    comment_ids_to_get = [];\n    commentReacts = {};\n    chatColor: any;\n    friendRequestColor: any;\n    registrationLink: any;\n    signInCode: any;\n    signInColor: any;\n    prefix: any;\n    signedIn: any;\n    txnId: any;\n    location: any;\n    searchResults: any;\n    searchTerm: any;;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public modalCtrl: ModalController,\n        private storage: Storage,\n        private bulletinSecretService: BulletinSecretService,\n        private alertCtrl: AlertController,\n        private walletService: WalletService,\n        private graphService: GraphService,\n        private transactionService: TransactionService,\n        private openGraphParserService: OpenGraphParserService,\n        private socialSharing: SocialSharing,\n        private settingsService: SettingsService,\n        public loadingCtrl: LoadingController,\n        private ahttp: Http,\n        private firebaseService: FirebaseService,\n        public events: Events,\n        public toastCtrl: ToastController,\n        public peerService: PeerService,\n        public completeTestService: CompleteTestService\n    ) {\n        this.location = window.location;\n        this.prefix = 'usernames-';\n        this.refresh(null)\n        .then(() => {\n            return this.graphService.getInfo()\n        })\n        .then(() => {\n            return new Promise((resolve, reject) => {\n                let options = new RequestOptions({ withCredentials: true });\n                this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/fcm-token?origin=' + window.location.origin, {\n                  rid: this.graphService.graph.rid,\n                }, options).subscribe(() => {\n                    resolve();\n                });\n            })\n        })\n        .then(() => {\n            if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n            return this.firebaseService.initFirebase();\n            } else {\n                // Initialize Firebase\n                var config = {\n                apiKey: \"AIzaSyAcJWjePVMBkEF8A3M-7oY_lT0MMXRDrpA\",\n                authDomain: \"yadacoin-bcaae.firebaseapp.com\",\n                databaseURL: \"https://yadacoin-bcaae.firebaseio.com\",\n                projectId: \"yadacoin-bcaae\",\n                storageBucket: \"yadacoin-bcaae.appspot.com\",\n                messagingSenderId: \"805178314562\"\n                };\n                try {\n                    firebase.initializeApp(config);\n                    const messaging = firebase.messaging();\n                    messaging.usePublicVapidKey('BLuv1UWDqzAyTtK5xlNaY4tFOz6vKbjuutTQ0KmBRG5btvVbydsrMTA-UeyMqY4oCC1Gu3sDwLfsg-iWtAg6IB0');\n                    messaging.requestPermission().then(() => {\n                    console.log('Notification permission granted.');\n                    // TODO(developer): Retrieve an Instance ID token for use with FCM.\n                    // ...\n                    }).catch((err) => {\n                    console.log('Unable to get permission to notify.', err);\n                    });\n                    return messaging.getToken().then((currentToken) => {\n                    if (currentToken) {\n                        this.sendTokenToServer(currentToken);\n                        this.updateUIForPushEnabled(currentToken);\n                    } else {\n                        // Show permission request.\n                        console.log('No Instance ID token available. Request permission to generate one.');\n                        // Show permission UI.\n                        this.updateUIForPushPermissionRequired();\n                    }\n                    }).catch((err) => {\n                    console.log('An error occurred while retrieving token. ', err);\n                    });\n                } catch(err) {\n\n                }\n            }\n        });\n    }\n\n    myForm = new FormGroup({\n        searchTerm: new FormControl('', [Validators.required])\n    })\n    \n\n    go() {\n        return this.peerService.go()\n        .then(() => {\n            return this.refresh(null);\n        });\n    }\n\n    submit() {\n        if (!this.myForm.valid) return false;\n        this.navCtrl.push(ProfilePage, {item: this.myForm.value.searchTerm});\n        console.log(this.myForm.value.searchTerm)\n    }\n\n    sendTokenToServer(token) {\n      return new Promise((resolve, reject) => {\n        let headers = new Headers({'Content-Type': 'application/json'});\n        let options = new RequestOptions({headers: headers, withCredentials: true });\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/fcm-token?origin=' + window.location.origin, {\n          rid: this.graphService.graph.rid,\n          token: token,\n        }, options).subscribe(() => {\n            resolve();\n        });\n      })\n    }\n\n    updateUIForPushEnabled(token) {\n\n    }\n\n    updateUIForPushPermissionRequired() {\n\n    }\n\n    react(e, item) {\n        this.toggled[item.id] = false;\n        return this.walletService.get()\n        .then(() => {\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    'react': e.char,\n                    'id': item.id,\n                    'bulletin_secret': this.bulletinSecretService.bulletin_secret\n                }\n            });\n        })\n        .then(() => {\n            return this.transactionService.getFastGraphSignature();\n        })\n        .then((hash) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then(() => {\n            const toast = this.toastCtrl.create({\n                message: 'React sent',\n                duration: 2000\n            });\n            return toast.present();\n        })\n        .then(() => {\n            this.graphService.getReacts([item.id])\n        })\n        .catch((err) => {\n            const toast = this.toastCtrl.create({\n                message: 'Something went wrong with your react!',\n                duration: 2000\n            });\n            toast.present();  \n        });\n    }\n\n    comment(item) {\n        if (!this.commentInputs[item.id]) {\n            alert('Comment cannot be empty.');\n            return;\n        }\n        return this.walletService.get()\n        .then(() => {\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    'comment': this.commentInputs[item.id],\n                    'id': item.id,\n                    'bulletin_secret': this.bulletinSecretService.bulletin_secret\n                }\n            });\n        })\n        .then(() => {\n            return this.transactionService.getFastGraphSignature();\n        })\n        .then((hash) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then(() => {\n            const toast = this.toastCtrl.create({\n                message: 'Comment posted',\n                duration: 2000\n            });\n            return toast.present();\n        })\n        .then(() => {\n            this.graphService.getComments(this.ids_to_get);\n        })\n        .then(() => {\n            this.commentInputs[item.id] = '';\n        })\n        .catch((err) => {\n            const toast = this.toastCtrl.create({\n                message: 'Something went wrong with your comment!',\n                duration: 2000\n            });\n            toast.present();  \n        });\n    }\n\n    commentReact(e, item) {\n        this.toggled[item.id] = false;\n        return this.walletService.get()\n        .then(() => {\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    'react': e.char,\n                    'id': item.id,\n                    'bulletin_secret': this.bulletinSecretService.bulletin_secret\n                }\n            });\n        })\n        .then(() => {\n            return this.transactionService.getFastGraphSignature();\n        })\n        .then((hash) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then(() => {\n            const toast = this.toastCtrl.create({\n                message: 'Comment react sent',\n                duration: 2000\n            });\n            return toast.present();\n        })\n        .then(() => {\n            for (var i=0; i < Object.keys(this.graphService.graph.comments).length; i++) {\n                for (var j=0; j < this.graphService.graph.comments[Object.keys(this.graphService.graph.comments)[i]].length; j++) {\n                    this.comment_ids_to_get.push(this.graphService.graph.comments[Object.keys(this.graphService.graph.comments)[i]][j].id);\n                }\n            }\n            return this.graphService.getCommentReacts(this.comment_ids_to_get);\n        })\n        .then(() => {\n            this.graphService.getCommentReacts(this.comment_ids_to_get)\n        })\n        .catch((err) => {\n            const toast = this.toastCtrl.create({\n                message: 'Something went wrong with your react!',\n                duration: 2000\n            });\n            toast.present();  \n        });\n    }\n\n    commentReplies(item) {\n        if (!this.commentInputs[item.id]) {\n            alert('Comment cannot be empty.');\n            return;\n        }\n        return this.walletService.get()\n        .then(() => {\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    'comment': this.commentInputs[item.id],\n                    'id': item.id,\n                    'bulletin_secret': this.bulletinSecretService.bulletin_secret\n                }\n            });\n        })\n        .then(() => {\n            return this.transactionService.getFastGraphSignature();\n        })\n        .then((hash) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then(() => {\n            const toast = this.toastCtrl.create({\n                message: 'Comment posted',\n                duration: 2000\n            });\n            return toast.present();\n        })\n        .then(() => {\n            for (var i=0; i < Object.keys(this.graphService.graph.comments).length; i++) {\n                for (var j=0; j < this.graphService.graph.comments[Object.keys(this.graphService.graph.comments)[i]].length; j++) {\n                    this.comment_ids_to_get.push(this.graphService.graph.comments[Object.keys(this.graphService.graph.comments)[i]][j].id);\n                }\n            }\n            return this.graphService.getCommentReacts(this.comment_ids_to_get);\n        })\n        .then(() => {\n            this.graphService.getCommentReplies(this.comment_ids_to_get)\n        })\n        .catch((err) => {\n            const toast = this.toastCtrl.create({\n                message: 'Something went wrong with your comment!',\n                duration: 2000\n            });\n            toast.present();  \n        });\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    reactsDetail(item) {\n        var data = {pageTitle: {title:\"Reacts Detail\"}, detail: this.graphService.graph.reacts[item.id]};\n        this.navCtrl.push(ListPage, data);\n    }\n\n    commentReactsDetail(item) {\n        var data = {pageTitle: {title:\"Comment Reacts Detail\"}, detail: this.graphService.graph.commentReacts[item.id]};\n        this.navCtrl.push(ListPage, data);\n    }\n\n    refresh(refresher) {\n        this.loading = true;\n        this.loadingBalance = true;\n\n        // this.loadingModal = this.loadingCtrl.create({\n        //     content: 'Please wait...'\n        // });\n        // this.loadingModal.present();\n        // this.storage.get('blockchainAddress').then((blockchainAddress) => {\n        //     this.blockchainAddress = blockchainAddress;\n        // });\n        //put ourselves in the faucet\n        /*\n        this.ahttp.get(\n            this.settingsService.remoteSettings['baseUrl'] + '/faucet?address=' + this.bulletinSecretService.key.getAddress()\n        )\n        .subscribe(()=>{}, () => {});\n        */\n        this.color = this.graphService.friend_request_count > 0 ? 'danger' : '';\n        this.friendRequestColor = this.graphService.friend_request_count > 0 ? 'danger' : '';\n        this.chatColor = this.graphService.new_messages_count > 0 ? 'danger' : '';\n        this.signInColor = this.graphService.new_sign_ins_count > 0 ? 'danger' : '';\n        //update our wallet\n        /*\n        return this.walletService.get()\n        .then(() => {\n            this.balance = this.walletService.wallet.balance;\n            this.txnId = '';\n            for(var i=0; i < this.walletService.wallet.txns_for_fastgraph.length; i++) {\n                var txn = this.walletService.wallet.txns_for_fastgraph[i];\n                if ((txn.signatures) && txn.rid == this.graphService.graph.rid) {\n                    this.txnId = txn.id; // will always select the wrong txn id\n                }\n            }\n            this.loadingBalance = false;;\n            let headers = new Headers();\n            headers.append('Authorization', 'Bearer ' + this.settingsService.tokens[this.bulletinSecretService.keyname]);\n            let options = new RequestOptions({ headers: headers, withCredentials: true });\n            this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/unlocked?rid=' + this.graphService.graph.rid + '&id=' + '' + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret + '&origin=' + window.location.origin, options).subscribe((res) => {\n                var data = JSON.parse(res['_body']);\n                this.signedIn = data.authenticated;\n            });\n        })\n        .then(() => {\n            return this.graphService.getFriends()\n        })\n        .then(() => {\n            return this.graphService.getNewMessages()\n        })\n        .then(() => {\n            return this.graphService.getNewSignIns();\n        })\n        .then(() => {\n            return this.graphService.getNewGroupMessages();\n        })\n        .then(() => {\n            return this.generateFeed();\n        })\n        .then(() => {\n            return this.graphService.getReacts(this.ids_to_get);\n        })\n        .then(() => {\n            return this.graphService.getComments(this.ids_to_get);\n        })\n        .then(() => {\n            for (var i=0; i < Object.keys(this.graphService.graph.comments).length; i++) {\n                for (var j=0; j < this.graphService.graph.comments[Object.keys(this.graphService.graph.comments)[i]].length; j++) {\n                    this.comment_ids_to_get.push(this.graphService.graph.comments[Object.keys(this.graphService.graph.comments)[i]][j].id);\n                }\n            }\n            return this.graphService.getCommentReacts(this.comment_ids_to_get);\n        })\n        .then(() => {\n            return this.graphService.getCommentReplies(this.comment_ids_to_get);\n        })\n        .then(() => {\n            this.loading = false;\n            this.loadingModal.dismiss().catch(() => {});\n            if(refresher) refresher.complete();\n            this.chatColor = this.graphService.new_messages_count > 0 ? 'danger' : '';\n            this.chatColor = this.graphService.new_sign_ins_count > 0 ? 'danger' : '';\n        })\n        .catch(() => {\n            this.loading = false;\n            this.loadingModal.dismiss().catch(() => {});\n        });\n        */\n        this.loading = false;\n    //    this.loadingModal.dismiss().catch(() => {});\n       return new Promise((resolve, reject) => {\n           return resolve();\n       })\n    }\n\n    search() {\n        return this.ahttp.get(\n            this.settingsService.remoteSettings['baseUrl'] + '/search?searchTerm=' + this.searchTerm\n        )\n        .subscribe((res)=>{\n            this.searchResults = res.json()\n        }, () => {});\n    }\n\n    generateFeed() {\n        return new Promise((resolve, reject) => {\n            ////////////////////////////////////////////\n            // all friend post operations\n            ////////////////////////////////////////////\n            var graphArray = this.graphService.graph.posts;\n            if (graphArray.length == 0) {\n                this.loading = false;\n                this.loadingModal.dismiss().catch(() => {});\n            }\n            graphArray.sort(function (a, b) {\n                if (parseInt(a.time) < parseInt(b.time))\n                    return 1\n                if (parseInt(a.time) > parseInt(b.time))\n                    return -1\n                return 0\n            });\n            this.ids_to_get = [];\n            this.items = [];\n            for (let i = 0; i < graphArray.length; i++) {\n                this.ids_to_get.push(graphArray[i].id);\n                if (this.openGraphParserService.isURL(graphArray[i].relationship.postText)) {\n                    if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n                        this.openGraphParserService.parseFromUrl(graphArray[i].relationship.postText).then((data) => {\n                            data['id'] = graphArray[i].id;\n                            data['username'] = graphArray[i].username;\n                            this.items.push(data);\n                            if ((graphArray.length - 1) == i) {\n                                this.loading = false;\n                                this.loadingModal.dismiss().catch(() => {});\n                            }\n                        });\n                    } else {\n                        this.openGraphParserService.parseFromUrl(this.settingsService.remoteSettings['baseUrl'] + '/get-url?url=' + encodeURIComponent(graphArray[i].relationship.postText)).then((data) => {\n                            data['id'] = graphArray[i].id;\n                            data['username'] = graphArray[i].username;\n                            this.items.push(data);\n                            if ((graphArray.length - 1) == i) {\n                                this.loading = false;\n                                this.loadingModal.dismiss().catch(() => {});\n                            }\n                        });\n                    }\n                } else {\n                    var data = {\n                        username: graphArray[i].username,\n                        title: '',\n                        description: graphArray[i].relationship.postText,\n                        id: graphArray[i].id\n                    };\n                    if (graphArray[i].relationship.postFileName) {\n                        data['fileName'] = graphArray[i].relationship.postFileName;\n                        data['fileData'] = graphArray[i].relationship.postFile;\n                    }\n                    this.items.push(data);\n                    if ((graphArray.length - 1) == i) {\n                        this.loading = false;\n                        this.loadingModal.dismiss().catch(() => {});\n                    }\n                }\n            }\n            resolve();\n        });\n    }\n\n    download(item) {\n        this.ahttp.post(\n            this.settingsService.remoteSettings['baseUrl'] + '/renter/loadasciidd',\n            {'asciisia': item.fileData}\n        )\n        .subscribe((res) => {\n            alert('File can now be found in your sia files');\n        },\n        (err) => {\n            alert('File can now be found in your sia files');\n        });\n    }\n\n    register() {\n        return new Promise((resolve, reject) => {\n            this.walletService.get().then(() => {\n                this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/register')\n                .subscribe((res) => {\n                    var data = JSON.parse(res['_body']);\n                    var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n                    var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n                    var dh_private_key = this.toHex(raw_dh_private_key);\n                    var dh_public_key = this.toHex(raw_dh_public_key);\n                    data.dh_private_key = dh_private_key;\n                    data.dh_public_key = dh_public_key;\n                    var hash = this.getTransaction(data, resolve);\n                    resolve(hash);\n                });\n            });\n        }) // we cannot do fastgraph registrations. The signing process verifies a relationship. So one must already exist.\n        .then((hash) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then(() => {\n            return this.transactionService.sendCallback();\n        })\n        .then(() => {\n            this.refresh(null);\n        })\n        .catch(() => {\n            alert('error registering');\n            this.loadingModal.dismiss().catch(() => {});\n        });\n    }\n\n    getTransaction(info, resolve) {\n        return this.transactionService.generateTransaction({\n            relationship: {\n                dh_private_key: info.dh_private_key,\n                their_bulletin_secret: info.bulletin_secret,\n                their_username: info.username,\n                my_bulletin_secret: this.bulletinSecretService.bulletin_secret,\n                my_username: this.bulletinSecretService.username\n            },\n            dh_public_key: info.dh_public_key,\n            requested_rid: info.requested_rid,\n            requester_rid: info.requester_rid,\n            callbackurl: info.callbackurl,\n            to: info.to,\n            resolve: resolve\n        });\n    }\n\n    sharePhrase() {\n        this.socialSharing.share(this.bulletinSecretService.username, \"Add me on Yada Coin!\");\n    }\n\n    addFriend() {\n        var buttons = [];\n        buttons.push({\n            text: 'Add',\n            handler: (data) => {\n                this.pasteFriend(data.phrase);\n            }\n        });\n        let alert = this.alertCtrl.create({\n            inputs: [\n                {\n                    name: 'phrase',\n                    placeholder: 'Type username here...'\n                }\n            ],\n            buttons: buttons\n        });\n        alert.setTitle('Request Friend');\n        alert.setSubTitle('How do you want to request this friend?');\n        alert.present();\n    }\n\n    createGroup() {\n        this.graphService.getInfo()\n        .then(() => {\n            return new Promise((resolve, reject) => {\n                let alert = this.alertCtrl.create({\n                    title: 'Set group name',\n                    inputs: [\n                    {\n                        name: 'groupname',\n                        placeholder: 'Group name'\n                    }\n                    ],\n                    buttons: [\n                    {\n                        text: 'Save',\n                        handler: data => {\n                            const toast = this.toastCtrl.create({\n                                message: 'Group created',\n                                duration: 2000\n                            });\n                            toast.present();\n                            resolve(data.groupname);\n                        }\n                    }\n                    ]\n                });\n                alert.present();\n            })            \n        })\n        .then((groupname) => {\n            return new Promise((resolve, reject) => {\n                if (!groupname) return reject();\n\n                let key = foobar.bitcoin.ECPair.makeRandom();\n                let wif = key.toWIF();\n                let pubKey = key.getPublicKeyBuffer().toString('hex');\n                let address = key.getAddress();\n                let bulletin_secret = foobar.base64.fromByteArray(key.sign(foobar.bitcoin.crypto.sha256(groupname)).toDER());\n                var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n                var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n                var dh_private_key = this.toHex(raw_dh_private_key);\n                var dh_public_key = this.toHex(raw_dh_public_key);\n                resolve({\n                    their_public_key: pubKey,\n                    their_address: address,\n                    their_bulletin_secret: bulletin_secret,\n                    their_username: groupname,\n                    wif: wif,\n                    dh_public_key: dh_public_key,\n                    dh_private_key: dh_private_key\n                });\n            });\n        })\n        .then((info: any) => {\n            var bulletin_secrets = [this.graphService.graph.bulletin_secret, info.their_bulletin_secret].sort(function (a, b) {\n                return a.toLowerCase().localeCompare(b.toLowerCase());\n            });\n            var requested_rid = forge.sha256.create().update(bulletin_secrets[0] + bulletin_secrets[1]).digest().toHex();\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    dh_private_key: info.dh_private_key,\n                    their_bulletin_secret: info.their_bulletin_secret,\n                    their_public_key: info.their_public_key,\n                    their_username: info.their_username,\n                    their_address: info.their_address,\n                    my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                    my_username: this.bulletinSecretService.username,\n                    wif: info.wif,\n                    group: true\n                },\n                dh_public_key: info.dh_public_key,\n                to: info.their_address,\n                requester_rid: this.graphService.graph.rid,\n                requested_rid: requested_rid\n            })\n        \n        }).then((txn) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then((hash) => {\n            if (this.settingsService.remoteSettings['walletUrl']) {\n                return this.graphService.getInfo();\n            }\n        })\n        .then(() => {\n            return this.refresh(null)\n        })\n        .then(() => {\n            this.events.publish('pages-settings');\n        })\n        .catch((err) => {\n            console.log(err);\n            this.events.publish('pages');\n        });\n    }\n\n    joinGroup() {\n        new Promise((resolve, reject) => {\n            let alert = this.alertCtrl.create();\n            alert.setTitle('Join');\n            alert.setSubTitle('Copy and paste the entire string of characters from the invite');\n            alert.addButton({\n                text: 'Join',\n                handler: data => {\n                    const toast = this.toastCtrl.create({\n                        message: 'Group joined!',\n                        duration: 2000\n                    });\n                    toast.present();\n                    resolve(data.groupinvite);\n                }\n            });\n            alert.addInput({\n                type: 'text',\n                placeholder: 'Past invite characters',\n                name: 'groupinvite'\n            })\n            alert.present();\n        })\n        .then((groupinvite) => {\n            return new Promise((resolve, reject) => {\n                if (!groupinvite) return reject();\n                let invite = JSON.parse(Base64.decode(groupinvite));\n                var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n                var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n                var dh_private_key = this.toHex(raw_dh_private_key);\n                var dh_public_key = this.toHex(raw_dh_public_key);\n                resolve({\n                    their_address: invite.their_address,\n                    their_public_key: invite.their_public_key,\n                    their_bulletin_secret: invite.their_bulletin_secret,\n                    their_username: invite.their_username,\n                    dh_public_key: dh_public_key,\n                    dh_private_key: dh_private_key,\n                    requested_rid: invite.requested_rid\n                })\n            });\n        })\n        .then((info: any) => {\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    dh_private_key: info.dh_private_key,\n                    my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                    my_username: this.bulletinSecretService.username,\n                    their_address: info.their_address,\n                    their_public_key: info.their_public_key,\n                    their_bulletin_secret: info.their_bulletin_secret,\n                    their_username: info.their_username,\n                    group: true\n                },\n                requester_rid: info.requester_rid,\n                requested_rid: info.requested_rid,\n                dh_public_key: info.dh_public_key,\n                to: info.their_address\n            })\n        \n        }).then((txn) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then((hash) => {\n            if (this.settingsService.remoteSettings['walletUrl']) {\n                return this.graphService.getInfo();\n            }\n        })\n        .then(() => {\n            return this.refresh(null)\n        })\n        .then(() => {\n            this.events.publish('pages-settings');\n        })\n        .catch((err) => {\n            this.events.publish('pages');\n        });\n    }\n\n    unlockWallet() {\n        return new Promise((resolve, reject) => {\n            let alert = this.alertCtrl.create({\n                title: 'Paste the private key or WIF of the server.',\n                inputs: [\n                {\n                    name: 'key_or_wif',\n                    placeholder: 'Private key or WIF',\n                    type: 'password'\n                }\n                ],\n                buttons: [\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: data => {\n                        console.log('Cancel clicked');\n                        reject();\n                    }\n                },\n                {\n                    text: 'Unlock',\n                    handler: data => {\n                        let options = new RequestOptions({ withCredentials: true });\n                        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/unlock?origin=' + encodeURIComponent(window.location.origin), {key_or_wif: data.key_or_wif}, options)\n                        .subscribe((res) => {\n                            this.settingsService.tokens[this.bulletinSecretService.keyname] = res.json()['token']\n                            const toast = this.toastCtrl.create({\n                                message: 'Wallet unlocked',\n                                duration: 2000\n                            });\n                            toast.present();\n                            resolve(res);\n                        },\n                        (err) => {\n                            reject(data.key_or_wif);\n                        });\n                    }\n                }\n                ]\n            });\n            alert.present();\n        }).catch(() => {\n          console.log('canceled unlock')  \n        });\n    }\n\n    pasteFriend(phrase) {\n        //this.loadingModal2 = this.loadingCtrl.create({\n        //    content: 'Please wait...'\n        //});\n        //this.loadingModal.present();\n        this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/search?phrase=' + phrase + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret)\n        .subscribe((res) => {\n            //this.loadingModal2.dismiss();\n            this.alertRoutine(JSON.parse(res['_body']));\n        },\n        (err) => {\n            //this.loadingModal2.dismiss();\n            alert('Username not found.');\n        });\n    }\n\n    alertRoutine(info) {\n        if (this.walletService.wallet.balance < 1.01) {\n            let alert = this.alertCtrl.create();\n            alert.setTitle('Insuficient Funds');\n            alert.setSubTitle('You need at least 1.01 YadaCoins');\n            alert.addButton('OK');\n            alert.present();\n            return\n        }\n        if (info.requester_rid && info.requested_rid && info.requester_rid === info.requested_rid) {\n            let alert = this.alertCtrl.create();\n            alert.setTitle('Oops!');\n            alert.setSubTitle('You are trying to request yourself. :)');\n            alert.addButton({\n                text: 'Cancel',\n                handler: (data: any) => {\n                    this.loadingModal.dismiss().catch(() => {});\n                }\n            });\n            alert.present();\n            return\n        }\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve Transaction');\n        alert.setSubTitle('You are about to spend 1.01 coins (1 coin + 0.01 fee)');\n        alert.addButton({\n            text: 'Cancel',\n            handler: (data: any) => {\n                this.loadingModal.dismiss().catch(() => {});\n            }\n        });\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                // camera permission was granted\n                var requester_rid = info.requester_rid;\n                var requested_rid = info.requested_rid;\n                if (requester_rid && requested_rid) {\n                    // get rid from bulletin secrets\n                } else {\n                    requester_rid = '';\n                    requested_rid = '';\n                }\n                //////////////////////////////////////////////////////////////////////////\n                // create and send transaction to create the relationship on the blockchain\n                //////////////////////////////////////////////////////////////////////////\n                this.walletService.get().then(() => {\n                    var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n                    var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n                    var dh_private_key = this.toHex(raw_dh_private_key);\n                    var dh_public_key = this.toHex(raw_dh_public_key);\n                    info.dh_private_key = dh_private_key;\n                    info.dh_public_key = dh_public_key;\n                    return this.transactionService.generateTransaction({\n                        relationship: {\n                            dh_private_key: info.dh_private_key,\n                            their_bulletin_secret: info.bulletin_secret,\n                            their_username: info.username,\n                            my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                            my_username: this.bulletinSecretService.username\n                        },\n                        dh_public_key: info.dh_public_key,\n                        requested_rid: info.requested_rid,\n                        requester_rid: info.requester_rid,\n                        to: info.to\n                    });\n                }).then((hash) => {\n                    return new Promise((resolve, reject) => {\n                        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sign-raw-transaction', {\n                            hash: hash, \n                            bulletin_secret: this.bulletinSecretService.bulletin_secret,\n                            input: this.transactionService.transaction.inputs[0].id,\n                            id: this.transactionService.transaction.id,\n                            txn: this.transactionService.transaction\n                        })\n                        .subscribe((res) => {\n                            //this.loadingModal2.dismiss();\n                            try {\n                                let data = res.json();\n                                this.transactionService.transaction.signatures = [data.signature]\n                                resolve();\n                            } catch(err) {\n                                reject();\n                                this.loadingModal.dismiss().catch(() => {});\n                            }\n                        },\n                        (err) => {\n                            //this.loadingModal2.dismiss();\n                        });\n                    });\n                }).then((txn) => {\n                    return this.transactionService.sendTransaction();\n                }).then((txn) => {\n                    this.loadingModal.dismiss().catch(() => {})\n                    var alert = this.alertCtrl.create();\n                    alert.setTitle('Friend Request Sent');\n                    alert.setSubTitle('Your Friend Request has been sent successfully.');\n                    alert.addButton('Ok');\n                    alert.present();\n                }).catch((err) => {\n                    console.log(err);\n                });\n            }\n        });\n        alert.present();\n    }\n\n    alertRoutineForMessage(info) {\n        if (this.walletService.wallet.balance < 0.01) {\n            let alert = this.alertCtrl.create();\n            alert.setTitle('Insuficient Funds');\n            alert.setSubTitle('You need at least 1.01 YadaCoins');\n            alert.addButton('OK');\n            alert.present();\n            return\n        }\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve Transaction');\n        alert.setSubTitle('You are about to spend 0.01 coins (0.01 fee)');\n        alert.addButton({\n            text: 'Cancel',\n            handler: (data: any) => {\n                this.loadingModal.dismiss().catch(() => {});\n            }\n        });\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                //////////////////////////////////////////////////////////////////////////\n                // create and send transaction to create the relationship on the blockchain\n                //////////////////////////////////////////////////////////////////////////\n                this.walletService.get().then((txn) => {\n                    return new Promise((resolve, reject) => {\n                        var hash = this.transactionService.generateTransaction({\n                            dh_public_key: info.dh_public_key,\n                            dh_private_key: info.dh_private_key,\n                            relationship: {\n                                signIn: info.relationship.signIn\n                            },\n                            shared_secret: info.shared_secret,\n                            resolve: resolve,\n                            rid: info.rid\n                        });\n                        if(hash) {\n                            resolve(hash);\n                        } else {\n                            reject('could not generate hash');\n                        }\n                    });\n                }).then((hash) => {\n                    return new Promise((resolve, reject) => {\n                        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sign-raw-transaction', {\n                            hash: hash, \n                            bulletin_secret: this.bulletinSecretService.bulletin_secret,\n                            input: this.transactionService.transaction.inputs[0].id,\n                            id: this.transactionService.transaction.id,\n                            txn: this.transactionService.transaction\n                        })\n                        .subscribe((res) => {\n                            //this.loadingModal2.dismiss();\n                            try {\n                                let data = res.json();\n                                this.transactionService.transaction.signatures = [data.signature]\n                                resolve();\n                            } catch(err) {\n                                reject();\n                                this.loadingModal.dismiss().catch(() => {});\n                            }\n                        },\n                        (err) => {\n                            //this.loadingModal2.dismiss();\n                        });\n                    });\n                }).then(() => {\n                    return this.transactionService.sendTransaction();\n                }).then(() => {\n                    return this.transactionService.sendCallback();\n                }).then((txn) => {\n                    this.loadingModal.dismiss().catch(() => {})\n                    var alert = this.alertCtrl.create();\n                    alert.setTitle('Friend Request Sent');\n                    alert.setSubTitle('Your Friend Request has been sent successfully.');\n                    alert.addButton('Ok');\n                    alert.present();\n                }).catch((err) => {\n                    //alert('transaction error');\n                    this.loadingModal.dismiss().catch(() => {});\n                });\n            }\n        });\n        alert.present();\n    }\n\n    signIn() {\n        this.walletService.get().then((signin_code) => {\n            return this.graphService.getSharedSecretForRid(this.graphService.graph.rid);\n        }).then((args) => {\n            return new Promise((resolve, reject) => {\n                let options = new RequestOptions({ withCredentials: true });\n                this.ahttp.get(this.settingsService.remoteSettings['loginUrl'] + '?origin=' + window.location.origin, options)\n                .subscribe((res) => {\n                    try {\n                        return this.transactionService.generateTransaction({\n                            dh_public_key: args['dh_public_key'],\n                            dh_private_key: args['dh_private_key'],\n                            relationship: {\n                                signIn: JSON.parse(res['_body']).signin_code\n                            },\n                            shared_secret: args['shared_secret'],\n                            rid: this.graphService.graph.rid\n                        }).then((hash) => {\n                            this.txnId = this.transactionService.transaction.id;\n                            resolve(hash);\n                        });                       \n                    } catch(err) {\n                        reject();\n                        this.loadingModal.dismiss().catch(() => {});\n                    }\n                },\n                (err) => {\n                });\n            });\n        }).then((hash) => {\n            return new Promise((resolve, reject) => {\n                this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sign-raw-transaction', {\n                    hash: hash,\n                    bulletin_secret: this.bulletinSecretService.bulletin_secret,\n                    input: this.transactionService.transaction.inputs[0].id,\n                    id: this.transactionService.transaction.id,\n                    txn: this.transactionService.transaction\n                })\n                .subscribe((res) => {\n                    try {\n                        let data = res.json();\n                        this.transactionService.transaction.signatures = [data.signature]\n                        resolve();\n                    } catch(err) {\n                        reject();\n                    }\n                },\n                (err) => {\n                });\n            });\n        }).then(() => {\n            return this.transactionService.sendTransaction();\n        }).then(() => {\n            this.signedIn = true;\n            this.refresh(null);\n        }).catch((err) => {\n            alert(err);\n        });\n    }\n\n    itemTapped(event, item) {\n        item.pageTitle = \"Posts\";\n        this.navCtrl.push(ListPage, {\n            item: item\n        });\n    }\n\n    presentModal() {\n        let modal = this.modalCtrl.create(PostModal, {blockchainAddress: this.settingsService.remoteSettings['baseUrl'], logicalParent: this});\n        modal.present();\n    }\n\n    share(item) {\n        this.walletService.get().then(() => {\n            return new Promise((resolve, reject) => {\n\n                console.log(status);\n\n                let alert = this.alertCtrl.create();\n                alert.setTitle('Approve Transaction');\n                alert.setSubTitle('You are about to spend 0.01 coins ( 0.01 fee)');\n                alert.addButton('Cancel');\n                alert.addButton({\n                    text: 'Confirm',\n                    handler: (data: any) => {\n                        // camera permission was granted\n                        this.transactionService.generateTransaction({\n                            relationship: {\n                                postText: item.url || item.description\n                            },\n                            resolve: resolve\n                        });\n                    }\n                });\n                alert.present();\n            });\n        });\n    }\n\n    decrypt(message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.bulletinSecretService.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Http } from '@angular/http';\nimport { timeout } from 'rxjs/operators';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { WalletService } from './wallet.service';\nimport { TransactionService } from './transaction.service';\nimport { SettingsService } from './settings.service';\n\ndeclare var X25519;\n\n@Injectable()\nexport class PeerService {\n    seeds = null;\n    loading = false;\n    mode: any;\n    failedSeedPeers: any;\n    peerLocked: any;\n    failedConfigPeers: any;\n    constructor(\n        private ahttp: Http,\n        public walletService: WalletService,\n        public transactionService: TransactionService,\n        public bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        public storage: Storage\n    ) {\n        this.seeds = [\n            {\"host\": \"0.0.0.0\",\"port\": 8000 },\n            {\"host\": \"34.237.46.10\",\"port\": 80 },\n            {\"host\": \"51.15.86.249\",\"port\": 8000 },\n            {\"host\": \"178.32.96.27\",\"port\": 8000 },\n            {\"host\": \"188.165.250.78\",\"port\": 8000 },\n            {\"host\": \"116.203.24.126\",\"port\": 8000 }\n        ]\n        this.mode = true;\n        this.failedSeedPeers = new Set();\n        this.failedConfigPeers = new Set();\n    }\n\n    go() {\n        return new Promise(this.peerRoutine.bind(this));\n    }\n\n    peerRoutine(resolve, reject) {\n        this.peerLocked = false;\n        if (this.loading) return;\n        this.loading = true;\n        return this.storage.get('node')\n        .then((node) => {\n            return new Promise((resolve2, reject2) => {\n                var seedPeer = '';\n                if (node && !this.failedSeedPeers.has(node)) {\n                    this.settingsService.remoteSettingsUrl = node;\n                } else {\n                    var min = 0; \n                    var max = this.seeds.length - 1;\n                    var number = Math.floor(Math.random() * (+max - +min)) + +min;\n                    if (!this.seeds[number]) return reject(false);\n                    seedPeer = 'http://' + this.seeds[number]['host'] + ':' + this.seeds[number]['port'];\n                    while (this.failedSeedPeers.has(seedPeer)) {\n                        number = Math.floor(Math.random() * (+max - +min)) + +min;\n                        if (!this.seeds[number]) return reject(false);\n                        seedPeer = 'http://' + this.seeds[number]['host'] + ':' + this.seeds[number]['port'];\n                    }\n                }\n                return resolve2(seedPeer);\n            })\n        })\n        .then((seedPeer) => {\n            if(this.settingsService.remoteSettingsUrl) {\n                return this.getConfig();\n            } else {\n                return this.getPeers(seedPeer);\n            }\n        })\n        .then((step) => {\n            if(step === 'config') {\n                return this.getConfig();\n            }\n            return new Promise((resolve2, reject2) => {\n                return resolve2();\n            });\n        })\n        .then(() => {\n            return new Promise((resolve2, reject2) => {\n                return this.walletService.get()\n                .then(() => {\n                    return resolve2();\n                })\n                .catch((err) => {\n                    this.failedConfigPeers.add(this.settingsService.remoteSettingsUrl);\n                    return reject2('config')\n                });\n            })\n        })\n        .then(() => {\n            return this.setupRelationship();\n        })\n        .then(() => {\n            this.peerLocked = true;\n            return this.storage.set('node', this.settingsService.remoteSettingsUrl);\n        })\n        .then(() => {\n            return resolve(true);\n        })\n        .catch((e) => {\n            this.settingsService.remoteSettings = {};\n            this.settingsService.remoteSettingsUrl = null;\n            this.loading = false;\n            this.storage.remove('node');\n            setTimeout(() => {\n                this.peerRoutine(resolve, reject);\n            }, 100)\n        });\n    }\n\n    getPeers(seedPeer) {\n        return new Promise((resolve, reject) => {\n            this.ahttp.get(seedPeer + '/get-peers').pipe(timeout(1000)).subscribe(\n                (res) => {\n                    var peers = res.json().peers;\n                    var min = 0; \n                    var max = peers.length - 1;\n                    var number = Math.floor(Math.random() * (+max - +min)) + +min;\n                    if (!peers[number]) return reject(false);\n                    this.settingsService.remoteSettingsUrl = 'http://' + peers[number]['host'] + ':' + peers[number]['port'];\n                    while (this.failedConfigPeers.has(this.settingsService.remoteSettingsUrl)) {\n                        number = Math.floor(Math.random() * (+max - +min)) + +min;\n                        if (!peers[number]) return reject(false);\n                        this.settingsService.remoteSettingsUrl = 'http://' + peers[number]['host'] + ':' + peers[number]['port'];\n                    }\n                    this.storage.set('node', this.settingsService.remoteSettingsUrl);\n                    resolve('config');\n                },\n                (err) => {\n                    this.failedSeedPeers.add(seedPeer);\n                    this.loading = false;\n                    return reject('seed');\n                }\n            );\n        });\n    }\n\n    getConfig() {\n        return new Promise((resolve, reject) => {\n            this.ahttp.get(this.settingsService.remoteSettingsUrl + '/yada_config.json',).pipe(timeout(1000)).subscribe(\n                (res) => {\n                    this.loading = false;\n                    this.settingsService.remoteSettings = res.json();\n                    resolve();\n                },\n                (err) => {\n                    this.failedConfigPeers.add(this.settingsService.remoteSettingsUrl)\n                    this.loading = false;\n                    return reject('config');\n                }\n            );\n        });\n    }\n\n    setupRelationship() {\n        return new Promise((resolve, reject) => {\n            this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/register')\n            .subscribe((res) => {\n                var data = JSON.parse(res['_body']);\n                var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n                var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n                var dh_private_key = this.toHex(raw_dh_private_key);\n                var dh_public_key = this.toHex(raw_dh_public_key);\n                data.dh_private_key = dh_private_key;\n                data.dh_public_key = dh_public_key;\n\n                var hash = this.transactionService.generateTransaction({\n                    relationship: {\n                        dh_private_key: data.dh_private_key,\n                        their_bulletin_secret: data.bulletin_secret,\n                        their_username: data.username,\n                        my_bulletin_secret: this.bulletinSecretService.bulletin_secret,\n                        my_username: this.bulletinSecretService.username\n                    },\n                    dh_public_key: data.dh_public_key,\n                    requested_rid: data.requested_rid,\n                    requester_rid: data.requester_rid,\n                    callbackurl: data.callbackurl,\n                    to: data.to,\n                    resolve: resolve\n                });\n                resolve(hash);\n            });\n        }) // we cannot do fastgraph registrations. The signing process verifies a relationship. So one must already exist.\n        .then((hash) => {\n            return this.transactionService.sendTransaction();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/peer.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ListPage } from '../list/list';\nimport { ProfilePage } from '../profile/profile';\nimport { Http } from '@angular/http';\n\ndeclare var X25519;\ndeclare var foobar;\ndeclare var Base64;\n\n@Component({\n    selector: 'page-chat',\n    templateUrl: 'chat.html',\n    queries: {\n      content: new ViewChild('content')\n    }\n})\nexport class ChatPage {\n    chatText: any;\n    bulletinSecret: any;\n    blockchainAddress: any;\n    chats: any;\n    rid: any;\n    requester_rid: any;\n    requested_rid: any;\n    public_key: any;\n    loading: any;\n    loadingModal: any;\n    content: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public transactionService: TransactionService,\n        public alertCtrl: AlertController,\n        public graphService: GraphService,\n        public loadingCtrl: LoadingController,\n        public bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        public ahttp: Http,\n        public toastCtrl: ToastController\n    ) {\n        this.rid = navParams.data.item.transaction.rid;\n        this.requester_rid = navParams.data.item.transaction.requester_rid || '';\n        this.requested_rid = navParams.data.item.transaction.requested_rid || '';\n        var key = 'last_message_height-' + navParams.data.item.transaction.rid;\n        if(navParams.data.item.transaction.height) this.storage.set(key, navParams.data.item.transaction.time);\n        this.storage.get('blockchainAddress').then((blockchainAddress) => {\n            this.blockchainAddress = blockchainAddress;\n        });\n        this.public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n        this.refresh(null, true);\n    }\n\n    parseChats() {\n        if(this.graphService.graph.messages[this.rid]) {\n            this.chats = this.graphService.graph.messages[this.rid];\n            for(var i=0; i < this.chats.length; i++) {\n                this.chats[i].time = new Date(parseInt(this.chats[i].time)).toISOString().slice(0, 19).replace('T', ' ');\n            }\n        } else {\n            this.chats = [];\n        }\n    }\n\n    refresh(refresher, showLoading = true) {\n        if (showLoading) {\n            this.loading = true;\n        }\n        this.graphService.getMessages(this.rid)\n        .then(() => {\n            this.loading = false;\n            if(refresher) refresher.complete();\n            return this.parseChats();\n        })\n        .then(() => {\n            setTimeout(() => this.content.scrollToBottom(1000), 500);\n        });\n    }\n\n    viewProfile(item) {\n        return this.graphService.getFriends()\n        .then(() => {\n            for (var i=0; i < this.graphService.graph.friends.length; i++) {\n                var friend = this.graphService.graph.friends[i];\n                if (friend.rid === item.rid) {\n                    item = friend;\n                }\n            }\n            this.navCtrl.push(ProfilePage, {\n                item: item\n            })\n        })\n    }\n\n    joinGroup(item) {\n        return new Promise((resolve, reject) => {\n            var invite = item.relationship.chatText;\n            var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n            var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n            var dh_private_key = this.toHex(raw_dh_private_key);\n            var dh_public_key = this.toHex(raw_dh_public_key);\n            resolve({\n                their_address: invite.their_address,\n                their_public_key: invite.their_public_key,\n                their_bulletin_secret: invite.their_bulletin_secret,\n                their_username: invite.their_username,\n                dh_public_key: dh_public_key,\n                dh_private_key: dh_private_key,\n                requested_rid: invite.requested_rid,\n                requester_rid: this.graphService.graph.rid\n            })\n        })\n        .then((info: any) => {\n            return this.transactionService.generateTransaction({\n                relationship: {\n                    dh_private_key: info.dh_private_key,\n                    my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                    my_username: this.bulletinSecretService.username,\n                    their_address: info.their_address,\n                    their_public_key: info.their_public_key,\n                    their_bulletin_secret: info.their_bulletin_secret,\n                    their_username: info.their_username,\n                    group: true\n                },\n                requester_rid: info.requester_rid,\n                requested_rid: info.requested_rid,\n                dh_public_key: info.dh_public_key,\n                to: info.their_address\n            })\n        \n        }).then((txn) => {\n            return this.transactionService.sendTransaction();\n        })\n        .then((hash) => {\n            if (this.settingsService.remoteSettings['walletUrl']) {\n                return this.graphService.getInfo();\n            }\n        })\n        .then(() => {\n            const toast = this.toastCtrl.create({\n                message: 'Group joined!',\n                duration: 2000\n            });\n            toast.present();\n            return this.refresh(null)\n        })\n        .catch((err) => {\n        });\n    }\n\n    send() {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve transaction');\n        alert.setSubTitle('You are about to spend 0.01 coins ( 0.01 fee)');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                this.walletService.get()\n                .then(() => {\n                    return this.graphService.getFriends();\n                })\n                .then(() => {\n                    var dh_public_key = this.graphService.keys[this.rid].dh_public_keys[0];\n                    var dh_private_key = this.graphService.keys[this.rid].dh_private_keys[0];\n\n                    if(dh_public_key && dh_private_key) {\n                        var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                            return parseInt(h, 16)\n                        }));\n                        var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                            return parseInt(h, 16)\n                        }));\n                        var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n                        // camera permission was granted\n                        return this.transactionService.generateTransaction({\n                            dh_public_key: dh_public_key,\n                            dh_private_key: dh_private_key,\n                            relationship: {\n                                chatText: this.chatText \n                            },\n                            shared_secret: shared_secret,\n                            rid: this.rid,\n                            requester_rid: this.requester_rid,\n                            requested_rid: this.requested_rid,\n                        });\n                    } else {\n                        return new Promise((resolve, reject) => {\n                            let alert = this.alertCtrl.create();\n                            alert.setTitle('Friendship not yet processed');\n                            alert.setSubTitle('Please wait a few minutes and try again');\n                            alert.addButton('Ok');\n                            alert.present();\n                            return reject();    \n                        });                \n                    }\n                }).then((txn) => {\n                    return this.transactionService.sendTransaction();\n                }).then(() => {\n                    this.chatText = '';\n                    this.refresh(null);\n                })\n                .catch((err) => {\n                   console.log(err); \n                   let alert = this.alertCtrl.create();\n                   alert.setTitle('Message error');\n                   alert.setSubTitle(err);\n                   alert.addButton('Ok');\n                   alert.present();\n                });\n               }\n        });\n        alert.present();\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ListPage } from '../list/list';\nimport { ProfilePage } from '../profile/profile';\nimport { SiaFiles } from '../siafiles/siafiles';\nimport { Http } from '@angular/http';\n\ndeclare var Base64;\ndeclare var foobar;\ndeclare var X25519;\n\n@Component({\n    selector: 'page-group',\n    templateUrl: 'group.html',\n    queries: {\n      content: new ViewChild('content')\n    }\n})\nexport class GroupPage {\n    groupChatText: any;\n    bulletinSecret: any;\n    blockchainAddress: any;\n    chats: any;\n    rid: any;\n    their_public_key: any;\n    loading: any;\n    loadingModal: any;\n    content: any;\n    wallet_mode: any;\n    their_bulletin_secret: any;\n    their_username: any;\n    requester_rid: any;\n    requested_rid: any;\n    their_address: any;\n    extraInfo: any;\n    files: any;\n    item: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public transactionService: TransactionService,\n        public alertCtrl: AlertController,\n        public graphService: GraphService,\n        public loadingCtrl: LoadingController,\n        public bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        public ahttp: Http,\n        public modalCtrl: ModalController,\n        public toastCtrl: ToastController\n    ) {\n        this.extraInfo = {};\n        this.wallet_mode = true;\n        this.item = navParams.data.item.transaction;\n        this.rid = navParams.data.item.transaction.rid;\n        this.requester_rid = navParams.data.item.transaction.requester_rid;\n        this.requested_rid = navParams.data.item.transaction.requested_rid;\n        this.their_address = navParams.data.item.transaction.relationship.their_address;\n        this.their_public_key = navParams.data.item.transaction.relationship.their_public_key;\n        this.their_bulletin_secret = navParams.data.item.transaction.relationship.their_bulletin_secret;\n        this.their_username = navParams.data.item.transaction.relationship.their_username;\n        var key = 'last_message_height-' + navParams.data.item.transaction.rid;\n        if(navParams.data.item.transaction.height) this.storage.set(key, navParams.data.item.transaction.time);\n        this.storage.get('blockchainAddress').then((blockchainAddress) => {\n            this.blockchainAddress = blockchainAddress;\n        });\n        this.refresh(null, true);\n    }\n    \n    showInvite() {\n        this.graphService.getFriends()\n        .then(() => {\n            let alert = this.alertCtrl.create();\n            alert.setTitle('Invite');\n            alert.setSubTitle('Select a friend to invite.');\n            alert.addButton({\n                text: 'Confirm',\n                handler: (data: any) => {\n                    this.walletService.get()\n                    .then(() => {\n                        var dh_public_key = this.graphService.keys[data.rid].dh_public_keys[0];\n                        var dh_private_key = this.graphService.keys[data.rid].dh_private_keys[0];\n    \n                        if(dh_public_key && dh_private_key) {\n                            var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                                return parseInt(h, 16)\n                            }));\n                            var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                                return parseInt(h, 16)\n                            }));\n                            var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n                        }\n                        var myAddress = this.bulletinSecretService.key.getAddress();\n                        var to = false;\n                        for (var h=0; h < data.outputs.length; h++) {\n                            if (data.outputs[h].to != myAddress) {\n                                to = data.outputs[h].to;\n                            }\n                        }\n                        return this.transactionService.generateTransaction({\n                            relationship: {\n                                chatText: Base64.encode(JSON.stringify({\n                                    their_public_key: this.item.public_key,\n                                    their_bulletin_secret: this.item.relationship.their_bulletin_secret,\n                                    \n                                    their_username: this.item.relationship.their_username,\n                                    their_address: this.item.relationship.their_address,\n                                    group: true,\n                                    requested_rid: this.requested_rid\n                                }))\n                            },\n                            rid: data.rid,\n                            requester_rid: data.requester_rid,\n                            requested_rid: data.requested_rid,\n                            shared_secret: shared_secret,\n                            to: to\n                        });\n                    }).then((txn) => {\n                        return this.transactionService.sendTransaction();\n                    }).then(() => {\n                        const toast = this.toastCtrl.create({\n                            message: \"Group invite sent!\",\n                            duration: 2000,\n                        });\n                        toast.present();\n                        this.groupChatText = '';\n                        this.refresh(null);\n                    })\n                    .catch((err) => {\n                       console.log(err); \n                       let alert = this.alertCtrl.create();\n                       alert.setTitle('Message error');\n                       alert.setSubTitle(err);\n                       alert.addButton('Ok');\n                       alert.present();\n                    });\n                }\n            });\n            for (var i=0; i < this.graphService.graph.friends.length; i++) {\n                var friend = this.graphService.graph.friends[i];\n                alert.addInput({\n                    name: 'username',\n                    type: 'radio',\n                    label: friend.relationship.their_username,\n                    value: friend,\n                    checked: false\n                });\n            }\n            alert.present();\n        });\n    }\n\n    parseChats() {\n        let rid_to_use = this.requested_rid || this.rid;\n        if(this.graphService.graph.messages[rid_to_use]) {\n            this.chats = this.graphService.graph.messages[rid_to_use];\n            for(var i=0; i < this.chats.length; i++) {\n                this.chats[i].time = new Date(parseInt(this.chats[i].time)*1000).toISOString().slice(0, 19).replace('T', ' ');\n            }\n        } else {\n            this.chats = [];\n        }\n    }\n\n    refresh(refresher, showLoading = true) {\n        if (showLoading) {\n            this.loading = true;\n        }\n        this.graphService.getGroupMessages(this.their_bulletin_secret, this.requested_rid, this.rid)\n        .then(() => {\n            this.loading = false;\n            if(refresher) refresher.complete();\n            return this.parseChats();\n        })\n        .then(() => {\n            setTimeout(() => this.content.scrollToBottom(1000), 500);\n        })\n        .then(() => {\n            return this.getSiaFiles();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    presentModal() {\n        \n        let modal = this.modalCtrl.create(SiaFiles, {\n            mode: 'modal',\n            logicalParent: this,\n            group: {\n                their_bulletin_secret: this.their_bulletin_secret,\n                rid: this.rid,\n                requester_rid: this.requester_rid,\n                requested_rid: this.requested_rid\n            }\n        });\n        modal.present();\n    }\n\n    import(relationship) {\n        return this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-share-file?origin=' + encodeURIComponent(window.location.origin), relationship)\n        .subscribe((res) => {\n            var files = res.json();\n        })\n    }\n\n    getSiaFiles() {\n        return this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-files')\n        .subscribe((res) => {\n            var files = res.json();\n        })\n    }\n\n    toggleExtraInfo(pending) {\n        const toast = this.toastCtrl.create({\n            message: pending ? \"Not yet saved on the blockchain\" : \"Saved on the blockchain\",\n            duration: 2000,\n            cssClass: pending ? 'redToast' : 'greenToast',\n            position: 'top'\n        });\n        toast.present();\n    }\n\n    viewProfile(item) {\n        var bulletin_secrets = [this.bulletinSecretService.bulletin_secret, item.relationship.my_bulletin_secret].sort(function (a, b) {\n            return a.toLowerCase().localeCompare(b.toLowerCase());\n        });\n        if (bulletin_secrets[0] === bulletin_secrets[1]) return;\n        return this.graphService.getFriends()\n        .then(() => {\n            var rid = foobar.bitcoin.crypto.sha256(bulletin_secrets[0] + bulletin_secrets[1]).toString('hex');\n            for (var i=0; i < this.graphService.graph.friends.length; i++) {\n                var friend = this.graphService.graph.friends[i];\n                if (friend.rid === rid) {\n                    item = friend;\n                }\n            }\n            this.navCtrl.push(ProfilePage, {\n                item: item\n            })\n        })\n    }\n\n    send() {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve transaction');\n        alert.setSubTitle('You are about to spend 0.00 coins ( 0.00 fee). Everything is free for now.');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                this.walletService.get()\n                .then(() => {\n                    return this.graphService.getFriends();\n                })\n                .then(() => {\n                    return this.transactionService.generateTransaction({\n                        relationship: {\n                            groupChatText: this.groupChatText,\n                            my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                            my_username: this.bulletinSecretService.username\n                        },\n                        their_bulletin_secret: this.their_bulletin_secret,\n                        rid: this.rid,\n                        requester_rid: this.requester_rid,\n                        requested_rid: this.requested_rid\n                    });\n                }).then((hash) => {\n                    return new Promise((resolve, reject) => {\n                        if (this.wallet_mode) {\n                            return resolve();\n                        }\n                        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sign-raw-transaction', {\n                            hash: hash, \n                            bulletin_secret: this.bulletinSecretService.bulletin_secret,\n                            input: this.transactionService.transaction.inputs[0].id,\n                            id: this.transactionService.transaction.id,\n                            txn: this.transactionService.transaction\n                        })\n                        .subscribe((res) => {\n                            //this.loadingModal2.dismiss();\n                            try {\n                                let data = res.json();\n                                this.transactionService.transaction.signatures = [data.signature]\n                                return resolve();\n                            } catch(err) {\n                                return reject(err);\n                                //this.loadingModal.dismiss().catch(() => {});\n                            }\n                        },\n                        (err) => {\n                            return reject(err);\n                        });\n                    });\n                }).then((txn) => {\n                    return this.transactionService.sendTransaction();\n                }).then(() => {\n                    this.groupChatText = '';\n                    this.refresh(null);\n                })\n                .catch((err) => {\n                   console.log(err); \n                   let alert = this.alertCtrl.create();\n                   alert.setTitle('Message error');\n                   alert.setSubTitle(err);\n                   alert.addButton('Ok');\n                   alert.present();\n                });\n            }\n        });\n        alert.present();\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/group/group.ts","import { Component } from '@angular/core';\nimport { NavParams, ViewController } from 'ionic-angular';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { OpenGraphParserService } from '../../app/opengraphparser.service'\nimport { SettingsService } from '../../app/settings.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { Http, Headers, RequestOptions } from '@angular/http';\n\ndeclare var Base64\n\n@Component({\n    selector: 'modal-files',\n    templateUrl: 'siafiles.html'\n})\nexport class SiaFiles {\n\tlogicalParent = null;\n    mode = '';\n\tpostText = null;\n    post = {};\n    files = null;\n    selectedFile = null;\n    filepath = '';\n    group = null;\n    error = '';\n    constructor(\n        public navParams: NavParams,\n        public viewCtrl: ViewController,\n        private walletService: WalletService,\n        private alertCtrl: AlertController,\n        private transactionService: TransactionService,\n        private openGraphParserService: OpenGraphParserService,\n        private settingsService: SettingsService,\n        private bulletinSecretService: BulletinSecretService,\n        private ahttp: Http\n    ) {\n        this.group = navParams.data.group;\n        this.mode = navParams.data.mode || 'page';\n        this.logicalParent = navParams.data.logicalParent;\n        let headers = new Headers();\n        headers.append('Authorization', 'Bearer ' + this.settingsService.tokens[this.bulletinSecretService.keyname]);\n        let options = new RequestOptions({ headers: headers});\n        this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-files', options)\n        .subscribe((res) => {\n            this.files = res.json()['files'];\n        },\n        (err) => {\n            this.error = err.json().message\n        })\n    }\n\n    changeListener($event) {\n        this.filepath = $event.target.files[0];\n    }\n\n    upload() {\n        this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-upload?filepath=' + encodeURIComponent(this.filepath))\n        .subscribe((res) => {\n            this.files = res.json()['files'];\n        })\n    }\n\n    delete(siapath) {\n        this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-delete?siapath=' + encodeURIComponent(siapath))\n        .subscribe((res) => {\n            this.files = res.json()['files'];\n        })\n    }\n\n    submit() {\n        this.walletService.get().then(() => {\n        \treturn new Promise((resolve, reject) => {\n                if (this.selectedFile) {\n\n                    this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-share-file?siapath=' + this.selectedFile)\n                    .subscribe((res) => {\n                        let sharefiledata = res.json()['filedata'];\n                        this.approveTxn(sharefiledata, resolve);\n                    })\n                } else {\n                    this.approveTxn(null, resolve);\n                }\n\t            console.log(status);\n        \t}).then(() => {\n        \t\tthis.dismiss();\n        \t});\n        });\n    }\n\n    approveTxn(sharefiledata, resolve) {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve Transaction');\n        alert.setSubTitle('You are about to spend 0.01 coins ( 0.01 fee)');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                // camera permission was granted\n                new Promise((resolve, reject) => {\n                    if (sharefiledata) {\n                        return this.transactionService.generateTransaction({\n                            relationship: {\n                                groupChatText: this.postText,\n                                groupChatFile: sharefiledata,\n                                groupChatFileName: this.selectedFile,\n                                my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                                my_username: this.bulletinSecretService.username\n                            },\n                            their_bulletin_secret: this.group.their_bulletin_secret,\n                            rid: this.group.rid,\n                            requester_rid: this.group.requester_rid,\n                            requested_rid: this.group.requested_rid\n                        })\n                        .then(() => {\n                            resolve()\n                        })\n                        .catch((err) => {\n                            reject();\n                        });\n                    } else {\n                        return this.transactionService.generateTransaction({\n                            relationship: {\n                                postText: this.postText\n                            }\n                        })\n                        .then(() => {\n                            resolve()\n                        })\n                        .catch((err) => {\n                            reject();\n                        });\n                    }\n                })\n                .then((hash) => {\n                    return this.transactionService.sendTransaction();\n                })\n                .then(() => {\n                    this.dismiss();\n                })\n                .catch((err) => {\n                    console.log('could not generate hash');\n                });\n            }\n        });\n        alert.present();\n    }\n\n    dismiss() {\n    \tthis.logicalParent.refresh();\n    \tthis.viewCtrl.dismiss();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/siafiles/siafiles.ts","import { Injectable } from '@angular/core';\nimport { Firebase } from '@ionic-native/firebase';\nimport { GraphService } from './graph.service';\nimport { SettingsService } from './settings.service';\nimport { Http } from '@angular/http';\n\n\n@Injectable()\nexport class FirebaseService {\n  constructor(\n    private settingsService: SettingsService,\n    private graphService: GraphService,\n    public firebase: Firebase,\n    private ahttp: Http\n  ) {}\n\n  initFirebase() {\n    if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n      this.firebase.getToken()\n      .then((token) => {\n        console.log(token);\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/fcm-token', {\n          rid: this.graphService.graph.rid,\n          token: token,\n        }).subscribe(() => {});\n      })\n      .catch((error) => {\n          console.log('Error getting token', error)\n      });\n\n      this.firebase.onTokenRefresh()\n      .subscribe((token: string) => {\n        console.log(token);\n        this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/fcm-token', {\n          rid: this.graphService.graph.rid,\n          token: token\n        }).subscribe(() => {});\n      });\n\n      this.firebase.onNotificationOpen().subscribe(notification => {\n        console.log(notification);\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/firebase.service.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Events } from 'ionic-angular';\n\n\ndeclare var foobar;\ndeclare var forge;\n\n@Injectable()\nexport class BulletinSecretService {\n    key = null;\n    bulletin_secret = null;\n    keyname = null;\n    keykeys = null;\n    username = null;\n    constructor(\n        private storage: Storage,\n        public events: Events\n    ) {}\n\n    shared_encrypt(shared_secret, message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(shared_secret).digest().toHex(), 'salt', 400, 32);\n        var cipher = forge.cipher.createCipher('AES-CBC', key);\n        var iv = '';\n        cipher.start({iv: iv});\n        cipher.update(forge.util.createBuffer(iv + message));\n        cipher.finish()\n        return cipher.output.toHex()\n    }\n\n    get() {\n        return this.all()\n        .then((keys: any) => {\n            return this.setKeyName(keys);\n        })\n        .then(() => {\n            return this.setKey();\n        });\n    }\n\n    setKeyName(keys) {\n        return new Promise((resolve, reject) => {\n            keys.sort(function (a, b) {\n                if (a.idx < b.idx)\n                    return -1\n                if ( a.idx > b.idx)\n                    return 1\n                return 0\n            });\n            if (!this.keyname) {\n                this.storage.get('last-keyname').then((key) => {\n                    if(key && typeof key == 'string') {\n                        this.keyname = key;\n                    } else {\n                        this.keyname = keys[0].idx\n                    }\n                    resolve(keys);\n                });\n            } else {\n                resolve(keys);\n            }\n        });\n    }\n\n    setKey() {\n        return new Promise((resolve, reject) => {\n            this.storage.get(this.keyname).then((key) => {\n                this.key = foobar.bitcoin.ECPair.fromWIF(key);\n                this.username = this.keyname.substr('usernames-'.length);\n                this.bulletin_secret = this.generate_bulletin_secret();\n                return resolve();\n            });\n        });\n    }\n\n    generate_bulletin_secret() {\n        return foobar.base64.fromByteArray(this.key.sign(foobar.bitcoin.crypto.sha256(this.username)).toDER());\n    }\n\n    set(key) {\n        return new Promise((resolve, reject) => {\n            this.keyname = key;\n            return this.storage.set('last-keyname', key)\n            .then(() => {\n                return this.storage.remove('usernames-');\n            })\n            .then((key) => {\n                return this.get();\n            })\n            .then(() => {\n                return this.setKey();\n            })\n            .then(() => {\n                return resolve();\n            })\n            .catch(() => {\n                return reject();\n            });\n        });\n    }\n\n    create(username) {\n        return new Promise((resolve, reject) => {\n            if (!username) return reject();\n            this.keyname = 'usernames-' + username;\n            this.storage.set('last-keyname', this.keyname);\n\n            this.username = username;\n            this.key = foobar.bitcoin.ECPair.makeRandom();\n            this.storage.set(this.keyname, this.key.toWIF());\n            this.bulletin_secret = this.generate_bulletin_secret();\n            return this.get().then(() => {\n                return resolve();\n            });\n        });\n    }\n\n    import (keyWif, username) {\n        return new Promise((resolve, reject) => {\n            if (!username) return reject();\n            this.keyname = 'usernames-' + username;\n            this.storage.set('last-keyname', this.keyname);\n            \n            this.username = username;\n            this.storage.set(this.keyname, keyWif.trim());\n            this.key = foobar.bitcoin.ECPair.fromWIF(keyWif.trim());\n            this.bulletin_secret = this.generate_bulletin_secret();\n            return this.get().then(() => {\n                return resolve();\n            });\n        });\n    }\n\n    all() {\n        return new Promise((resolve, reject) => {\n            var keykeys = [];\n            this.storage.forEach((value, key) => {\n                if (key.substr(0, 'usernames-'.length) === 'usernames-') {\n                    keykeys.push({key: value, idx: key});\n                }\n            })\n            .then(() => {\n                this.keykeys = keykeys;\n                resolve(keykeys);\n            });\n        });\n    }\n\n    decrypt(message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/bulletinSecret.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 217;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 217\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { SettingsService } from './settings.service';\nimport { Http, RequestOptions, Headers } from '@angular/http';\nimport { timeout } from 'rxjs/operators';\n\n\n@Injectable()\nexport class WalletService {\n    wallet: any;\n    walletproviderAddress: any;\n    xhr: any;\n    key: any;\n    walletError = false;\n    constructor(\n        private ahttp: Http,\n        private bulletinSecretService: BulletinSecretService,\n        private settingsService: SettingsService,\n    ) {\n        this.wallet = {};\n    }\n\n    get(amount_needed=0) {\n        return new Promise((resolve, reject) => {\n            if (!this.settingsService.remoteSettings['walletUrl']) return resolve();\n            this.bulletinSecretService.get()\n            .then(() => {\n                return this.walletPromise(amount_needed);\n            })\n            .then(() => {\n                return resolve();  \n            })\n            .catch(() => {\n                return reject();  \n            });\n        })\n    }\n\n    walletPromise(amount_needed=0) {\n        return new Promise((resolve, reject) => {\n            if(!this.settingsService.remoteSettings['walletUrl']) {\n                return reject()\n            }\n            if(this.bulletinSecretService.username) {\n                let headers = new Headers();\n                headers.append('Authorization', 'Bearer ' + this.settingsService.tokens[this.bulletinSecretService.keyname]);\n                let options = new RequestOptions({ headers: headers, withCredentials: true });\n                this.ahttp.get(this.settingsService.remoteSettings['walletUrl'] + '?amount_needed=' + amount_needed + '&address=' + this.bulletinSecretService.key.getAddress() + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret + '&origin=' + window.location.origin, options)\n                .pipe(timeout(30000))\n                .subscribe((data) => {\n                    if(data['_body']) {\n                        this.walletError = false;\n                        this.wallet = JSON.parse(data['_body']);\n                        this.wallet.balancePretty = this.wallet.balance.toFixed(2);\n                        resolve(data['_body']);\n                    } else {\n                        this.walletError = true;\n                        this.wallet = {};\n                        this.wallet.balancePretty = 0;\n                        reject(\"no data returned\");\n                    }\n                },\n                (err) => {\n                    this.walletError = true;\n                    reject(\"data or server error\");\n                });\n            } else {\n                this.walletError = true;\n                reject(\"username not set\");\n            }\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/wallet.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 258;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 258\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavParams, ViewController } from 'ionic-angular';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { OpenGraphParserService } from '../../app/opengraphparser.service'\nimport { SettingsService } from '../../app/settings.service';\nimport { Http, Headers, RequestOptions } from '@angular/http';\n\ndeclare var Base64\n\n@Component({\n    selector: 'modal-post',\n    templateUrl: 'postmodal.html'\n})\nexport class PostModal {\n\tblockchainAddress = null;\n\tpostText = null;\n\tlogicalParent = null;\n    post = {};\n    files = null;\n    selectedFile = null;\n    constructor(\n        public navParams: NavParams,\n        public viewCtrl: ViewController,\n        private walletService: WalletService,\n        private alertCtrl: AlertController,\n        private transactionService: TransactionService,\n        private openGraphParserService: OpenGraphParserService,\n        private settingsService: SettingsService,\n        private ahttp: Http\n    ) {\n        this.blockchainAddress = navParams.data.blockchainAddress;\n        this.logicalParent = navParams.data.logicalParent;\n        let headers = new Headers();\n        headers.append('Authorization', 'basic ' + Base64.encode(this.settingsService.remoteSettings['siaPassword']));\n        let options = new RequestOptions({ headers: headers, withCredentials: true });\n        this.ahttp.get(this.settingsService.remoteSettings['siaUrl'] + '/renter/files', options)\n        .subscribe((res) => {\n            this.files = res.json()['files'];\n        })\n    }\n\n    change() {\n    \tif (this.openGraphParserService.isURL(this.postText)) {\n    \t    this.openGraphParserService.parseFromUrl(this.postText).then((data) => {\n                this.post = data;\n            });\n        }\n    }\n\n    submit() {\n        this.walletService.get().then(() => {\n        \treturn new Promise((resolve, reject) => {\n                if (this.selectedFile) {\n\n                    this.ahttp.get(this.settingsService.remoteSettings['siaUrl'] + '/renter/shareascii?siapaths=' + this.selectedFile[0])\n                    .subscribe((res) => {\n                        let sharefiledata = res.json()['asciisia'];\n                        this.approveTxn(sharefiledata, resolve);\n                    })\n                } else {\n                    this.approveTxn(null, resolve);\n                }\n\t            console.log(status);\n        \t}).then(() => {\n        \t\tthis.dismiss();\n        \t});\n        });\n    }\n\n    approveTxn(sharefiledata, resolve) {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Approve Transaction');\n        alert.setSubTitle('You are about to spend 0.01 coins ( 0.01 fee)');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                // camera permission was granted\n                new Promise((resolve, reject) => {\n                    if (sharefiledata) {\n                        return this.transactionService.generateTransaction({\n                            relationship: {\n                                postText: this.postText,\n                                postFile: sharefiledata,\n                                postFileName: this.selectedFile[0]\n                            }\n                        })\n                        .then(() => {\n                            resolve()\n                        })\n                        .catch((err) => {\n                            reject();\n                        });\n                    } else {\n                        return this.transactionService.generateTransaction({\n                            relationship: {\n                                postText: this.postText\n                            }\n                        })\n                        .then(() => {\n                            resolve()\n                        })\n                        .catch((err) => {\n                            reject();\n                        });\n                    }\n                })\n                .then(() => {\n                    return this.transactionService.getFastGraphSignature();\n                })\n                .then((hash) => {\n                    return this.transactionService.sendTransaction();\n                })\n                .then(() => {\n                    this.dismiss();\n                })\n                .catch((err) => {\n                    console.log('could not generate hash');\n                });\n            }\n        });\n        alert.present();\n    }\n\n    dismiss() {\n    \tthis.logicalParent.refresh();\n    \tthis.viewCtrl.dismiss();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/postmodal.ts","import { Injectable } from '@angular/core';\nimport { SettingsService } from './settings.service';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { AutoCompleteService } from 'ionic2-auto-complete';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class CompleteTestService implements AutoCompleteService {\n  labelAttribute = \"name\";\n  formValueAttribute = \"value\";\n\n  constructor(\n      private http: Http,\n      private settingsService: SettingsService,\n      private bulletinSecretService: BulletinSecretService\n  ) {}\n\n  getResults(searchTerm:string) {\n    return this.http.get(this.settingsService.remoteSettings['baseUrl'] + '/ns?searchTerm=' + searchTerm + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret)\n    .map((res) => {\n        var result = res.json().map(item => {\n            return {name: item.relationship.their_username, value: item}\n        });\n        return result;\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/autocomplete.provider.ts","import { Component, Injectable } from '@angular/core';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { SettingsService } from '../../app/settings.service';\nimport { PeerService } from '../../app/peer.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { FirebaseService } from '../../app/firebase.service';\nimport { ListPage } from '../list/list';\nimport { AlertController, LoadingController } from 'ionic-angular';\nimport { GraphService } from '../../app/graph.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Events } from 'ionic-angular';\nimport { HomePage } from '../home/home';\nimport { Http, Headers, RequestOptions } from '@angular/http';\n\n\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\n\nexport class Settings {\n    baseUrl = null\n    blockchainAddress = null\n    graphproviderAddress = null\n    walletproviderAddress = null\n    siaAddress = null\n    siaPassword = null\n    keys = null;\n    loadingModal = null;\n    prefix = null;\n    importedKey = null;\n    activeKey = null;\n    serverDown = false;\n    noUsername = false;\n    key = null;\n    favorites = null;\n    removeFavorites = null;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        private settingsService: SettingsService,\n        private bulletinSecretService: BulletinSecretService,\n        private firebaseService: FirebaseService,\n        public loadingCtrl: LoadingController,\n        public alertCtrl: AlertController,\n        private storage: Storage,\n        private graphService: GraphService,\n        private socialSharing: SocialSharing,\n        private walletService: WalletService,\n        public events: Events,\n        public toastCtrl: ToastController,\n        public peerService: PeerService\n    ) {\n        if (typeof this.peerService.mode == 'undefined') this.peerService.mode = true;\n        this.refresh(null).catch((err) => {\n            console.log(err)\n        });\n        this.prefix = 'usernames-';\n    }\n\n    refresh(refresher) {\n        this.noUsername = false;\n        return this.bulletinSecretService.all().then((keys) => {\n            this.setKey(keys);\n        }).then(() => {\n            this.getFavorites();\n        }).then(() => {\n            if(refresher) refresher.complete();\n        });\n\n    }\n\n    saveToFavorites() {\n        let alert = this.alertCtrl.create({\n            title: 'Set group name',\n            inputs: [\n            {\n                name: 'groupname',\n                placeholder: 'Group name'\n            }\n            ],\n            buttons: [\n            {\n                text: 'Save',\n                handler: data => {\n                    this.storage.set('favorites-' + data.groupname, this.settingsService.remoteSettingsUrl);\n                    this.getFavorites();\n                }\n            }\n            ]\n        });\n        alert.present();\n        \n    }\n    getResults(keyword:string) {\n      return ['234234','234234']\n    }\n\n    getFavorites() {\n        return new Promise((resolve, reject) => {\n            var favorites = [];\n            this.storage.forEach((value, key) => {\n                if (key.substr(0, 'favorites-'.length) === 'favorites-') {\n                    favorites.push({label: key.substr('favorites-'.length), url: value});\n                }\n            })\n            .then(() => {\n                if (favorites.length == 0) {\n                    var host = window.location.protocol + '//' + window.location.host\n                    this.storage.set('favorites-Home', host);\n                    favorites.push({label: 'Home', url: host});\n                }\n                this.favorites = favorites;\n                resolve(favorites);\n            });\n        });\n    }\n\n    selectFavorite(favorite) {\n        for(var i=0; i < this.favorites.length; i++) {\n            this.favorites[i].active = false;\n        }\n        favorite.active = true;\n        this.settingsService.remoteSettingsUrl = favorite.url;\n        this.storage.set('node', favorite.url);\n    }\n\n    removeFavorite(favorite) {\n        this.storage.remove('favorites-' + favorite.label);\n        this.getFavorites()\n        .then((favorites) => {\n            if (!favorites) {\n                this.removeFavorites = null;\n            }\n        });\n    }\n\n    setKey(keys) {\n        var keys_indexed = {};\n        for (var i = 0; i < keys.length; i++) {\n            keys_indexed[keys[i].key] = keys[i].key;\n        }\n        var newKeys = [];\n        this.storage.forEach((value, key) => {\n            if (key.substr(0, this.prefix.length) === this.prefix) {\n                let active = (this.bulletinSecretService.username || '') == key.substr(this.prefix.length);\n                newKeys.push({\n                    username: key.substr(this.prefix.length),\n                    key: value,\n                    active: active\n                });\n                if (active) {\n                    this.activeKey = value;\n                }\n            }\n        })\n        .then(() => {\n            newKeys.sort(function (a, b) {\n                if (a.username < b.username)\n                  return -1\n                if ( a.username > b.username)\n                  return 1\n                return 0\n            });\n            this.keys = newKeys;\n        });\n    }\n\n    exportKey() {\n        let alert = this.alertCtrl.create();\n        alert.setTitle('Export Key');\n        alert.setSubTitle('Warning: Never ever share this secret key with anybody but yourself!');\n        alert.addButton({\n            text: 'Ok',\n            handler: (data: any) => {\n                this.socialSharing.share(this.bulletinSecretService.key.toWIF(), \"Export Secret Key\");\n            }\n        });\n        alert.present();\n    }\n\n    importKey() {\n        new Promise((resolve, reject) => {\n            let alert = this.alertCtrl.create({\n                title: 'Set username',\n                inputs: [\n                {\n                    name: 'username',\n                    placeholder: 'Username'\n                }\n                ],\n                buttons: [\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: data => {\n                        console.log('Cancel clicked');\n                        reject();\n                    }\n                },\n                {\n                    text: 'Save',\n                    handler: data => {\n                        const toast = this.toastCtrl.create({\n                            message: 'Identity created',\n                            duration: 2000\n                        });\n                        toast.present();\n                        resolve(data.username);\n                    }\n                }\n                ]\n            });\n            alert.present();\n        })\n        .then((username) => {\n            return this.bulletinSecretService.import(this.importedKey, username);\n        })\n        .then(() => {\n            this.importedKey = '';\n            return this.refresh(null);\n        })\n        .catch(() => {\n            const toast = this.toastCtrl.create({\n                message: 'Error importing identity!',\n                duration: 2000\n            });\n            toast.present();\n        });\n    }\n\n    createKey() {\n        new Promise((resolve, reject) => {\n            let alert = this.alertCtrl.create({\n                title: 'Set username',\n                inputs: [\n                {\n                    name: 'username',\n                    placeholder: 'Username'\n                }\n                ],\n                buttons: [\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: data => {\n                        console.log('Cancel clicked');\n                        reject();\n                    }\n                },\n                {\n                    text: 'Save',\n                    handler: data => {\n                        const toast = this.toastCtrl.create({\n                            message: 'Identity created',\n                            duration: 2000\n                        });\n                        toast.present();\n                        resolve(data.username);\n                    }\n                }\n                ]\n            });\n            alert.present();\n        })\n        .then((username) => {\n            return new Promise((resolve, reject) => {\n                this.bulletinSecretService.create(username)\n                .then(() => {\n                    resolve(username);\n                });\n            })\n        })\n        .then((key) => {\n            this.set(key)\n            .then(() => {\n                this.save();\n            });\n        })\n        .then(() => { \n            this.selectIdentity(this.bulletinSecretService.keyname.substr(this.prefix.length));\n        })\n        .then(() => {\n            if (this.settingsService.remoteSettings['walletUrl']) {\n                return this.graphService.getInfo();\n            }\n        })\n        .then(() => {\n            return this.refresh(null)\n        })\n        .then(() => {\n            this.events.publish('pages-settings');\n        })\n        .catch(() => {\n            this.events.publish('pages');\n        });\n    }\n\n    selectIdentity(key) {\n        this.loadingModal = this.loadingCtrl.create({\n            content: 'Finding node...'\n        });\n        this.loadingModal.present();\n        return this.peerService.go()\n        .then(() => {\n            return this.set(key);\n        })\n        .then(() => { \n            this.loadingModal.dismiss();\n        })\n        .then(() => {\n            this.navCtrl.setRoot(HomePage);\n        })\n        .catch((err)  => {\n            this.loadingModal.dismiss();  \n        });\n    }\n\n    set(key) {\n        this.storage.set('last-keyname', this.prefix + key);\n        return this.doSet(this.prefix + key)\n        .then(() => {\n            this.events.publish('pages-settings');\n        })\n        .catch(() => {\n            console.log('can not set identity')\n        });\n    }\n\n    doSet(keyname) {\n        return new Promise((resolve, reject) => {\n            this.bulletinSecretService.set(keyname).then(() => {\n                return this.refresh(null);\n            }).then(() => {\n                this.serverDown = false;\n                if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n                    this.firebaseService.initFirebase();\n                }\n                return resolve();\n            }).catch((error) => {\n                this.serverDown = true;\n                return reject();\n            });\n        });\n    }\n\n    save() {\n        this.graphService.graph = {\n            comments: \"\",\n            reacts: \"\",\n            commentReacts: \"\"\n        };\n        \n        return this.set(this.bulletinSecretService.keyname.substr(this.prefix.length));\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { ListPage } from '../list/list';\nimport { SiaFiles } from '../siafiles/siafiles';\nimport { Http } from '@angular/http';\nimport { DomSanitizer } from '@angular/platform-browser';\n\ndeclare var Base64;\n\n@Component({\n    selector: 'page-stream',\n    templateUrl: 'stream.html',\n    queries: {\n      content: new ViewChild('content')\n    }\n})\nexport class StreamPage {\n    groupChatText: any;\n    bulletinSecret: any;\n    blockchainAddress: any;\n    chats: any;\n    rid: any;\n    their_public_key: any;\n    loading: any;\n    loadingModal: any;\n    content: any;\n    wallet_mode: any;\n    their_bulletin_secret: any;\n    their_username: any;\n    requester_rid: any;\n    requested_rid: any;\n    their_address: any;\n    extraInfo: any;\n    files: any;\n    streamUrl: any;\n    streams: any;\n    i: any;\n    j: any;\n    groups: any;\n    selectedGroup: any;\n    label: any;\n    error: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public transactionService: TransactionService,\n        public alertCtrl: AlertController,\n        public graphService: GraphService,\n        public loadingCtrl: LoadingController,\n        public bulletinSecretService: BulletinSecretService,\n        public settingsService: SettingsService,\n        public ahttp: Http,\n        public modalCtrl: ModalController,\n        public toastCtrl: ToastController,\n        private dom: DomSanitizer\n    ) {\n        this.streams = {};\n        this.label = this.navParams.get('pageTitle').label;\n        // if (this.showLoading) {\n        //     this.loading = true;\n        // }\n        this.getSiaFiles()\n        .then(() => {\n            this.graphService.getGroups()\n        })\n        .then(() => {\n            return new Promise((resolve, reject) => {\n                for(var i=0; i < this.graphService.graph.groups.length; i++) {\n                    var group = this.graphService.graph.groups[i];\n                    if (!this.streams[group.rid]) {\n                        this.streams[group.rid] = [];\n                    }\n                }\n                resolve();\n            })\n        })\n        .then(() => {\n            var promises = [];\n            for(var i=0; i < this.graphService.graph.groups.length; i++) {\n                var group = this.graphService.graph.groups[i];\n                promises.push(this.getGroupMessages(group));\n            }\n            return Promise.all(promises)\n        })\n        .then((groups) => {\n            var promises = []\n            for(var i=0; i < groups.length; i++) {\n                var group = groups[i];\n                promises.push(this.parseChats(group));\n            }\n            return Promise.all(promises);\n        })\n        .then((groups: Array<any>) => {\n            this.i = 0;\n            this.j = 0;\n            this.groups = groups;\n            this.cycleMedia();\n            setInterval(() => this.cycleMedia(), 1200000)\n        })\n        .catch((err) => {\n            this.error = true;\n            console.log(err);\n        });\n    }\n\n    selectGroup(rid) {\n        this.selectedGroup = rid;\n        this.cycleMedia();\n    }\n\n    cycleMedia() {\n        if(this.error) return;\n        if(!this.groups[this.i]) {\n            this.i = 0;\n            if(!this.groups[this.i]) {\n                return;\n            }\n        }\n        var group = this.groups[this.i];\n        var rid = this.selectedGroup || group.rid;\n        if (!this.streams[rid][this.j]) {\n            if (this.j === 0) {\n                this.i = 0;\n                var group = this.groups[this.i];\n            } else {\n                this.j = 0;\n            }\n        }\n        var stream = this.streams[rid][this.j];\n        this.ahttp.get(stream.url)\n        .subscribe((res) => {\n            this.streamUrl = stream.url;\n            this.j += 1;\n        },\n        (err) => {\n            this.import(stream.relationship);\n            this.j += 1;\n            if (!this.streams[rid][this.j]) {\n                this.selectedGroup = null;\n                this.i += 1;\n                this.j = 0;\n            }\n            setTimeout(() => {this.cycleMedia()}, 5000);\n        })\n    }\n\n    import(relationship) {\n        return this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sia-share-file?origin=' + encodeURIComponent(window.location.origin), relationship)\n        .subscribe((res) => {\n            console.log('New file imported:');\n            console.log(res.json());\n            var files = res.json();\n        },\n        (err) => {\n            this.error = true;\n        })\n    }\n\n    getGroupMessages(group) {\n        return new Promise((resolve, reject) => {\n            this.graphService.getGroupMessages(\n                group['relationship']['their_bulletin_secret'],\n                null,\n                group.rid\n            )\n            .then(() => {\n                return resolve(group);\n            });\n        });\n    }\n\n    parseChats(group) {\n        return new Promise((resolve, reject) => {\n            if (!this.graphService.graph['messages'][group.rid]) return resolve(group);\n            for(var j=0; j < this.graphService.graph['messages'][group.rid].length; j++) {\n                var message = this.graphService.graph['messages'][group.rid][j]\n                if (message['relationship']['groupChatFileName']) {\n                    this.streams[group.rid].push({\n                        url: this.settingsService.remoteSettings['baseUrl'] + '/sia-files-stream?siapath=' + message['relationship']['groupChatFileName'],\n                        title: '',\n                        relationship: message['relationship']\n                    })\n                }\n            }\n            if (this.streams[group.rid].length === 0) {\n                delete this.streams[group.rid];\n            }\n            resolve(group);\n        });\n    }\n\n    sanitize(url) {\n        return this.dom.bypassSecurityTrustResourceUrl(url);\n    }\n\n    getSiaFiles() {\n        return new Promise((resolve, reject) => {\n            this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/sia-files')\n            .subscribe((res) => {\n                var files = res.json();\n                resolve(files);\n            },\n            (err) => {\n                this.error = true;\n                reject(this.error);\n            })\n        })\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stream/stream.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { AlertController, LoadingController } from 'ionic-angular';\nimport { WalletService } from '../../app/wallet.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service'\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';\nimport { SettingsService } from '../../app/settings.service';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { ListPage } from '../list/list';\nimport { Http } from '@angular/http';\n\n@Component({\n  selector: 'page-sendreceive',\n  templateUrl: 'sendreceive.html'\n})\n\nexport class SendReceive {\n    value = null;\n    createdCode = null;\n    address = null;\n    loadingBalance: any;\n    balance = null;\n    isDevice = null;\n    loadingModal: any;\n    constructor(\n        private navCtrl: NavController,\n        private qrScanner: QRScanner,\n        private transactionService: TransactionService,\n        private alertCtrl: AlertController,\n        private bulletinSecretService: BulletinSecretService,\n        private walletService: WalletService,\n        private socialSharing: SocialSharing,\n        public loadingCtrl: LoadingController,\n        private ahttp: Http,\n        private settingsService: SettingsService\n    ) {\n        this.loadingModal = this.loadingCtrl.create({\n            content: 'Please wait...'\n        });\n        this.value = 0;\n        this.bulletinSecretService.get().then(() => {\n            this.createdCode = bulletinSecretService.key.getAddress();\n            this.refresh();\n        });\n    }\n\n    scan() {\n        if (!document.URL.startsWith('http') || document.URL.startsWith('http://localhost:8080')) {\n            this.isDevice = true;\n        } else {\n            this.isDevice = false;\n        }\n        this.qrScanner.prepare().then((status: QRScannerStatus) => {\n            console.log(status);\n            if (status.authorized) {\n                // start scanning\n                let scanSub = this.qrScanner.scan().subscribe((text: string) => {\n                    console.log('Scanned address', text);\n                    this.address = text;\n                    this.qrScanner.hide(); // hide camera preview\n                    scanSub.unsubscribe(); // stop scanning\n                    window.document.querySelector('ion-app').classList.remove('transparentBody');\n                });\n            }\n        });\n        this.qrScanner.resumePreview();\n        // show camera preview\n        this.qrScanner.show();\n        window.document.querySelector('ion-app').classList.add('transparentBody');\n    }\n\n    submit() {\n        var value = parseFloat(this.value)\n        var total = value + 0.01;\n\n        var alert = this.alertCtrl.create();\n        if (!this.address) {\n            alert.setTitle('Enter an address');\n            alert.addButton('Ok');\n            alert.present();\n            return\n        }\n        if (!value) {\n            alert.setTitle('Enter an amount');\n            alert.addButton('Ok');\n            alert.present();\n            return\n        }\n        alert.setTitle('Approve Transaction');\n        alert.setSubTitle('You are about to spend ' + total + ' coins (' + this.value + ' coin + 0.001 fee)');\n        alert.addButton('Cancel');\n        alert.addButton({\n            text: 'Confirm',\n            handler: (data: any) => {\n                this.loadingModal.present();\n                this.walletService.get(this.value)\n                .then(() => {\n                    return this.transactionService.generateTransaction({\n                        to: this.address,\n                        value: value\n                    });\n                }).then(() => {\n                    return this.transactionService.sendTransaction();\n                }).then((txn) => {\n                    var title = 'Transaction Sent';\n                    var message = 'Your transaction has been sent succefully.';\n                    if (!txn) {\n                        title = 'Insufficient Funds'\n                        message = \"Not enough YadaCoins for transaction.\";\n                    }\n                    var alert = this.alertCtrl.create();\n                    alert.setTitle(title);\n                    alert.setSubTitle(message);\n                    alert.addButton('Ok');\n                    alert.present();\n                    this.value = '0';\n                    this.address = '';\n                    this.refresh();\n                    this.loadingModal.dismiss().catch(() => {});\n                })\n                .catch((err) => {\n                    console.log(err);\n                    this.loadingModal.dismiss().catch(() => {});\n                });\n            }\n        });\n        alert.present();\n    }\n    refresh() {\n        this.loadingBalance = true;\n        return this.walletService.get(this.value)\n        .then(() => {\n            this.loadingBalance = false;\n            this.balance = this.walletService.wallet.balance;\n        }).catch((err) => {\n            console.log(err);  \n        });\n    }\n\n    shareAddress() {\n        this.socialSharing.share(this.bulletinSecretService.key.getAddress(), \"Send Yada Coin to this address!\");\n    }\n\n    showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sendreceive/sendreceive.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { Injectable } from '@angular/core';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { WalletService } from './wallet.service';\nimport { SettingsService } from './settings.service';\nimport { Http } from '@angular/http';\n\ndeclare var foobar;\ndeclare var forge;\ndeclare var Base64;\n\n@Injectable()\nexport class TransactionService {\n    info = null;\n    transaction = null;\n    key = null;\n    xhr = null;\n    rid = null;\n    callbackurl = null;\n    blockchainurl = null;\n    bulletin_secret = null;\n    their_bulletin_secret = null;\n    shared_secret = null;\n    to = null;\n    txnattempts = null;\n    cbattempts = null;\n    prevTxn = null;\n    txns = null;\n    resolve = null;\n    unspent_transaction_override = null;\n    value = null;\n    username = null;\n    signatures = null;\n    constructor(\n        private walletService: WalletService,\n        private bulletinSecretService: BulletinSecretService,\n        private ahttp: Http,\n        private settingsService: SettingsService\n    ) {}\n\n    generateTransaction(info) {\n        return new Promise((resolve, reject) => {\n            this.key = this.bulletinSecretService.key;\n            this.bulletin_secret = this.bulletinSecretService.generate_bulletin_secret();\n            this.username = this.bulletinSecretService.username;\n    \n            this.txnattempts = [12, 5, 4];\n            this.cbattempts = [12, 5, 4];\n            this.info = info;\n            this.their_bulletin_secret = this.info.their_bulletin_secret;\n            this.unspent_transaction_override = this.info.unspent_transaction;\n            this.blockchainurl = this.info.blockchainurl;\n            this.callbackurl = this.info.callbackurl;\n            this.to = this.info.to;\n            this.value = this.info.value;\n            if (this.info.rid) {\n                this.rid = this.info.rid;\n            }\n            else if (this.info.relationship && this.info.relationship.their_bulletin_secret) {\n                var bulletin_secrets = [this.bulletin_secret, this.info.relationship.their_bulletin_secret].sort(function (a, b) {\n                    return a.toLowerCase().localeCompare(b.toLowerCase());\n                });\n                this.rid = forge.sha256.create().update(bulletin_secrets[0] + bulletin_secrets[1]).digest().toHex();\n            } else if (this.info.their_bulletin_secret) {\n                bulletin_secrets = [this.bulletin_secret, this.info.their_bulletin_secret].sort(function (a, b) {\n                    return a.toLowerCase().localeCompare(b.toLowerCase());\n                });\n                this.rid = forge.sha256.create().update(bulletin_secrets[0] + bulletin_secrets[1]).digest().toHex();\n            } else {\n                this.rid = '';\n            }\n\n            this.transaction = {\n                rid:  this.rid,\n                fee: 0.00,\n                requester_rid: typeof this.info.requester_rid == 'undefined' ? '' : this.info.requester_rid,\n                requested_rid: typeof this.info.requested_rid == 'undefined' ? '' : this.info.requested_rid,\n                outputs: [],\n                time: parseInt(((+ new Date()) / 1000).toString()).toString(),\n                public_key: this.key.getPublicKeyBuffer().toString('hex')\n            };\n            if (this.info.dh_public_key && this.info.relationship.dh_private_key) {\n                this.transaction.dh_public_key = this.info.dh_public_key;\n            }\n            if (this.to) {\n                this.transaction.outputs.push({\n                    to: this.to,\n                    value: this.value || 0\n                })\n            }\n            if (this.transaction.outputs.length > 0) {\n                var transaction_total = this.transaction.outputs[0].value + this.transaction.fee;\n            } else {\n                transaction_total = this.transaction.fee;\n            }\n            if ((this.info.relationship && this.info.relationship.dh_private_key && this.walletService.wallet.balance < (this.transaction.outputs[0].value + this.transaction.fee)) /* || this.walletService.wallet.unspent_transactions.length == 0*/) {\n                reject(\"not enough money\");\n                return\n            } else {\n                var inputs = [];\n                var input_sum = 0\n                let unspent_transactions: any;\n                if(this.unspent_transaction_override) {\n                    unspent_transactions = [this.unspent_transaction_override];\n                } else {\n                    this.info.relationship = this.info.relationship || {};\n                    unspent_transactions = this.walletService.wallet.unspent_transactions;\n                    unspent_transactions.sort(function (a, b) {\n                        if (a.height < b.height)\n                          return -1\n                        if ( a.height > b.height)\n                          return 1\n                        return 0\n                    });\n                }\n                dance:\n                for (var i=0; i < unspent_transactions.length; i++) {\n                    var unspent_transaction = unspent_transactions[i];\n                    for (var j=0; j < unspent_transaction.outputs.length; j++) {\n                        var unspent_output = unspent_transaction.outputs[j];\n                        if (unspent_output.to === this.key.getAddress()) {\n                            inputs.push({id: unspent_transaction.id});\n                            input_sum += parseFloat(unspent_output.value);\n                            if (input_sum >= transaction_total) {    \n                                this.transaction.outputs.push({\n                                    to: this.key.getAddress(),\n                                    value: (input_sum - transaction_total)\n                                })\n                                break dance;\n                            }\n                        }\n                    }\n                }\n            }\n            var myAddress = this.key.getAddress();\n            var found = false;\n            for (var h=0; h < this.transaction.outputs.length; h++) {\n                if (this.transaction.outputs[h].to == myAddress) {\n                    found = true;\n                }\n            }\n            if (!found) {\n                this.transaction.outputs.push({\n                    to: this.key.getAddress(),\n                    value: 0\n                })\n            }\n            \n            if (input_sum < transaction_total) {\n                return reject(false);\n            }\n            this.transaction.inputs = inputs;\n    \n            var inputs_hashes = [];\n            for(i=0; i < inputs.length; i++) {\n                inputs_hashes.push(inputs[i].id);\n            }\n    \n            var inputs_hashes_arr = inputs_hashes.sort(function (a, b) {\n                if (a.toLowerCase() < b.toLowerCase())\n                  return -1\n                if ( a.toLowerCase() > b.toLowerCase())\n                  return 1\n                return 0\n            });\n    \n            var inputs_hashes_concat = inputs_hashes_arr.join('')\n    \n            var outputs_hashes = [];\n            for(i=0; i < this.transaction.outputs.length; i++) {\n                outputs_hashes.push(this.transaction.outputs[i].to+this.transaction.outputs[i].value.toFixed(8));\n            }\n    \n            var outputs_hashes_arr = outputs_hashes.sort(function (a, b) {\n                if (a.toLowerCase() < b.toLowerCase())\n                  return -1\n                if ( a.toLowerCase() > b.toLowerCase())\n                  return 1\n                return 0\n            });\n            var outputs_hashes_concat = outputs_hashes_arr.join('');\n    \n            if (this.info.relationship) {\n                bulletin_secrets = [this.bulletin_secret, this.info.relationship.bulletin_secret].sort(function (a, b) {\n                    return a.toLowerCase().localeCompare(b.toLowerCase());\n                });\n                this.rid = foobar.bitcoin.crypto.sha256(bulletin_secrets[0] + bulletin_secrets[1]).toString('hex');\n            } else {\n                this.info.relationship = {};\n            }\n    \n            if (this.info.dh_public_key && this.info.relationship.dh_private_key) {\n                // creating new relationship\n                this.transaction.relationship = this.encrypt()\n                var hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.dh_public_key +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (typeof this.info.relationship.groupChatText !== 'undefined') {\n                // group chat\n    \n                this.transaction.relationship = this.shared_encrypt(this.their_bulletin_secret, JSON.stringify(this.info.relationship));                    \n    \n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.postText) {\n                // group post\n    \n                this.transaction.relationship = this.shared_encrypt(this.their_bulletin_secret, JSON.stringify(this.info.relationship));                    \n    \n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.comment) {\n                // group comment\n    \n                this.transaction.relationship = this.shared_encrypt(this.their_bulletin_secret, JSON.stringify(this.info.relationship));                    \n    \n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.react) {\n                // group react\n    \n                this.transaction.relationship = this.shared_encrypt(this.their_bulletin_secret, JSON.stringify(this.info.relationship));                    \n    \n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.chatText) {\n                // chat\n                this.transaction.relationship = this.shared_encrypt(this.info.shared_secret, JSON.stringify(this.info.relationship));                    \n    \n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    this.transaction.requester_rid +\n                    this.transaction.requested_rid +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else if (this.info.relationship.signIn) {\n                // sign in\n                this.transaction.relationship = this.shared_encrypt(this.info.shared_secret, JSON.stringify(this.info.relationship));                    \n    \n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.relationship +\n                    this.transaction.fee.toFixed(8) +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex')\n            } else {\n                //straight transaction\n                hash = foobar.bitcoin.crypto.sha256(\n                    this.transaction.public_key +\n                    this.transaction.time +\n                    this.transaction.rid +\n                    this.transaction.fee.toFixed(8) +\n                    inputs_hashes_concat +\n                    outputs_hashes_concat\n                ).toString('hex');            \n            }\n    \n            this.transaction.hash = hash\n            var attempt = this.txnattempts.pop();\n            attempt = this.cbattempts.pop();\n            this.transaction.id = this.get_transaction_id(this.transaction.hash, attempt);\n            if(hash) {\n                resolve(hash);\n            } else {\n                reject(false);\n            }\n        });\n    }\n\n    getFastGraphSignature() {\n        return new Promise((resolve, reject) => {\n            this.ahttp.post(this.settingsService.remoteSettings['baseUrl'] + '/sign-raw-transaction', {\n                hash: this.transaction.hash, \n                bulletin_secret: this.bulletinSecretService.bulletin_secret,\n                input: this.transaction.inputs[0].id,\n                id: this.transaction.id,\n                txn: this.transaction\n            })\n            .subscribe((res) => {\n                try {\n                    let data = res.json();\n                    this.transaction.signatures = [data.signature]\n                    resolve();\n                } catch(err) {\n                    reject();\n                    \n                }\n            },\n            (err) => {\n                reject();\n            });\n        });\n    }\n\n    sendTransaction() {\n        return new Promise((resolve, reject) => {\n            var url = '';\n            url = this.settingsService.remoteSettings['transactionUrl'] + '?bulletin_secret=' + this.bulletin_secret + '&to=' + this.key.getAddress() + '&username=' + this.username\n\n            this.ahttp.post(\n                url,\n                this.transaction)\n            .subscribe((data) => {\n                try {\n                    resolve(JSON.parse(data['_body']));\n                }\n                catch(err) {\n                    reject(err);\n                }                \n            },\n            (error) => {\n                if (this.txnattempts.length > 0) {\n                    reject();\n                }\n            });\n        });\n    }\n\n    sendCallback() {\n        return new Promise((resolve, reject) => {\n            if(this.callbackurl) {\n                this.ahttp.post(\n                    this.callbackurl,\n                    {\n                        bulletin_secret: this.bulletin_secret,\n                        to: this.key.getAddress(),\n                        username: this.username\n                    })\n                .subscribe((data) => {\n                    resolve(JSON.parse(data['_body']));\n                },\n                (error) => {\n                    if (this.cbattempts.length > 0) {\n                        reject();\n                    }\n                });\n            }\n        });\n    }\n\n\n    get_transaction_id(hash, trynum) {\n        var combine = new Uint8Array(hash.length);\n        //combine[0] = 0;\n        //combine[1] = 64;\n        for (var i = 0; i < hash.length; i++) {\n            combine[i] = hash.charCodeAt(i)\n        }\n        var shaMessage = foobar.bitcoin.crypto.sha256(combine);\n        var signature = this.key.sign(shaMessage);\n        var der = signature.toDER();\n        return foobar.base64.fromByteArray(der);\n    }\n\n    direct_message(data) {\n        //placeholder\n    }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n\n    hexToByteArray(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback)\n    }\n\n    byteArrayToHexString(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n\n    encrypt() {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var cipher = forge.cipher.createCipher('AES-CBC', key);\n        var iv = forge.random.getBytesSync(16);\n        cipher.start({iv: iv});\n        cipher.update(forge.util.createBuffer(iv + JSON.stringify(this.info.relationship)));\n        cipher.finish()\n        return cipher.output.toHex()\n    }\n\n    shared_encrypt(shared_secret, message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(shared_secret).digest().toHex(), 'salt', 400, 32);\n        var cipher = forge.cipher.createCipher('AES-CBC', key);\n        var iv = forge.random.getBytesSync(16);\n        cipher.start({iv: iv});\n        cipher.update(forge.util.createBuffer(iv + Base64.encode(message)));\n        cipher.finish()\n        return cipher.output.toHex()\n    }\n\n    decrypt(message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output\n    }\n\n    shared_decrypt(shared_secret, message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(shared_secret).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/transaction.service.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { SettingsService } from './settings.service';\nimport { Badge } from '@ionic-native/badge';\nimport { Http, RequestOptions, Headers } from '@angular/http';\nimport { Platform } from 'ionic-angular';\nimport { timeout } from 'rxjs/operators';\n\n\ndeclare var forge;\ndeclare var X25519;\ndeclare var Base64;\n\n@Injectable()\nexport class GraphService {\n    graph: any;\n    graphproviderAddress: any;\n    xhr: any;\n    key: any;\n    rid: any;\n    stored_secrets: any;\n    stored_secrets_by_rid: any;\n    accepted_friend_requests: any;\n    keys: any;\n    storingSecretsModal: any;\n    new_messages_count: any; //total new messages\n    new_messages_counts: any; //new messages by rid\n    new_group_messages_count: any; //total new group messages\n    new_group_messages_counts: any; //new group messages by rid\n    new_sign_ins_count: any; //total new sign ins\n    new_sign_ins_counts: any; //new sign ins by rid\n    friend_request_count: any; //total friend requests\n    friends_indexed: any;\n    getGraphError = false;\n    getSentFriendRequestsError = false;\n    getGroupsRequestsError = false;\n    getFriendRequestsError = false;\n    getFriendsError = false;\n    getMessagesError = false;\n    getNewMessagesError = false;\n    getSignInsError = false;\n    getNewSignInsError = false;\n    getPostsError = false;\n    getReactsError = false;\n    getCommentsError = false;\n    getcommentReactsError = false;\n    getcommentRepliesError = false;\n    usernames = {};\n    bulletin_secret = '';\n    constructor(\n        private storage: Storage,\n        private bulletinSecretService: BulletinSecretService,\n        private settingsService: SettingsService,\n        private badge: Badge,\n        private platform: Platform,\n        private ahttp: Http\n    ) {\n        this.stored_secrets = {};\n        this.stored_secrets_by_rid = {};\n        this.accepted_friend_requests = [];\n        this.keys = {};\n        this.new_messages_count = 0;\n        this.new_messages_counts = {};\n        this.new_group_messages_count = 0;\n        this.new_group_messages_counts = {};\n        this.new_sign_ins_count = this.new_sign_ins_count || 0;\n        this.new_sign_ins_counts = {};\n        this.friend_request_count = this.friend_request_count || 0;\n        this.usernames = {};\n        this.friends_indexed = {};\n    }\n\n    endpointRequest(endpoint, ids=null, rids=null) {\n        return new Promise((resolve, reject) => {\n            let headers = new Headers();\n            headers.append('Authorization', 'Bearer ' + this.settingsService.tokens[this.bulletinSecretService.keyname]);\n            let options = new RequestOptions({ headers: headers, withCredentials: true });\n            var promise = null;\n            if (ids) {\n                promise = this.ahttp.post(\n                    this.settingsService.remoteSettings['graphUrl'] + '/' + endpoint + '?origin=' + encodeURIComponent(window.location.origin) + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret,\n                    {ids: ids},\n                    options\n                );\n            } else if (rids) {\n                promise = this.ahttp.post(\n                    this.settingsService.remoteSettings['graphUrl'] + '/' + endpoint + '?origin=' + encodeURIComponent(window.location.origin) + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret,\n                    {rids: rids},\n                    options\n                );\n            } else {\n                promise = this.ahttp.get(\n                    this.settingsService.remoteSettings['graphUrl'] + '/' + endpoint + '?origin=' + encodeURIComponent(window.location.origin) + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret,\n                    options\n                )\n            }\n            \n            promise\n            .pipe(timeout(30000))\n            .subscribe((data) => {\n                try {\n                    var info = JSON.parse(data['_body']);\n                    this.graph.rid = info.rid;\n                    this.graph.bulletin_secret = info.bulletin_secret;\n                    this.graph.registered = info.registered;\n                    this.graph.pending_registration = info.pending_registration;\n                    resolve(info);\n                } catch(err) {\n                }\n            },\n            (err) => {\n                reject(err);\n            });\n        });\n    }\n\n    getInfo() {\n        return new Promise((resolve, reject) => {\n            if (!this.settingsService.remoteSettings['walletUrl']) return resolve();\n            this.endpointRequest('get-graph-info')\n            .then((data: any) => {\n                this.getGraphError = false;\n                resolve(data);\n            }).catch((err) => {\n                this.getGraphError = true;\n                reject(null);\n            });\n        })\n    }\n\n    getSentFriendRequests() {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-sent-friend-requests')\n            .then((data: any) => {\n                this.graph.sent_friend_requests = this.parseSentFriendRequests(data.sent_friend_requests);\n                this.getSentFriendRequestsError = false;\n                resolve();\n            }).catch((err) => {\n                this.getSentFriendRequestsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getFriendRequests() {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-friend-requests')\n            .then((data: any) => {\n                this.graph.friend_requests = this.parseFriendRequests(data.friend_requests);\n                this.getFriendRequestsError = false;\n                resolve();\n            }).catch((err) => {\n                this.getFriendRequestsError = true;\n                reject(null);\n            }).catch(() => {\n                reject();\n            });\n        });\n    }\n\n    getFriends() {\n        return this.getSentFriendRequests()\n        .then(() => {\n            return this.getFriendRequests()\n        })\n        .then(() => {\n            return this.endpointRequest('get-graph-friends')\n        })\n        .then((data: any) => {\n            return this.parseFriends(data.friends)\n        })\n        .then((friends: any) => {\n            //sort list alphabetically by username\n            friends.sort(function (a, b) {\n              if (a.username < b.username)\n                return -1\n              if ( a.username > b.username)\n                return 1\n              return 0\n            });\n            this.graph.friends = friends;\n        });\n    }\n\n    getGroups() {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-sent-friend-requests')\n            .then((data: any) => {\n                return this.parseGroups(data.sent_friend_requests);\n            }).then((groups) => {\n                this.getGroupsRequestsError = false;\n                this.graph.groups = groups;\n                resolve();\n            }).catch((err) => {\n                this.getGroupsRequestsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getMessages(rid) {\n        //get messages for a specific friend\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-messages', null, [rid])\n            .then((data: any) => {\n                return this.parseMessages(data.messages, 'new_messages_counts', 'new_messages_count', rid, 'chatText', 'last_message_height')\n            })\n            .then((chats: any) => {\n                if (!this.graph.messages) {\n                    this.graph.messages = {};\n                }\n                if (chats[rid]){\n                    this.graph.messages[rid] = chats[rid];\n                    this.graph.messages[rid].sort(function (a, b) {\n                        if (parseInt(a.time) > parseInt(b.time))\n                        return 1\n                        if ( parseInt(a.time) < parseInt(b.time))\n                        return -1\n                        return 0\n                    });\n                }\n                this.getMessagesError = false;                \n                return resolve(chats[rid]);\n            }).catch((err) => {\n                this.getMessagesError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getNewMessages() {\n        //get the latest message for each friend\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-new-messages')\n            .then((data: any) => {\n                return this.parseNewMessages(data.new_messages, 'new_messages_counts', 'new_messages_count', 'last_message_height');\n            })\n            .then((newChats: any) => {\n                this.graph.newMessages = newChats;\n                this.getNewMessagesError = false;\n                resolve(newChats);\n            }).catch((err) => {\n                this.getNewMessagesError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getGroupMessages(key, requested_rid, rid) {\n        //get messages for a specific friend\n        var choice_rid = requested_rid || rid;\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-messages', null, [choice_rid])\n            .then((data: any) => {\n                return this.parseGroupMessages(key, data.messages, 'new_group_messages_counts', 'new_group_messages_count', rid, ['groupChatText', 'groupChatFileName'], 'last_group_message_height')\n            })\n            .then((chats: any) => {\n                if (!this.graph.messages) {\n                    this.graph.messages = {};\n                }\n                if (choice_rid && chats[choice_rid]){\n                    this.graph.messages[choice_rid] = chats[choice_rid];\n                    this.graph.messages[choice_rid].sort(function (a, b) {\n                        if (parseInt(a.time) > parseInt(b.time))\n                        return 1\n                        if ( parseInt(a.time) < parseInt(b.time))\n                        return -1\n                        return 0\n                    });\n                }\n                this.getMessagesError = false;                \n                return resolve(chats[choice_rid]);\n            }).catch((err) => {\n                this.getMessagesError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getNewGroupMessages() {\n        //get the latest message for each friend\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-new-messages')\n            .then((data: any) => {\n                return this.parseNewMessages(data.new_messages, 'new_group_messages_counts', 'new_group_messages_count', 'last_group_message_height');\n            })\n            .then((newChats: any) => {\n                this.graph.newGroupMessages = newChats;\n                this.getNewMessagesError = false;\n                resolve(newChats);\n            }).catch((err) => {\n                this.getNewMessagesError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getSignIns(rid) {\n        //get sign ins for a specific friend\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-new-messages')\n            .then((data: any) => {\n                return this.parseMessages(data.new_messages, 'new_sign_ins_counts', 'new_sign_ins_count', rid, 'signIn', 'last_sign_in_height');\n            })\n            .then((signIns: any) => {\n                signIns[rid].sort(function (a, b) {\n                  if (a.height > b.height)\n                    return -1\n                  if ( a.height < b.height)\n                    return 1\n                  return 0\n                });\n                this.graph.signIns = signIns[rid];\n                this.getSignInsError = false;\n                resolve(signIns[rid]);\n            }).catch((err) => {\n                this.getSignInsError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getNewSignIns() {\n        //get the latest sign ins for a specific friend\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-new-messages')\n            .then((data: any) => {\n                return this.parseNewMessages(data.new_messages, 'new_sign_ins_counts', 'new_sign_ins_count', 'last_sign_in_height');\n            })\n            .then((newSignIns: any) => {\n                this.graph.newSignIns = newSignIns;\n                this.getNewSignInsError = false;\n                resolve(newSignIns);\n            }).catch((err) => {\n                this.getNewSignInsError = true;\n                reject(err);\n            });\n        });\n    }\n\n    getReacts(ids, rid=null) {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-reacts', ids)\n            .then((data: any) => {\n                this.graph.reacts = this.parseMessages(data.reacts, 'new_reacts_counts', 'new_reacts_count', rid, 'chatText', 'last_react_height');\n                this.getReactsError = false;\n                resolve(data.reacts);\n            }).catch(() => {\n                this.getReactsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getComments(ids, rid=null) {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-comments', ids)\n            .then((data: any) => {\n                this.graph.comments = this.parseMessages(data.reacts, 'new_comments_counts', 'new_comments_count', rid, 'chatText', 'last_comment_height');\n                this.getCommentsError = false;\n                resolve(data.comments);\n            }).catch(() => {\n                this.getCommentsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getCommentReacts(ids, rid=null) {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-reacts', ids)\n            .then((data: any) => {\n                this.graph.commentReacts = this.parseMessages(data.reacts, 'new_comment_reacts_counts', 'new_comment_reacts_count', rid, 'chatText', 'last_comment_react_height');\n                this.getcommentReactsError = false;\n                resolve(data.comment_reacts);\n            }).catch(() => {\n                this.getcommentReactsError = true;\n                reject(null);\n            });\n        });\n    }\n\n    getCommentReplies(ids, rid=null) {\n        return new Promise((resolve, reject) => {\n            this.endpointRequest('get-graph-comments', ids)\n            .then((data: any) => {\n                this.graph.commentReplies = this.parseMessages(data.reacts, 'new_comment_comments_counts', 'new_comment_comments_count', rid, 'chatText', 'last_comment_comment_height');\n                this.getcommentRepliesError = false;\n                resolve(data.comments);\n            }).catch(() => {\n                this.getcommentRepliesError = true;\n                reject(null);\n            });\n        });\n    }\n\n    parseSentFriendRequests(sent_friend_requests) {\n        var sent_friend_requestsObj = {};\n        let sent_friend_request: any;\n        if (!this.graph.friends) this.graph.friends = [];\n        for(var i=0; i < sent_friend_requests.length; i++) {\n            sent_friend_request = sent_friend_requests[i];\n            if (!this.keys[sent_friend_request.rid]) {\n                this.keys[sent_friend_request.rid] = {\n                    dh_private_keys: [],\n                    dh_public_keys: []\n                };\n            }\n            var decrypted = this.decrypt(sent_friend_request['relationship']);\n            try {\n                var relationship = JSON.parse(decrypted);\n                if (!relationship.their_username || !relationship.their_bulletin_secret) continue;\n                sent_friend_requestsObj[sent_friend_request.rid] = sent_friend_request;\n                //not sure how this affects the friends list yet, since we can't return friends from here\n                //friends[sent_friend_request.rid] = sent_friend_request;\n                sent_friend_request['relationship'] = relationship;\n                this.friends_indexed[sent_friend_request.rid] = sent_friend_request;\n                if (this.keys[sent_friend_request.rid].dh_private_keys.indexOf(relationship.dh_private_key) === -1 && relationship.dh_private_key) {\n                    this.keys[sent_friend_request.rid].dh_private_keys.push(relationship.dh_private_key);\n                }\n            } catch(err) {\n                if (this.keys[sent_friend_request.rid].dh_public_keys.indexOf(sent_friend_request.dh_public_key) === -1 && sent_friend_request.dh_public_key) {\n                    this.keys[sent_friend_request.rid].dh_public_keys.push(sent_friend_request.dh_public_key);\n                }\n            }\n        }\n        for(var j=0; j < sent_friend_requests.length; j++) {\n            sent_friend_request = sent_friend_requests[j];\n            if(typeof(sent_friend_request['relationship']) != 'object') {\n                //TODO: VERIFY THE BULLETIN SECRET!\n                if(sent_friend_requestsObj[sent_friend_request.rid]) {\n                    this.graph.friends.push(sent_friend_requestsObj[sent_friend_request.rid]);\n                    delete sent_friend_requestsObj[sent_friend_request.rid];\n                }\n            }\n        }\n\n        var arr_sent_friend_requests = [];\n        for(let i in sent_friend_requestsObj) {\n            arr_sent_friend_requests.push(sent_friend_requestsObj[i].rid);\n            if (sent_friend_requestsObj[i].relationship && sent_friend_requestsObj[i].relationship.their_username) {\n                this.usernames[sent_friend_requestsObj[i].rid] = sent_friend_requestsObj[i].their_username;\n            }\n        }\n        \n        let sent_friend_requests_diff = new Set(arr_sent_friend_requests);\n\n        sent_friend_requests = []\n        let arr_sent_friend_request_keys = Array.from(sent_friend_requests_diff.keys())\n        for(i=0; i<arr_sent_friend_request_keys.length; i++) {\n            sent_friend_requests.push(sent_friend_requestsObj[arr_sent_friend_request_keys[i]])\n        }\n\n        return sent_friend_requests;\n    }\n\n    parseFriendRequests(friend_requests) {\n        var friend_requestsObj = {};\n        if (!this.graph.friends) this.graph.friends = [];\n        for(var i=0; i<friend_requests.length; i++) {\n            var friend_request = friend_requests[i];\n            if (!this.keys[friend_request.rid]) {\n                this.keys[friend_request.rid] = {\n                    dh_private_keys: [],\n                    dh_public_keys: []\n                };\n            }\n            var decrypted = this.decrypt(friend_request.relationship);\n            try {\n                var relationship = JSON.parse(decrypted);\n                this.graph.friends.push(friend_request);\n                delete friend_requestsObj[friend_request.rid];\n                friend_request['relationship'] = relationship;\n                this.friends_indexed[friend_request.rid] = friend_request;\n                if (this.keys[friend_request.rid].dh_private_keys.indexOf(relationship.dh_private_key) === -1 && relationship.dh_private_key) {\n                    this.keys[friend_request.rid].dh_private_keys.push(relationship.dh_private_key);\n                }\n            } catch(err) {\n                friend_requestsObj[friend_request.rid] = friend_request;\n                if (this.keys[friend_request.rid].dh_public_keys.indexOf(friend_request.dh_public_key) === -1 && friend_request.dh_public_key) {\n                    this.keys[friend_request.rid].dh_public_keys.push(friend_request.dh_public_key);\n                }\n            }\n        }\n\n        var arr_friend_requests = [];\n        for(let i in friend_requestsObj) {\n            arr_friend_requests.push(friend_requestsObj[i].rid);\n            if (friend_requestsObj[i].relationship && friend_requestsObj[i].relationship.their_username) {\n                this.usernames[friend_requestsObj[i].rid] = friend_requestsObj[i].their_username;\n            }\n        }\n\n        friend_requests = []\n        let friend_requests_diff = new Set(arr_friend_requests);\n        if(arr_friend_requests.length > 0) {\n            let arr_friend_request_keys = Array.from(friend_requests_diff.keys())\n            for(i=0; i<arr_friend_request_keys.length; i++) {\n                friend_requests.push(friend_requestsObj[arr_friend_request_keys[i]])\n            }\n        }\n        this.friend_request_count = friend_requests.length;\n        if (this.platform.is('android') || this.platform.is('ios')) {\n            this.badge.set(friend_requests.length);\n        }\n\n        return friend_requests;\n    }\n\n    parseFriends(friends) {\n        // we must call getSentFriendRequests and getFriendRequests before getting here\n        // because we need this.keys to be populated with the dh_public_keys and dh_private_keys from the requests\n        // though friends really should be cached\n        // should be key: shared-secret_rid|pub_key[:26]priv_key[:26], value: {shared_secret: <shared_secret>, friend: [transaction.dh_public_key, transaction.dh_private_key]}\n        return new Promise((resolve, reject) => {\n            //start \"just do dedup yada server because yada server adds itself to the friends array automatically straight from the api\"\n            var friendsObj = {};\n            if (!this.graph.friends) this.graph.friends = [];\n            friends = friends.concat(this.graph.friends);\n            for(var i=0; i<friends.length; i++) {\n                var friend = friends[i];\n                if (!this.keys[friend.rid]) {\n                    this.keys[friend.rid] = {\n                        dh_private_keys: [],\n                        dh_public_keys: []\n                    };\n                }\n                var decrypted;\n                var bypassDecrypt = false;\n                if (typeof friend.relationship == 'object') {\n                    bypassDecrypt = true;\n                } else {\n                    decrypted = this.decrypt(friend.relationship);\n                }\n                try {\n                    var relationship;\n                    if (!bypassDecrypt) {\n                        relationship = JSON.parse(decrypted);\n                        friend['relationship'] = relationship;\n                    }\n                    friendsObj[friend.rid] = friend;\n                    if (this.keys[friend.rid].dh_private_keys.indexOf(relationship.dh_private_key) === -1 && relationship.dh_private_key) {\n                        this.keys[friend.rid].dh_private_keys.push(relationship.dh_private_key);\n                    }\n                } catch(err) {\n                    if (this.keys[friend.rid].dh_public_keys.indexOf(friend.dh_public_key) === -1 && friend.dh_public_key) {\n                        this.keys[friend.rid].dh_public_keys.push(friend.dh_public_key);\n                    }\n                }\n            }\n\n            var secrets_rids = [];\n            var stored_secrets_keys = Object.keys(this.stored_secrets);\n            for (i=0; i < stored_secrets_keys.length; i++) {\n                var rid = stored_secrets_keys[i].slice('shared_secret-'.length, stored_secrets_keys[i].indexOf('|'));\n                secrets_rids.push(rid);\n            }\n\n            for (i=0; i < this.graph.sent_friend_requests.length; i++) {\n                var sent_friend_request = this.graph.sent_friend_requests[i];\n                if (secrets_rids.indexOf(sent_friend_request.rid) >= 0) {\n                    friendsObj[sent_friend_request.rid] = sent_friend_request;\n                }\n            }\n\n            for (i=0; i < this.graph.friend_requests.length; i++) {\n                var friend_request = this.graph.friend_requests[i];\n                if (secrets_rids.indexOf(friend_request.rid) >= 0) {\n                    friendsObj[friend_request.rid] = friend_request;\n                }\n            }\n\n            var arr_friends = Object.keys(friendsObj);\n\n            friends = []\n            let friends_diff = new Set(arr_friends);\n            if(arr_friends.length > 0) {\n                let arr_friends_keys = Array.from(friends_diff.keys())\n                for(i=0; i<arr_friends_keys.length; i++) {\n                    friends.push(friendsObj[arr_friends_keys[i]])\n                    if (friendsObj[arr_friends_keys[i]].relationship && friendsObj[arr_friends_keys[i]].relationship.their_username) {\n                        this.usernames[friendsObj[arr_friends_keys[i]].rid] = friendsObj[arr_friends_keys[i]].their_username;\n                    }\n                    if (friendsObj[arr_friends_keys[i]].username) {\n                        this.usernames[friendsObj[arr_friends_keys[i]].rid] = friendsObj[arr_friends_keys[i]].username;\n                    }\n                }\n            }\n\n            resolve(friends);\n        });\n    }\n\n    parseGroups(groups) {\n        // we must call getSentFriendRequests and getFriendRequests before getting here\n        // because we need this.keys to be populated with the dh_public_keys and dh_private_keys from the requests\n        // though friends really should be cached\n        // should be key: shared-secret_rid|pub_key[:26]priv_key[:26], value: {shared_secret: <shared_secret>, friend: [transaction.dh_public_key, transaction.dh_private_key]}\n        return new Promise((resolve, reject) => {\n            //start \"just do dedup yada server because yada server adds itself to the friends array automatically straight from the api\"\n            var groupsObj = {};\n            if (!this.graph.groups) this.graph.groups = [];\n            for(var i=0; i<groups.length; i++) {\n                var group = groups[i];\n                if (!this.keys[group.rid]) {\n                    this.keys[group.rid] = {\n                        dh_private_keys: [],\n                        dh_public_keys: []\n                    };\n                }\n                var decrypted;\n                var bypassDecrypt = false;\n                if (typeof group.relationship == 'object') {\n                    bypassDecrypt = true;\n                } else {\n                    decrypted = this.decrypt(group.relationship);\n                }\n                try {\n                    var relationship;\n                    if (!bypassDecrypt) {\n                        relationship = JSON.parse(decrypted);\n                        group['relationship'] = relationship;\n                    }\n                    if (!group.relationship.group) {\n                        continue;\n                    }\n                    groupsObj[group.rid] = group;\n                    if (this.keys[group.rid].dh_private_keys.indexOf(relationship.dh_private_key) === -1 && relationship.dh_private_key) {\n                        this.keys[group.rid].dh_private_keys.push(relationship.dh_private_key);\n                    }\n                } catch(err) {\n                    if (this.keys[group.rid].dh_public_keys.indexOf(group.dh_public_key) === -1 && group.dh_public_key) {\n                        this.keys[group.rid].dh_public_keys.push(group.dh_public_key);\n                    }\n                }\n            }\n\n            var arr_friends = Object.keys(groupsObj);\n\n            groups = []\n            let friends_diff = new Set(arr_friends);\n            if(arr_friends.length > 0) {\n                let arr_friends_keys = Array.from(friends_diff.keys())\n                for(i=0; i<arr_friends_keys.length; i++) {\n                    groups.push(groupsObj[arr_friends_keys[i]])\n                    if (groupsObj[arr_friends_keys[i]].relationship && groupsObj[arr_friends_keys[i]].relationship.their_username) {\n                        this.usernames[groupsObj[arr_friends_keys[i]].rid] = groupsObj[arr_friends_keys[i]].relationship.their_username;\n                    }\n                    if (groupsObj[arr_friends_keys[i]].username) {\n                        this.usernames[groupsObj[arr_friends_keys[i]].rid] = groupsObj[arr_friends_keys[i]].username;\n                    }\n                }\n            }\n\n            resolve(groups);\n            return groups;\n        });\n    }\n\n    parseMessages(messages, graphCounts, graphCount, rid=null, messageType=null, messageHeightType=null) {\n        this[graphCount] = 0;\n        return new Promise((resolve, reject) => {\n            this.getSharedSecrets().then(() => {\n                return this.getMessageHeights(graphCounts, messageHeightType);\n            })\n            .then(() => {\n                var chats = {};\n                dance:\n                for(var i=0; i<messages.length; i++) {\n                    var message = messages[i];\n                    if(!rid && chats[message.rid]) continue;\n                    if(rid && message.rid !== rid) continue;\n                    if (!message.rid) continue;\n                    if (!this.stored_secrets[message.rid]) continue;\n                    if (message.dh_public_key) continue;\n                    //hopefully we've prepared the stored_secrets option before getting here \n                    //by calling getSentFriendRequests and getFriendRequests\n                    for(var j=0; j<this.stored_secrets[message.rid].length; j++) {\n                        var shared_secret = this.stored_secrets[message.rid][j];\n                        try {\n                            var decrypted = this.shared_decrypt(shared_secret.shared_secret, message.relationship);\n                        } \n                        catch(error) {\n                            continue\n                        }\n                        try {\n                            var messageJson = JSON.parse(decrypted);\n                        } catch(err) {\n                            continue;\n                        }\n                        if(messageJson[messageType]) {\n                            message.relationship = messageJson;\n                            message.shared_secret = shared_secret.shared_secret\n                            message.dh_public_key = shared_secret.dh_public_key\n                            message.dh_private_key = shared_secret.dh_private_key\n                            message.username = this.usernames[message.rid];\n                            messages[message.rid] = message;\n                            if (!chats[message.rid]) {\n                                chats[message.rid] = [];\n                            }\n                            try {\n                                message.relationship.chatText = JSON.parse(Base64.decode(messageJson[messageType]));\n                                message.relationship.isInvite = true;\n                            }\n                            catch(err) {\n                                //not an invite, do nothing\n                            }\n                            chats[message.rid].push(message);\n                            if(this[graphCounts][message.rid]) {\n                                if(message.height > this[graphCounts][message.rid]) {\n                                    this[graphCount]++;\n                                    if(!this[graphCounts][message.rid]) {\n                                        this[graphCounts][message.rid] = 0;\n                                    }\n                                    this[graphCounts][message.rid]++;\n                                }\n                            } else {\n                                this[graphCounts][message.rid] = 1;\n                                this[graphCount]++;\n                            }\n                        }\n                        continue dance;\n                    }\n                }\n                resolve(chats);\n            });\n        });\n    }\n\n    parseNewMessages(messages, graphCounts, graphCount, heightType) {\n        this[graphCount] = 0;\n        this[graphCounts] = {}\n        var my_public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n        return new Promise((resolve, reject) => {\n            return this.getMessageHeights(graphCounts, heightType)\n            .then(() => {\n                var new_messages = [];\n                for(var i=0; i<messages.length; i++) {\n                    var message = messages[i];\n                    message.username = this.usernames[message.rid];\n                    if (message.public_key != my_public_key) {\n                        if(this[graphCounts][message.rid]) {\n                            if(parseInt(message.time) > this[graphCounts][message.rid]) {\n                                this[graphCounts][message.rid] = message.time;\n                                this[graphCount]++;\n                            }\n                        } else {\n                            this[graphCounts][message.rid] = parseInt(message.time);\n                            this[graphCount]++;\n                        }\n                        new_messages.push(message);\n                    }\n                }\n                return resolve(new_messages);\n            });\n        });\n    }\n\n    parseGroupMessages(key, messages, graphCounts, graphCount, rid=null, messageType=null, messageHeightType=null) {\n        this[graphCount] = 0;\n        return new Promise((resolve, reject) => {\n            this.getGroupMessageHeights(graphCounts, messageHeightType)\n            .then(() => {\n                var chats = {};\n                for(var i=0; i<messages.length; i++) {\n                    var message = messages[i];\n                    //hopefully we've prepared the stored_secrets option before getting here \n                    //by calling getSentFriendRequests and getFriendRequests\n                    try {\n                        var decrypted = this.shared_decrypt(key, message.relationship);\n                        console.log(decrypted);\n                    } \n                    catch(error) {\n                        continue\n                    }\n                    try {\n                        var messageJson = JSON.parse(decrypted);\n                    } catch(err) {\n                        continue;\n                    }\n\n                    var group_message_rid = message.requested_rid || message.rid;\n                    if(messageJson[messageType[0]] || messageJson[messageType[1]]) {\n                        message.relationship = messageJson;\n                        message.username = this.usernames[group_message_rid];\n                        messages[group_message_rid] = message;\n                        if (!chats[group_message_rid]) {\n                            chats[group_message_rid] = [];\n                        }\n                        chats[group_message_rid].push(message);\n                        if(this[graphCounts][group_message_rid]) {\n                            if(message.height > this[graphCounts][group_message_rid]) {\n                                this[graphCount]++;\n                                if(!this[graphCounts][group_message_rid]) {\n                                    this[graphCounts][group_message_rid] = 0;\n                                }\n                                this[graphCounts][group_message_rid]++;\n                            }\n                        } else {\n                            this[graphCounts][group_message_rid] = 1;\n                            this[graphCount]++;\n                        }\n                    }\n                }\n                resolve(chats);\n            });\n        });\n    }\n\n    getSharedSecrets() {\n        return new Promise((resolve, reject) => {\n            this.getFriends()\n            .then(() => {\n                for(let i in this.keys) {\n                    if(!this.stored_secrets[i]) {\n                        this.stored_secrets[i] = [];\n                    }\n                    var stored_secrets_by_dh_public_key = {}\n                    for(var ss=0; ss < this.stored_secrets[i].length; ss++) {\n                        stored_secrets_by_dh_public_key[this.stored_secrets[i][ss].dh_public_key + this.stored_secrets[i][ss].dh_private_key] = this.stored_secrets[i][ss]\n                    }\n                    for(var j=0; j < this.keys[i].dh_private_keys.length; j++) {\n                        var dh_private_key = this.keys[i].dh_private_keys[j];\n                        if (!dh_private_key) continue;\n                        for(var k=0; k < this.keys[i].dh_public_keys.length; k++) {\n                            var dh_public_key = this.keys[i].dh_public_keys[k];\n                            if (!dh_public_key) continue;\n                            if (stored_secrets_by_dh_public_key[dh_public_key + dh_private_key]) {\n                                continue;\n                            }\n                            var privk = new Uint8Array(dh_private_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                                return parseInt(h, 16)\n                            }));\n                            var pubk = new Uint8Array(dh_public_key.match(/[\\da-f]{2}/gi).map(function (h) {\n                                return parseInt(h, 16)\n                            }));\n                            var shared_secret = this.toHex(X25519.getSharedKey(privk, pubk));\n                            this.stored_secrets[i].push({\n                                shared_secret: shared_secret,\n                                dh_public_key: dh_public_key,\n                                dh_private_key: dh_private_key,\n                                rid: i\n                            });\n                        }\n                    }\n                }\n                resolve();\n            });\n        });\n    }\n\n    getSharedSecretForRid(rid) {\n        return new Promise((resolve, reject) => {\n            this.getSharedSecrets()\n            .then(() => {\n                if (this.stored_secrets[rid] && this.stored_secrets[rid].length > 0) {\n                    resolve(this.stored_secrets[rid][0]);\n                } else {\n                    reject('no shared secret found for rid: ' + rid);         \n                }\n            });\n        });\n    }\n\n    getMessageHeights(graphCounts, heightType) {\n        this[graphCounts] = {};\n        return new Promise((resolve, reject) => {\n            this.storage.forEach((value, key) => {\n                if (key.indexOf(heightType) === 0) {\n                    var rid = key.slice(heightType + '-'.length);\n                    this[graphCounts][rid] = parseInt(value);\n                }\n            })\n            .then(() => {\n                resolve();\n            });\n        });\n    }\n\n    getGroupMessageHeights(graphCounts, heightType) {\n        this[graphCounts] = {};\n        return new Promise((resolve, reject) => {\n            this.storage.forEach((value, key) => {\n                if (key.indexOf(heightType) === 0) {\n                    var rid = key.slice(heightType + '-'.length);\n                    this[graphCounts][rid] = parseInt(value);\n                }\n            })\n            .then(() => {\n                resolve();\n            });\n        });\n    }\n\n    decrypt(message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.bulletinSecretService.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return decipher.output.data\n    }\n\n    shared_decrypt(shared_secret, message) {\n        var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(shared_secret).digest().toHex(), 'salt', 400, 32);\n        var decipher = forge.cipher.createDecipher('AES-CBC', key);\n        var enc = this.hexToBytes(message);\n        decipher.start({iv: enc.slice(0,16)});\n        decipher.update(forge.util.createBuffer(enc.slice(16)));\n        decipher.finish();\n        return Base64.decode(decipher.output.data);\n    }\n\n    hexToByteArray(str) {\n        if (!str) {\n          return new Uint8Array([]);\n        }\n        \n        var a = [];\n        for (var i = 0, len = str.length; i < len; i+=2) {\n          a.push(parseInt(str.substr(i,2),16));\n        }\n        \n        return new Uint8Array(a);\n      }\n\n    hexToBytes(s) {\n        var arr = []\n        for (var i = 0; i < s.length; i += 2) {\n            var c = s.substr(i, 2);\n            arr.push(parseInt(c, 16));\n        }\n        return String.fromCharCode.apply(null, arr);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/graph.service.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { HttpModule } from '@angular/http';\nimport { CommonModule } from '@angular/common';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { PostModal } from '../pages/home/postmodal';\nimport { ListPage } from '../pages/list/list';\nimport { Settings } from '../pages/settings/settings';\nimport { ChatPage } from '../pages/chat/chat';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { GroupPage } from '../pages/group/group';\nimport { SiaFiles } from '../pages/siafiles/siafiles';\nimport { StreamPage } from '../pages/stream/stream';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { QRScanner } from '@ionic-native/qr-scanner';\nimport { NgxQRCodeModule } from 'ngx-qrcode2';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { GraphService } from './graph.service';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { PeerService } from './peer.service';\nimport { SettingsService } from './settings.service';\nimport { WalletService } from './wallet.service';\nimport { TransactionService } from './transaction.service';\nimport { OpenGraphParserService } from './opengraphparser.service'\nimport { FirebaseService } from './firebase.service';\nimport { SendReceive } from '../pages/sendreceive/sendreceive';\nimport { Clipboard } from '@ionic-native/clipboard';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Badge } from '@ionic-native/badge';\nimport { Deeplinks } from '@ionic-native/deeplinks';\nimport { Firebase } from '@ionic-native/firebase';\nimport { EmojiPickerModule } from '@ionic-tools/emoji-picker';\nimport { File } from '@ionic-native/file';\nimport { AutoCompleteModule, AutoCompleteComponent } from 'ionic2-auto-complete';\nimport { CompleteTestService } from './autocomplete.provider';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    PostModal,\n    ListPage,\n    Settings,\n    SendReceive,\n    ChatPage,\n    ProfilePage,\n    GroupPage,\n    SiaFiles,\n    StreamPage\n  ],\n  imports: [\n    BrowserModule,\n    AutoCompleteModule,\n    IonicModule.forRoot(MyApp),\n    IonicStorageModule.forRoot({\n      name: '__mydb',\n         driverOrder: ['sqlite', 'websql', 'indexeddb']\n    }),\n    NgxQRCodeModule,\n    HttpModule,\n    EmojiPickerModule.forRoot(),\n    CommonModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    PostModal,\n    ListPage,\n    Settings,\n    SendReceive,\n    ChatPage,\n    ProfilePage,\n    GroupPage,\n    SiaFiles,\n    StreamPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    QRScanner,\n    NgxQRCodeModule,\n    GraphService,\n    BulletinSecretService,\n    PeerService,\n    SettingsService,\n    WalletService,\n    TransactionService,\n    OpenGraphParserService,\n    Clipboard,\n    SocialSharing,\n    Badge,\n    Deeplinks,\n    Firebase,\n    FirebaseService,\n    File,\n    CompleteTestService,\n    AutoCompleteComponent\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { GraphService } from './graph.service';\nimport { SettingsService } from './settings.service';\nimport { BulletinSecretService } from './bulletinSecret.service';\nimport { WalletService } from './wallet.service';\nimport { Events } from 'ionic-angular';\n\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\nimport { Settings } from '../pages/settings/settings';\nimport { SiaFiles } from '../pages/siafiles/siafiles';\nimport { StreamPage } from '../pages/stream/stream';\nimport { SendReceive } from '../pages/sendreceive/sendreceive';\n//import { ProfilePage } from '../pages/profile/profile';\n//import { SendReceive } from '../pages/sendreceive/sendreceive';\n\ndeclare var forge;\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any;\n\n  pages: Array<{title: string, label: string, component: any, count: any, color: any}>;\n  graph: any;\n  friend_request_count: any;\n  new_messages_count: any;\n\n  constructor(\n    public platform: Platform,\n    public statusBar: StatusBar,\n    public splashScreen: SplashScreen,\n    private walletService: WalletService,\n    private graphService: GraphService,\n    public settingsService: SettingsService,\n    private bulletinSecretService: BulletinSecretService,\n    public events: Events\n  ) {\n    events.subscribe('graph', () => {\n      this.rootPage = HomePage;\n    });\n    events.subscribe('pages-error', () => {\n      \n    });\n    this.graphService.graph = {\n      comments: \"\",\n      reacts: \"\",\n      commentReacts: \"\"\n    }\n    this.initializeApp();\n    this.walletService.get().then((data: any) => {\n      this.rootPage = Settings;\n    }).catch(() => {\n      this.rootPage = Settings;\n    });\n\n    this.pages = [\n      { title: 'Home', label: 'Dashboard', component: HomePage, count: false, color: '' },\n      { title: 'Stream', label: 'Stream', component: StreamPage, count: false, color: '' },\n      { title: 'Groups', label: 'Groups', component: ListPage, count: false, color: '' },\n      { title: 'Files', label: 'Files', component: SiaFiles, count: false, color: '' },\n      { title: 'Friends', label: 'Friends', component: ListPage, count: false, color: '' },\n      { title: 'Messages', label: 'Messages', component: ListPage, count: false, color: '' },\n      { title: 'Friend Requests', label: 'Friend Requests', component: ListPage, count: false, color: '' },\n      { title: 'Sent Requests', label: 'Sent Requests', component: ListPage, count: false, color: '' },\n      { title: 'Send / Receive', label: 'Send / Receive', component: SendReceive, count: false, color: '' },\n      { title: 'Identity', label: 'Identity', component: Settings, count: false, color: '' }\n    ];\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      if (this.platform.is('android') || this.platform.is('ios')) {\n        this.statusBar.styleDefault();\n        this.splashScreen.hide();\n      }\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component, {pageTitle: page});\n  }\n\n  decrypt(message) {\n      var key = forge.pkcs5.pbkdf2(forge.sha256.create().update(this.bulletinSecretService.key.toWIF()).digest().toHex(), 'salt', 400, 32);\n      var decipher = forge.cipher.createDecipher('AES-CBC', key);\n      var enc = this.hexToBytes(message);\n      decipher.start({iv: enc.slice(0,16)});\n      decipher.update(forge.util.createBuffer(enc.slice(16)));\n      decipher.finish();\n      return decipher.output\n  }\n\n  hexToBytes(s) {\n      var arr = []\n      for (var i = 0; i < s.length; i += 2) {\n          var c = s.substr(i, 2);\n          arr.push(parseInt(c, 16));\n      }\n      return String.fromCharCode.apply(null, arr);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { AlertController, LoadingController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { SettingsService } from '../../app/settings.service';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { ChatPage } from '../chat/chat';\nimport { GroupPage } from '../group/group';\nimport { ProfilePage } from '../profile/profile';\nimport { Events } from 'ionic-angular';\nimport { Http } from '@angular/http';\n\ndeclare var X25519;\n\n@Component({\n  selector: 'page-list',\n  templateUrl: 'list.html'\n})\nexport class ListPage {\n  selectedItem: any;\n  pageTitle: any;\n  icons: string[];\n  items: Array<{pageTitle: string, transaction: object}>;\n  blockchainAddress: any;\n  balance: any;\n  baseUrl: any;\n  createdCode: any;\n  confirmCode: any;\n  loading: any;\n  loadingBalance: any;\n  loadingModal: any;\n  createdCodeEncoded: any;\n  friend_request: any;\n  context: any;\n  signIn: any;\n  signInText: any;\n  rid: any;\n  label: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private storage: Storage,\n    private graphService: GraphService,\n    private bulletinSecretService: BulletinSecretService,\n    private walletService: WalletService,\n    private transactionService: TransactionService,\n    private socialSharing: SocialSharing,\n    private alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public events: Events,\n    private ahttp: Http,\n    private settingsService: SettingsService\n  ) {\n    this.loadingModal = this.loadingCtrl.create({\n        content: 'Please wait...'\n    });\n    this.refresh(null)\n    .catch(() => {\n      console.log('error refreshing listpage')\n    });\n\n  }\n\n  refresh(refresher) {\n    return this.walletService.get()\n    .then(() => {\n      this.loading = true;\n      this.loadingBalance = true;\n\n      // If we navigated to this page, we will have an item available as a nav param\n      return this.storage.get('blockchainAddress');\n    })\n    .then((blockchainAddress) => {\n        this.blockchainAddress = blockchainAddress;\n        return this.storage.get('baseUrl')\n    })\n    .then((baseUrl) => {\n      this.baseUrl = baseUrl;\n      this.selectedItem = this.navParams.get('item');\n      this.context = this.navParams.get('context');\n      this.pageTitle = this.selectedItem ? this.selectedItem.pageTitle : this.navParams.get('pageTitle').title;\n      return this.choosePage();\n    })\n    .then(() => {\n      if(refresher) refresher.complete();\n    }).catch(() => {\n        console.log('listpage walletService error');\n    });\n  }\n\n  choosePage() {\n    return new Promise((resolve, reject) => {\n      if(!this.selectedItem) {\n        this.label = this.navParams.get('pageTitle').label;\n        // Let's populate this page with some filler content for funzies\n        this.icons = ['flask', 'wifi', 'beer', 'football', 'basketball', 'paper-plane',\n        'american-football', 'boat', 'bluetooth', 'build'];\n        var my_public_key = '';\n        var graphArray = [];\n        if (this.pageTitle == 'Friends') {\n          return this.graphService.getFriends()\n          .then(() => {\n            var graphArray = this.graphService.graph.friends;\n            graphArray = this.getDistinctFriends(graphArray).friend_list;\n            graphArray.sort(function (a, b) {\n                if (a.relationship.their_username.toLowerCase() < b.relationship.their_username.toLowerCase())\n                  return -1\n                if ( a.relationship.their_username.toLowerCase() > b.relationship.their_username.toLowerCase())\n                  return 1\n                return 0\n            });\n            this.makeList(graphArray);\n            this.loading = false;\n          }).catch((err) => {\n              console.log('listpage getFriends error: ' + err);\n          });\n        } else if (this.pageTitle == 'Groups') {\n          my_public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n          return this.graphService.getGroups()\n          .then(() => {\n            return this.graphService.getNewGroupMessages();\n          })\n          .then((graphArray) => {\n            var messages = this.markNew(my_public_key, graphArray, this.graphService.new_group_messages_counts);\n            var groupsWithMessagesList = this.getDistinctGroups(messages);\n            this.populateRemainingGroups(groupsWithMessagesList.group_list, groupsWithMessagesList.used_rids);\n            this.loading = false;\n            groupsWithMessagesList.group_list.sort(function (a, b) {\n                if (a.relationship.their_username.toLowerCase() < b.relationship.their_username.toLowerCase())\n                  return -1\n                if ( a.relationship.their_username.toLowerCase() > b.relationship.their_username.toLowerCase())\n                  return 1\n                return 0\n            });\n            return this.makeList(groupsWithMessagesList.group_list);\n          }).catch((err) => {\n              console.log(err);\n          });\n        } else if (this.pageTitle == 'Messages') {\n          my_public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n          return this.graphService.getFriends()\n          .then(() => {\n            return this.graphService.getNewMessages();\n          })\n          .then((graphArray) => {\n            var messages = this.markNew(my_public_key, graphArray, this.graphService.new_messages_counts);\n            var friendsWithMessagesList = this.getDistinctFriends(messages);\n            this.populateRemainingFriends(friendsWithMessagesList.friend_list, friendsWithMessagesList.used_rids);\n            this.loading = false;\n            friendsWithMessagesList.friend_list.sort(function (a, b) {\n                if (a.relationship.their_username.toLowerCase() < b.relationship.their_username.toLowerCase())\n                  return -1\n                if ( a.relationship.their_username.toLowerCase() > b.relationship.their_username.toLowerCase())\n                  return 1\n                return 0\n            });\n            return this.makeList(friendsWithMessagesList.friend_list);\n          }).catch((err) => {\n              console.log(err);\n          });\n        } else if (this.pageTitle == 'Sign Ins') {\n          my_public_key = this.bulletinSecretService.key.getPublicKeyBuffer().toString('hex');\n          return this.graphService.getFriends()\n          .then(() => {\n            return this.graphService.getNewSignIns();\n          })\n          .then((graphArray) => {\n              var sign_ins = this.markNew(my_public_key, graphArray, this.graphService.new_sign_ins_counts);\n              var friendsWithSignInsList = this.getDistinctFriends(sign_ins);\n              this.populateRemainingFriends(friendsWithSignInsList.friend_list, friendsWithSignInsList.used_rids);\n              this.loading = false;\n              return this.makeList(friendsWithSignInsList.friend_list);\n          }).catch(() => {\n              console.log('listpage getFriends or getNewSignIns error');\n          });\n        } else if (this.pageTitle == 'Friend Requests') {\n          return this.graphService.getFriendRequests()\n          .then(() => {\n              var graphArray = this.graphService.graph.friend_requests;\n              graphArray.sort(function (a, b) {\n                  if (a.username.toLowerCase() < b.username.toLowerCase())\n                    return -1\n                  if ( a.username.toLowerCase() > b.username.toLowerCase())\n                    return 1\n                  return 0\n              });\n              this.loading = false;\n              return this.makeList(graphArray);\n          }).catch(() => {\n              console.log('listpage getFriendRequests error');\n          });\n        } else if (this.pageTitle == 'Sent Requests') {\n          return this.graphService.getSentFriendRequests()\n          .then(() => {\n              var graphArray = this.graphService.graph.sent_friend_requests;\n              graphArray.sort(function (a, b) {\n                  if (a.username.toLowerCase() < b.username.toLowerCase())\n                    return -1\n                  if ( a.username.toLowerCase() > b.username.toLowerCase())\n                    return 1\n                  return 0\n              });\n              this.loading = false;\n              return this.makeList(graphArray);\n          }).catch(() => {\n              console.log('listpage getSentFriendRequests error');\n          });\n        } else if (this.pageTitle == 'Reacts Detail') {\n          graphArray = this.navParams.get('detail');\n          this.loading = false;\n          return this.makeList(graphArray);\n        } else if (this.pageTitle == 'Comment Reacts Detail') {\n          graphArray = this.navParams.get('detail');\n          this.loading = false;\n          return this.makeList(graphArray);\n        }\n      } else {\n        this.loading = false;\n        this.loadingBalance = false;\n        if (this.pageTitle == 'Sent Requests') {\n          resolve();\n        }\n        else if (this.pageTitle == 'Friend Requests') {\n          this.friend_request = this.navParams.get('item').transaction;\n          resolve();\n        }\n        else if (this.pageTitle == 'Sign Ins') {\n          this.rid = this.navParams.get('item').transaction.rid;\n          this.graphService.getSignIns(this.rid)\n          .then((signIn: any) => {\n            this.signIn = signIn[0];\n            this.signInText = this.signIn.relationship.signIn;\n            resolve();\n          }).catch(() => {\n            console.log('listpage getSignIns error');\n            reject();\n          });\n        }\n      }\n    });\n  }\n\n  markNew(my_public_key, graphArray, graphCount) {\n    var collection = [];\n    for (let i in graphArray) {\n      if(my_public_key !== graphArray[i]['public_key'] && graphCount[i] && graphCount[i] < graphArray[i]['height']) {\n        graphArray[i]['new'] = true;\n      }\n      collection.push(graphArray[i]);\n    }\n    return collection;\n  }\n\n  getDistinctFriends(collection) {\n    // using the rids from new items\n    // make a list of friends sorted by block height descending (most recent)\n    var friend_list = [];\n    var used_rids = [];\n    for (var i=0; i < collection.length; i++) {\n      // we could have multiple transactions per friendship\n      // so make sure we're going using the rid once\n      var item = collection[i];\n      if(!item.relationship || !item.relationship.their_username) {\n        continue\n      }\n      if(used_rids.indexOf(item.rid) === -1) {\n        friend_list.push(item);\n        used_rids.push(item.rid);\n      }\n    }\n    return {\n      friend_list: friend_list,\n      used_rids: used_rids\n    };\n  }\n\n  getDistinctGroups(collection) {\n    // using the rids from new items\n    // make a list of friends sorted by block height descending (most recent)\n    var group_list = [];\n    var used_rids = [];\n    for (var i=0; i < collection.length; i++) {\n      // we could have multiple transactions per friendship\n      // so make sure we're going using the rid once\n      var item = collection[i];\n      if(!item.relationship || !item.relationship.their_username) {\n        continue\n      }\n      if(used_rids.indexOf(item.rid) === -1) {\n        group_list.push(item);\n        used_rids.push(item.rid);\n      }\n    }\n    return {\n      group_list: group_list,\n      used_rids: used_rids\n    };\n  }\n\n  populateRemainingFriends(friend_list, used_rids) {\n    // now add everyone else\n    for (var i=0; i < this.graphService.graph.friends.length; i++) {\n      if (used_rids.indexOf(this.graphService.graph.friends[i].rid) === -1) {\n        friend_list.push(this.graphService.graph.friends[i]);\n        used_rids.push(this.graphService.graph.friends[i].rid);\n      }\n    }\n  }\n\n  populateRemainingGroups(friend_list, used_rids) {\n    // now add everyone else\n    for (var i=0; i < this.graphService.graph.groups.length; i++) {\n      if (used_rids.indexOf(this.graphService.graph.groups[i].rid) === -1) {\n        friend_list.push(this.graphService.graph.groups[i]);\n        used_rids.push(this.graphService.graph.groups[i].rid);\n      }\n    }\n  }\n\n  makeList(graphArray) {\n    return new Promise((resolve, reject) => {\n      this.items = [];\n      for (let i = 0; i < graphArray.length; i++) {\n        this.items.push({\n          pageTitle: this.pageTitle,\n          transaction: graphArray[i]\n        });\n      }\n      resolve();\n    })\n  }\n\n  newChat() {\n    var item = {pageTitle: {title:\"Friends\"}, context: 'newChat'};\n    this.navCtrl.push(ListPage, item);\n  }\n\n  itemTapped(event, item) {\n    if(this.pageTitle == 'Messages') {\n      this.navCtrl.push(ChatPage, {\n        item: item\n      });\n    } else if(this.pageTitle == 'Groups') {\n      this.navCtrl.push(GroupPage, {\n        item: item\n      });\n    } else if(this.pageTitle == 'Friends') {\n      this.navCtrl.push(ProfilePage, {\n        item: item.transaction\n      });\n    } else {\n      this.navCtrl.push(ListPage, {\n        item: item\n      });\n    }\n  }\n\n  accept() {\n    let alert = this.alertCtrl.create();\n    alert.setTitle('Approve Transaction');\n    alert.setSubTitle('You are about to spend 1.01 coins.');\n    alert.addButton({\n        text: 'Cancel',\n        handler: (data: any) => {\n            alert.dismiss();\n        }\n    });\n    alert.addButton({\n      text: 'Confirm',\n      handler: (data: any) => {\n        this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/ns?requester_rid=' + this.friend_request.requester_rid + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret)\n        .subscribe((res) => {\n          let info = res.json();\n          // camera permission was granted\n          var requester_rid = info.requester_rid;\n          var requested_rid = info.requested_rid;\n          if (requester_rid && requested_rid) {\n              // get rid from bulletin secrets\n          } else {\n              requester_rid = '';\n              requested_rid = '';\n          }\n          //////////////////////////////////////////////////////////////////////////\n          // create and send transaction to create the relationship on the blockchain\n          //////////////////////////////////////////////////////////////////////////\n          this.walletService.get().then(() => {\n              var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n              var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n              var dh_private_key = this.toHex(raw_dh_private_key);\n              var dh_public_key = this.toHex(raw_dh_public_key);\n              info.dh_private_key = dh_private_key;\n              info.dh_public_key = dh_public_key;\n              return this.transactionService.generateTransaction({\n                  relationship: {\n                      dh_private_key: info.dh_private_key,\n                      their_bulletin_secret: info.bulletin_secret,\n                      their_username: info.username,\n                      my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                      my_username: this.bulletinSecretService.username\n                  },\n                  dh_public_key: info.dh_public_key,\n                  requested_rid: info.requested_rid,\n                  requester_rid: info.requester_rid,\n                  to: info.to\n              });\n          }).then((txn) => {\n              return this.transactionService.sendTransaction();\n          }).then((txn) => {\n            var alert = this.alertCtrl.create();\n            alert.setTitle('Friend Accept Sent');\n            alert.setSubTitle('Your Friend Request acceptance has been submitted successfully.');\n            alert.addButton('Ok');\n            alert.present();\n            \n            this.refresh(null).then(() => {\n              this.navCtrl.pop();\n            });\n          }).catch((err) => {\n              console.log(err);\n          });\n        },\n        (err) => {\n            //this.loadingModal2.dismiss();\n            console.log(err);\n        });\n      }\n    });\n    alert.present();\n  }\n\n  sendSignIn() {\n    let alert = this.alertCtrl.create();\n    alert.setTitle('Approve transaction');\n    alert.setSubTitle('You are about to spend 0.01 coins ( 0.01 fee)');\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Confirm',\n      handler: (data: any) => {\n        this.walletService.get().then(() => {\n            return this.graphService.getSharedSecretForRid(this.rid);\n        }).then((result) => {\n          if (result) {\n            let alert = this.alertCtrl.create();\n            alert.setTitle('Message sent');\n            alert.setSubTitle('Your message has been sent successfully');\n            alert.addButton('Ok');\n            alert.present();\n          }\n          this.navCtrl.pop();\n        });\n       }\n    });\n    alert.present();\n  }\n\n  share(code) {\n    this.socialSharing.share(code);\n  }\n\n  showChat() {\n      var item = {pageTitle: {title:\"Chat\"}};\n      this.navCtrl.push(ListPage, item);\n  }\n\n  showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n  }\n\n  toHex(byteArray) {\n    var callback = function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }\n    return Array.from(byteArray, callback).join('')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GraphService } from '../../app/graph.service';\nimport { BulletinSecretService } from '../../app/bulletinSecret.service';\nimport { WalletService } from '../../app/wallet.service';\nimport { TransactionService } from '../../app/transaction.service';\nimport { ListPage } from '../list/list';\nimport { ChatPage } from '../chat/chat';\nimport { GroupPage } from '../group/group';\nimport { Http } from '@angular/http';\nimport { AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { SettingsService } from '../../app/settings.service';\nimport { Events } from 'ionic-angular';\n\ndeclare var Base64;\ndeclare var forge;\ndeclare var X25519;\ndeclare var foobar;\n\n@Component({\n    selector: 'page-profile',\n    templateUrl: 'profile.html'\n})\nexport class ProfilePage {\n    baseUrl: any;\n    loadingModal: any;\n    prev_name: any;\n    item: any;\n    isFriend: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public walletService: WalletService,\n        public graphService: GraphService,\n        private bulletinSecretService: BulletinSecretService,\n        private ahttp: Http,\n        public loadingCtrl: LoadingController,\n        public settingsService: SettingsService,\n        public alertCtrl: AlertController,\n        public transactionService: TransactionService,\n        public toastCtrl: ToastController,\n        public events: Events\n    ) {\n        this.item = this.navParams.get('item');\n        this.refresh(null);\n    }\n\n    refresh(refresher) {\n        this.isFriend = null;\n        this.graphService.getFriends()\n        .then(() => {\n            for (var i=0; i < this.graphService.graph.friends.length; i++) {\n                var friend = this.graphService.graph.friends[i];\n                if (friend.rid === this.item.rid || friend.rid === this.item.requested_rid) {\n                    this.isFriend = true;\n                }\n            }\n            this.isFriend = this.isFriend || false;\n        })\n    }\n\n    invite() {\n        this.graphService.getFriends()\n        .then(() => {\n            let alert = this.alertCtrl.create();\n            alert.setTitle('Invite');\n            alert.setSubTitle('Select a friend to invite.');\n            alert.addButton('Confirm');\n            alert.addInput({\n                name: 'radio1',\n                type: 'radio',\n                label: 'Radio 1',\n                value: 'value1',\n                checked: true\n            });\n            this.graphService.graph.friends.map((friend) => {\n                return friend;\n            });\n            alert.present();\n        });\n    }\n\n    addFriend() {\n        let info: any;\n        var buttons = [];\n        buttons.push({\n            text: 'Add',\n            handler: (data) => {\n                // camera permission was granted\n                var requester_rid = this.graphService.graph.rid;\n                var requested_rid = this.item.rid;\n                if (requester_rid && requested_rid) {\n                    // get rid from bulletin secrets\n                } else {\n                    requester_rid = '';\n                    requested_rid = '';\n                }\n                //////////////////////////////////////////////////////////////////////////\n                // create and send transaction to create the relationship on the blockchain\n                //////////////////////////////////////////////////////////////////////////\n                var not_this_address = foobar.bitcoin.ECPair.fromPublicKeyBuffer(foobar.Buffer.Buffer.from(this.item.public_key, 'hex')).getAddress();\n                for (var h=0; h < this.item.outputs.length; h++) {\n                    if (this.item.outputs[h].to != not_this_address) {\n                        var address = this.item.outputs[h].to;\n                    }\n                }\n                this.walletService.get().then(() => {\n                    var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n                    var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n                    var dh_private_key = this.toHex(raw_dh_private_key);\n                    var dh_public_key = this.toHex(raw_dh_public_key);\n                    return this.transactionService.generateTransaction({\n                        relationship: {\n                            dh_private_key: dh_private_key,\n                            their_bulletin_secret: this.item.relationship.their_bulletin_secret,\n                            their_username: this.item.relationship.their_username,\n                            my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                            my_username: this.bulletinSecretService.username\n                        },\n                        dh_public_key: dh_public_key,\n                        requested_rid: requested_rid,\n                        requester_rid: requester_rid,\n                        to: this.item.relationship.group === true ? this.item.relationship.their_address : address\n                    });\n                }).then((hash) => {\n                    return this.transactionService.sendTransaction();\n                }).then((txn) => {\n                    var alert = this.alertCtrl.create();\n                    alert.setTitle('Friend Request Sent');\n                    alert.setSubTitle('Your Friend Request has been sent successfully.');\n                    alert.addButton('Ok');\n                    alert.present();\n                }).catch((err) => {\n                    console.log(err);\n                });\n\n            }\n        });\n        let alert = this.alertCtrl.create({\n            buttons: buttons\n        });\n        alert.setTitle('Add friend');\n        alert.setSubTitle('Do you want to add ' + this.item.relationship.their_username + '?');\n        alert.present();\n    }\n\n    joinGroup() {\n        return this.ahttp.get(this.settingsService.remoteSettings['baseUrl'] + '/ns?requested_rid=' + this.item.rid + '&bulletin_secret=' + this.bulletinSecretService.bulletin_secret)\n        .subscribe((res) => {\n            return new Promise((resolve, reject) => {\n                let invite = res.json();\n                var raw_dh_private_key = window.crypto.getRandomValues(new Uint8Array(32));\n                var raw_dh_public_key = X25519.getPublic(raw_dh_private_key);\n                var dh_private_key = this.toHex(raw_dh_private_key);\n                var dh_public_key = this.toHex(raw_dh_public_key);\n                resolve({\n                    their_address: invite.their_address,\n                    their_public_key: invite.their_public_key,\n                    their_bulletin_secret: invite.their_bulletin_secret,\n                    their_username: invite.their_username,\n                    dh_public_key: dh_public_key,\n                    dh_private_key: dh_private_key,\n                    requested_rid: invite.requested_rid,\n                    requester_rid: this.graphService.graph.rid\n                })\n            })\n            .then((info: any) => {\n                return this.transactionService.generateTransaction({\n                    relationship: {\n                        dh_private_key: info.dh_private_key,\n                        my_bulletin_secret: this.bulletinSecretService.generate_bulletin_secret(),\n                        my_username: this.bulletinSecretService.username,\n                        their_address: info.their_address,\n                        their_public_key: info.their_public_key,\n                        their_bulletin_secret: info.their_bulletin_secret,\n                        their_username: info.their_username,\n                        group: true\n                    },\n                    requester_rid: info.requester_rid,\n                    requested_rid: info.requested_rid,\n                    dh_public_key: info.dh_public_key,\n                    to: info.their_address\n                })\n            \n            }).then((txn) => {\n                return this.transactionService.sendTransaction();\n            })\n            .then((hash) => {\n                if (this.settingsService.remoteSettings['walletUrl']) {\n                    return this.graphService.getInfo();\n                }\n            })\n            .then(() => {\n                return this.refresh(null)\n            })\n            .then(() => {\n                this.events.publish('pages-settings');\n            })\n            .catch((err) => {\n                this.events.publish('pages');\n            });\n        });\n    }\n\n    message() {\n        var page = this.item.relationship.group === true ? GroupPage : ChatPage;\n        this.navCtrl.push(page, {\n          item: {\n              transaction: this.item\n            }\n        });\n    }\n\n    showFriendRequests() {\n      var item = {pageTitle: {title:\"Friend Requests\"}};\n      this.navCtrl.push(ListPage, item);\n    }\n\n    toHex(byteArray) {\n        var callback = function(byte) {\n            return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n        }\n        return Array.from(byteArray, callback).join('')\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}